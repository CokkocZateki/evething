!function(e){"use strict";e.extend({tablesorter:new function(){var t=this;t.version="2.10.8";t.parsers=[];t.widgets=[];t.defaults={theme:"default",widthFixed:false,showProcessing:false,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:true,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:true,delayInit:false,serverSideSorting:false,headers:{},ignoreCase:true,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:false,sortReset:false,sortRestart:false,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:true,initialized:null,tableClass:"tablesorter",cssAsc:"tablesorter-headerAsc",cssChildRow:"tablesorter-childRow",cssDesc:"tablesorter-headerDesc",cssHeader:"tablesorter-header",cssHeaderRow:"tablesorter-headerRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",cssProcessing:"tablesorter-processing",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:false,headerList:[],empties:{},strings:{},parsers:[]};function i(e){if(typeof console!=="undefined"&&typeof console.log!=="undefined"){console.log(e)}else{alert(e)}}function a(e,t){i(e+" ("+((new Date).getTime()-t.getTime())+"ms)")}t.log=i;t.benchmark=a;function r(t,i,a){if(!i){return""}var r=t.config,s=r.textExtraction,n="";if(s==="simple"){if(r.supportsTextContent){n=i.textContent}else{n=e(i).text()}}else{if(typeof s==="function"){n=s(i,t,a)}else if(typeof s==="object"&&s.hasOwnProperty(a)){n=s[a](i,t,a)}else{n=r.supportsTextContent?i.textContent:e(i).text()}}return e.trim(n)}function s(e,a,s,n){var o,l=t.parsers.length,h=false,c="",f=true;while(c===""&&f){s++;if(a[s]){h=a[s].cells[n];c=r(e,h,n);if(e.config.debug){i("Checking if value was empty on row "+s+", column: "+n+': "'+c+'"')}}else{f=false}}while(--l>=0){o=t.parsers[l];if(o&&o.id!=="text"&&o.is&&o.is(c,e,h)){return o}}return t.getParserById("text")}function n(e){var a=e.config,r=a.$tbodies=a.$table.children("tbody:not(."+a.cssInfoBlock+")"),n,o,l,h,c,f,d,u="";if(r.length===0){return a.debug?i("*Empty table!* Not building a parser cache"):""}n=r[0].rows;if(n[0]){o=[];l=n[0].cells.length;for(h=0;h<l;h++){c=a.$headers.filter(":not([colspan])");c=c.add(a.$headers.filter('[colspan="1"]')).filter('[data-column="'+h+'"]:last');f=a.headers[h];d=t.getParserById(t.getData(c,f,"sorter"));a.empties[h]=t.getData(c,f,"empty")||a.emptyTo||(a.emptyToBottom?"bottom":"top");a.strings[h]=t.getData(c,f,"string")||a.stringTo||"max";if(!d){d=s(e,n,-1,h)}if(a.debug){u+="column:"+h+"; parser:"+d.id+"; string:"+a.strings[h]+"; empty: "+a.empties[h]+"\n"}o.push(d)}}if(a.debug){i(u)}a.parsers=o}function o(s){var n=s.tBodies,o=s.config,l,h,c=o.parsers,f,d,u,p,m,g,E,v,y=[];o.cache={};if(!c){return o.debug?i("*Empty table!* Not building a cache"):""}if(o.debug){v=new Date}if(o.showProcessing){t.isProcessing(s,true)}for(m=0;m<n.length;m++){o.cache[m]={row:[],normalized:[]};if(!e(n[m]).hasClass(o.cssInfoBlock)){l=n[m]&&n[m].rows.length||0;h=n[m].rows[0]&&n[m].rows[0].cells.length||0;for(u=0;u<l;++u){g=e(n[m].rows[u]);E=[];if(g.hasClass(o.cssChildRow)){o.cache[m].row[o.cache[m].row.length-1]=o.cache[m].row[o.cache[m].row.length-1].add(g);continue}o.cache[m].row.push(g);for(p=0;p<h;++p){f=r(s,g[0].cells[p],p);d=c[p].format(f,s,g[0].cells[p],p);E.push(d);if((c[p].type||"").toLowerCase()==="numeric"){y[p]=Math.max(Math.abs(d)||0,y[p]||0)}}E.push(o.cache[m].normalized.length);o.cache[m].normalized.push(E)}o.cache[m].colMax=y}}if(o.showProcessing){t.isProcessing(s)}if(o.debug){a("Building cache for "+l+" rows",v)}}function l(i,r){var s=i.config,n=i.tBodies,o=[],l=s.cache,h,c,f,d,u,p,m,g,E,v,y,_;if(!l[0]){return}if(s.debug){_=new Date}for(E=0;E<n.length;E++){u=e(n[E]);if(u.length&&!u.hasClass(s.cssInfoBlock)){p=t.processTbody(i,u,true);h=l[E].row;c=l[E].normalized;f=c.length;d=f?c[0].length-1:0;for(m=0;m<f;m++){y=c[m][d];o.push(h[y]);if(!s.appender||!s.removeRows){v=h[y].length;for(g=0;g<v;g++){p.append(h[y][g])}}}t.processTbody(i,p,false)}}if(s.appender){s.appender(i,o)}if(s.debug){a("Rebuilt table",_)}if(!r){t.applyWidget(i)}e(i).trigger("sortEnd",i)}function h(t){var i=[],a={},r=0,s=e(t).find("thead:eq(0), tfoot").children("tr"),n,o,l,h,c,f,d,u,p,m,g,E;for(n=0;n<s.length;n++){f=s[n].cells;for(o=0;o<f.length;o++){c=f[o];d=c.parentNode.rowIndex;u=d+"-"+c.cellIndex;p=c.rowSpan||1;m=c.colSpan||1;if(typeof i[d]==="undefined"){i[d]=[]}for(l=0;l<i[d].length+1;l++){if(typeof i[d][l]==="undefined"){g=l;break}}a[u]=g;r=Math.max(g,r);e(c).attr({"data-column":g});for(l=d;l<d+p;l++){if(typeof i[l]==="undefined"){i[l]=[]}E=i[l];for(h=g;h<g+m;h++){E[h]="x"}}}}t.config.columns=r;return a}function c(e){return/^d/i.test(e)||e===1}function f(r){var s=h(r),n,o,l,f,d,p,m,g=r.config;g.headerList=[];g.headerContent=[];if(g.debug){m=new Date}f=g.cssIcon?'<i class="'+g.cssIcon+'"></i>':"";g.$headers=e(r).find(g.selectorHeaders).each(function(i){o=e(this);n=g.headers[i];if(t.getData(o,g.headers[i],"sorter")==="false"){return}g.headerContent[i]=this.innerHTML;d=g.headerTemplate.replace(/\{content\}/g,this.innerHTML).replace(/\{icon\}/g,f);if(g.onRenderTemplate){l=g.onRenderTemplate.apply(o,[i,d]);if(l&&typeof l==="string"){d=l}}this.innerHTML='<div class="tablesorter-header-inner">'+d+"</div>";if(g.onRenderHeader){g.onRenderHeader.apply(o,[i])}this.column=s[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=c(t.getData(o,n,"sortInitialOrder")||g.sortInitialOrder)?[1,0,2]:[0,1,2];this.count=-1;this.lockedOrder=false;p=t.getData(o,n,"lockedOrder")||false;if(typeof p!=="undefined"&&p!==false){this.order=this.lockedOrder=c(p)?[1,1,1]:[0,0,0]}o.addClass(g.cssHeader);g.headerList[i]=this;o.parent().addClass(g.cssHeaderRow);o.attr("tabindex",0)});u(r);if(g.debug){a("Built headers:",m);i(g.$headers)}}function d(e,t,i){var a=e.config;a.$table.find(a.selectorRemove).remove();n(e);o(e);b(a.$table,t,i)}function u(i){var a,r=i.config;r.$headers.each(function(i,s){a=t.getData(s,r.headers[i],"sorter")==="false";s.sortDisabled=a;e(s)[a?"addClass":"removeClass"]("sorter-false")})}function p(t){var i,a,r,s,n=t.config,o=n.sortList,l=[n.cssAsc,n.cssDesc],h=e(t).find("tfoot tr").children().removeClass(l.join(" "));n.$headers.removeClass(l.join(" "));s=o.length;for(a=0;a<s;a++){if(o[a][1]!==2){i=n.$headers.not(".sorter-false").filter('[data-column="'+o[a][0]+'"]'+(s===1?":last":""));if(i.length){for(r=0;r<i.length;r++){if(!i[r].sortDisabled){i.eq(r).addClass(l[o[a][1]]);if(h.length){h.filter('[data-column="'+o[a][0]+'"]').eq(r).addClass(l[o[a][1]])}}}}}}}function m(t){if(t.config.widthFixed&&e(t).find("colgroup").length===0){var i=e("<colgroup>"),a=e(t).width();e(t.tBodies[0]).find("tr:first").children("td").each(function(){i.append(e("<col>").css("width",parseInt(e(this).width()/a*1e3,10)/10+"%"))});e(t).prepend(i)}}function g(t,i){var a,r,s,n=t.config,o=i||n.sortList;n.sortList=[];e.each(o,function(t,i){a=[parseInt(i[0],10),parseInt(i[1],10)];s=n.headerList[a[0]];if(s){n.sortList.push(a);r=e.inArray(a[1],s.order);s.count=r>=0?r:a[1]%(n.sortReset?3:2)}})}function E(e,t){return e&&e[t]?e[t].type||"":""}function v(i,a,r){var s,n,o,h,c,f=i.config,d=!r[f.sortMultiSortKey],u=e(i);u.trigger("sortStart",i);a.count=r[f.sortResetKey]?2:(a.count+1)%(f.sortReset?3:2);if(f.sortRestart){n=a;f.$headers.each(function(){if(this!==n&&(d||!e(this).is("."+f.cssDesc+",."+f.cssAsc))){this.count=-1}})}n=a.column;if(d){f.sortList=[];if(f.sortForce!==null){s=f.sortForce;for(o=0;o<s.length;o++){if(s[o][0]!==n){f.sortList.push(s[o])}}}h=a.order[a.count];if(h<2){f.sortList.push([n,h]);if(a.colSpan>1){for(o=1;o<a.colSpan;o++){f.sortList.push([n+o,h])}}}}else{if(f.sortAppend&&f.sortList.length>1){if(t.isValueInArray(f.sortAppend[0][0],f.sortList)){f.sortList.pop()}}if(t.isValueInArray(n,f.sortList)){for(o=0;o<f.sortList.length;o++){c=f.sortList[o];h=f.headerList[c[0]];if(c[0]===n){c[1]=h.order[h.count];if(c[1]===2){f.sortList.splice(o,1);h.count=-1}}}}else{h=a.order[a.count];if(h<2){f.sortList.push([n,h]);if(a.colSpan>1){for(o=1;o<a.colSpan;o++){f.sortList.push([n+o,h])}}}}}if(f.sortAppend!==null){s=f.sortAppend;for(o=0;o<s.length;o++){if(s[o][0]!==n){f.sortList.push(s[o])}}}u.trigger("sortBegin",i);setTimeout(function(){p(i);y(i);l(i)},1)}function y(t){var i=0,r=t.config,s=r.sortList,n=s.length,o=t.tBodies.length,l,h,c,f,d,u,p,m,g,v;if(r.serverSideSorting||!r.cache[0]){return}if(r.debug){l=new Date}for(c=0;c<o;c++){d=r.cache[c].colMax;u=r.cache[c].normalized;p=u.length;v=u&&u[0]?u[0].length-1:0;u.sort(function(a,o){for(h=0;h<n;h++){f=s[h][0];g=s[h][1];m=/n/i.test(E(r.parsers,f))?"Numeric":"Text";m+=g===0?"":"Desc";if(/Numeric/.test(m)&&r.strings[f]){if(typeof r.string[r.strings[f]]==="boolean"){i=(g===0?1:-1)*(r.string[r.strings[f]]?-1:1)}else{i=r.strings[f]?r.string[r.strings[f]]||0:0}}var l=e.tablesorter["sort"+m](t,a[f],o[f],f,d[f],i);if(l){return l}}return a[v]-o[v]})}if(r.debug){a("Sorting on "+s.toString()+" and dir "+g+" time",l)}}function _(e,t){e.trigger("updateComplete");if(typeof t==="function"){t(e[0])}}function b(e,t,i){if(t!==false&&!e[0].isProcessing){e.trigger("sorton",[e[0].config.sortList,function(){_(e,i)}])}else{_(e,i)}}function w(i){var a=i.config,s=a.$table,h,c;a.$headers.find(a.selectorSort).add(a.$headers.filter(a.selectorSort)).unbind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter",function(t,r){if((t.which||t.button)!==1&&!/sort|keypress/.test(t.type)||t.type==="keypress"&&t.which!==13){return false}if(t.type==="mouseup"&&r!==true&&(new Date).getTime()-c>250){return false}if(t.type==="mousedown"){c=(new Date).getTime();return t.target.tagName==="INPUT"?"":!a.cancelSelection}if(a.delayInit&&!a.cache){o(i)}var s=/TH|TD/.test(this.tagName)?e(this):e(this).parents("th, td").filter(":first"),n=s[0];if(!n.sortDisabled){v(i,n,t)}});if(a.cancelSelection){a.$headers.attr("unselectable","on").bind("selectstart",false).css({"user-select":"none",MozUserSelect:"none"})}s.unbind("sortReset update updateRows updateCell updateAll addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(".tablesorter ")).bind("sortReset.tablesorter",function(e){e.stopPropagation();a.sortList=[];p(i);y(i);l(i)}).bind("updateAll.tablesorter",function(e,a,r){e.stopPropagation();t.refreshWidgets(i,true,true);t.restoreHeaders(i);f(i);w(i);d(i,a,r)}).bind("update.tablesorter updateRows.tablesorter",function(e,t,a){e.stopPropagation();u(i);d(i,t,a)}).bind("updateCell.tablesorter",function(t,n,o,l){t.stopPropagation();s.find(a.selectorRemove).remove();var h,c,f,d=s.find("tbody"),u=d.index(e(n).parents("tbody").filter(":first")),p=e(n).parents("tr").filter(":first");n=e(n)[0];if(d.length&&u>=0){c=d.eq(u).find("tr").index(p);f=n.cellIndex;h=a.cache[u].normalized[c].length-1;a.cache[u].row[i.config.cache[u].normalized[c][h]]=p;a.cache[u].normalized[c][f]=a.parsers[f].format(r(i,n,f),i,n,f);b(s,o,l)}}).bind("addRows.tablesorter",function(e,t,o,l){e.stopPropagation();var c,f=t.filter("tr").length,d=[],u=t[0].cells.length,p=s.find("tbody").index(t.parents("tbody").filter(":first"));if(!a.parsers){n(i)}for(c=0;c<f;c++){for(h=0;h<u;h++){d[h]=a.parsers[h].format(r(i,t[c].cells[h],h),i,t[c].cells[h],h)}d.push(a.cache[p].row.length);a.cache[p].row.push([t[c]]);a.cache[p].normalized.push(d);d=[]}b(s,o,l)}).bind("sorton.tablesorter",function(e,t,a,r){e.stopPropagation();s.trigger("sortStart",this);g(i,t);p(i);s.trigger("sortBegin",this);y(i);l(i,r);if(typeof a==="function"){a(i)}}).bind("appendCache.tablesorter",function(e,t,a){e.stopPropagation();l(i,a);if(typeof t==="function"){t(i)}}).bind("applyWidgetId.tablesorter",function(e,r){e.stopPropagation();t.getWidgetById(r).format(i,a,a.widgetOptions)}).bind("applyWidgets.tablesorter",function(e,a){e.stopPropagation();t.applyWidget(i,a)}).bind("refreshWidgets.tablesorter",function(e,a,r){e.stopPropagation();t.refreshWidgets(i,a,r)}).bind("destroy.tablesorter",function(e,a,r){e.stopPropagation();t.destroy(i,a,r)})}t.construct=function(a){return this.each(function(){if(!this.tHead||this.tBodies.length===0||this.hasInitialized===true){return this.config&&this.config.debug?i("stopping initialization! No thead, tbody or tablesorter has already been initialized"):""}var r=e(this),s=this,l,h="",c=e.metadata;s.hasInitialized=false;s.isProcessing=true;s.config={};l=e.extend(true,s.config,t.defaults,a);e.data(s,"tablesorter",l);if(l.debug){e.data(s,"startoveralltimer",new Date)}l.supportsTextContent=e("<span>x</span>")[0].textContent==="x";l.supportsDataObject=parseFloat(e.fn.jquery)>=1.4;l.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:true,bottom:false};if(!/tablesorter\-/.test(r.attr("class"))){h=l.theme!==""?" tablesorter-"+l.theme:""}l.$table=r.addClass(l.tableClass+h);l.$tbodies=r.children("tbody:not(."+l.cssInfoBlock+")");f(s);m(s);n(s);if(!l.delayInit){o(s)}w(s);if(l.supportsDataObject&&typeof r.data().sortlist!=="undefined"){l.sortList=r.data().sortlist}else if(c&&r.metadata()&&r.metadata().sortlist){l.sortList=r.metadata().sortlist}t.applyWidget(s,true);if(l.sortList.length>0){r.trigger("sorton",[l.sortList,{},!l.initWidgets])}else if(l.initWidgets){t.applyWidget(s)}if(l.showProcessing){r.unbind("sortBegin.tablesorter sortEnd.tablesorter").bind("sortBegin.tablesorter sortEnd.tablesorter",function(e){t.isProcessing(s,e.type==="sortBegin")})}s.hasInitialized=true;s.isProcessing=false;if(l.debug){t.benchmark("Overall initialization time",e.data(s,"startoveralltimer"))}r.trigger("tablesorter-initialized",s);if(typeof l.initialized==="function"){l.initialized(s)}})};t.isProcessing=function(i,a,r){i=e(i);var s=i[0].config,n=r||i.find("."+s.cssHeader);if(a){if(s.sortList.length>0){n=n.filter(function(){return this.sortDisabled?false:t.isValueInArray(parseFloat(e(this).attr("data-column")),s.sortList)})}n.addClass(s.cssProcessing)}else{n.removeClass(s.cssProcessing)}};t.processTbody=function(t,i,a){var r;if(a){t.isProcessing=true;i.before('<span class="tablesorter-savemyplace"/>');r=e.fn.detach?i.detach():i.remove();return r}r=e(t).find("span.tablesorter-savemyplace");i.insertAfter(r);r.remove();t.isProcessing=false};t.clearTableBody=function(t){e(t)[0].config.$tbodies.empty()};t.restoreHeaders=function(t){var i=t.config;i.$table.find(i.selectorHeaders).each(function(t){if(e(this).find(".tablesorter-header-inner").length){e(this).html(i.headerContent[t])}})};t.destroy=function(i,a,r){i=e(i)[0];if(!i.hasInitialized){return}t.refreshWidgets(i,true,true);var s=e(i),n=i.config,o=s.find("thead:first"),l=o.find("tr."+n.cssHeaderRow).removeClass(n.cssHeaderRow),h=s.find("tfoot:first > tr").children("th, td");o.find("tr").not(l).remove();s.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(".tablesorter "));n.$headers.add(h).removeClass(n.cssHeader+" "+n.cssAsc+" "+n.cssDesc).removeAttr("data-column");l.find(n.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter keypress.tablesorter");t.restoreHeaders(i);if(a!==false){s.removeClass(n.tableClass+" tablesorter-"+n.theme)}i.hasInitialized=false;if(typeof r==="function"){r(i)}};t.regex=[/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,/^0x[0-9a-f]+$/i];t.sortText=function(e,i,a,r){if(i===a){return 0}var s=e.config,n=s.string[s.empties[r]||s.emptyTo],o=t.regex,l,h,c,f,d,u,p,m;if(i===""&&n!==0){return typeof n==="boolean"?n?-1:1:-n||-1}if(a===""&&n!==0){return typeof n==="boolean"?n?1:-1:n||1}if(typeof s.textSorter==="function"){return s.textSorter(i,a,e,r)}l=i.replace(o[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0");c=a.replace(o[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0");h=parseInt(i.match(o[2]),16)||l.length!==1&&i.match(o[1])&&Date.parse(i);f=parseInt(a.match(o[2]),16)||h&&a.match(o[1])&&Date.parse(a)||null;if(f){if(h<f){return-1}if(h>f){return 1}}m=Math.max(l.length,c.length);for(p=0;p<m;p++){d=isNaN(l[p])?l[p]||0:parseFloat(l[p])||0;u=isNaN(c[p])?c[p]||0:parseFloat(c[p])||0;if(isNaN(d)!==isNaN(u)){return isNaN(d)?1:-1}if(typeof d!==typeof u){d+="";u+=""}if(d<u){return-1}if(d>u){return 1}}return 0};t.sortTextDesc=function(e,i,a,r){if(i===a){return 0}var s=e.config,n=s.string[s.empties[r]||s.emptyTo];if(i===""&&n!==0){return typeof n==="boolean"?n?-1:1:n||1}if(a===""&&n!==0){return typeof n==="boolean"?n?1:-1:-n||-1}if(typeof s.textSorter==="function"){return s.textSorter(a,i,e,r)}return t.sortText(e,a,i)};t.getTextValue=function(e,t,i){if(t){var a,r=e?e.length:0,s=t+i;for(a=0;a<r;a++){s+=e.charCodeAt(a)}return i*s}return 0};t.sortNumeric=function(e,i,a,r,s,n){if(i===a){return 0}var o=e.config,l=o.string[o.empties[r]||o.emptyTo];if(i===""&&l!==0){return typeof l==="boolean"?l?-1:1:-l||-1}if(a===""&&l!==0){return typeof l==="boolean"?l?1:-1:l||1}if(isNaN(i)){i=t.getTextValue(i,s,n)}if(isNaN(a)){a=t.getTextValue(a,s,n)}return i-a};t.sortNumericDesc=function(e,i,a,r,s,n){if(i===a){return 0}var o=e.config,l=o.string[o.empties[r]||o.emptyTo];if(i===""&&l!==0){return typeof l==="boolean"?l?-1:1:l||1}if(a===""&&l!==0){return typeof l==="boolean"?l?1:-1:-l||-1}if(isNaN(i)){i=t.getTextValue(i,s,n)}if(isNaN(a)){a=t.getTextValue(a,s,n)}return a-i};t.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"};t.replaceAccents=function(e){var i,a="[",r=t.characterEquivalents;if(!t.characterRegex){t.characterRegexArray={};for(i in r){if(typeof i==="string"){a+=r[i];t.characterRegexArray[i]=new RegExp("["+r[i]+"]","g")}}t.characterRegex=new RegExp(a+"]")}if(t.characterRegex.test(e)){for(i in r){if(typeof i==="string"){e=e.replace(t.characterRegexArray[i],i)}}}return e};t.isValueInArray=function(e,t){var i,a=t.length;for(i=0;i<a;i++){if(t[i][0]===e){return true}}return false};t.addParser=function(e){var i,a=t.parsers.length,r=true;for(i=0;i<a;i++){if(t.parsers[i].id.toLowerCase()===e.id.toLowerCase()){r=false}}if(r){t.parsers.push(e)}};t.getParserById=function(e){var i,a=t.parsers.length;for(i=0;i<a;i++){if(t.parsers[i].id.toLowerCase()===e.toString().toLowerCase()){return t.parsers[i]}}return false};t.addWidget=function(e){t.widgets.push(e)};t.getWidgetById=function(e){var i,a,r=t.widgets.length;for(i=0;i<r;i++){a=t.widgets[i];if(a&&a.hasOwnProperty("id")&&a.id.toLowerCase()===e.toLowerCase()){return a}}};t.applyWidget=function(i,r){i=e(i)[0];var s=i.config,n=s.widgetOptions,o=[],l,h,c,f;if(s.debug){l=new Date}if(s.widgets.length){s.widgets=e.grep(s.widgets,function(t,i){return e.inArray(t,s.widgets)===i});e.each(s.widgets||[],function(e,i){f=t.getWidgetById(i);if(f&&f.id){if(!f.priority){f.priority=10}o[e]=f}});o.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1});e.each(o,function(t,a){if(a){if(r){if(a.hasOwnProperty("options")){n=i.config.widgetOptions=e.extend(true,{},a.options,n)}if(a.hasOwnProperty("init")){a.init(i,a,s,n)}}else if(!r&&a.hasOwnProperty("format")){a.format(i,s,n,false)}}})}if(s.debug){c=s.widgets.length;a("Completed "+(r===true?"initializing ":"applying ")+c+" widget"+(c!==1?"s":""),l)}};t.refreshWidgets=function(a,r,s){a=e(a)[0];var n,o=a.config,l=o.widgets,h=t.widgets,c=h.length;for(n=0;n<c;n++){if(h[n]&&h[n].id&&(r||e.inArray(h[n].id,l)<0)){if(o.debug){i("Refeshing widgets: Removing "+h[n].id)}if(h[n].hasOwnProperty("remove")){h[n].remove(a,o,o.widgetOptions)}}}if(s!==true){t.applyWidget(a,r)}};t.getData=function(t,i,a){var r="",s=e(t),n,o;if(!s.length){return""}n=e.metadata?s.metadata():false;o=" "+(s.attr("class")||"");if(typeof s.data(a)!=="undefined"||typeof s.data(a.toLowerCase())!=="undefined"){r+=s.data(a)||s.data(a.toLowerCase())}else if(n&&typeof n[a]!=="undefined"){r+=n[a]}else if(i&&typeof i[a]!=="undefined"){r+=i[a]}else if(o!==" "&&o.match(" "+a+"-")){r=o.match(new RegExp("\\s"+a+"-([\\w-]+)"))[1]||""}return e.trim(r)};t.formatFloat=function(t,i){if(typeof t!=="string"||t===""){return t}var a,r=i&&i.config?i.config.usNumberFormat!==false:typeof i!=="undefined"?i:true;if(r){t=t.replace(/,/g,"")}else{t=t.replace(/[\s|\.]/g,"").replace(/,/g,".")}if(/^\s*\([.\d]+\)/.test(t)){t=t.replace(/^\s*\(/,"-").replace(/\)/,"")}a=parseFloat(t);return isNaN(a)?e.trim(t):a};t.isDigit=function(e){return isNaN(e)?/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,"")):true}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct});t.addParser({id:"text",is:function(){return true},format:function(i,a){var r=a.config;if(i){i=e.trim(r.ignoreCase?i.toLocaleLowerCase():i);i=r.sortLocaleCompare?t.replaceAccents(i):i}return i},type:"text"});t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(i,a){var r=t.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),a);return i&&typeof r==="number"?r:i?e.trim(i&&a.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"});t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[,. ]/g,""))},format:function(i,a){var r=t.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),a);return i&&typeof r==="number"?r:i?e.trim(i&&a.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"});t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,i){var a,r=e?e.split("."):"",s="",n=r.length;for(a=0;a<n;a++){s+=("00"+r[a]).slice(-3)}return e?t.formatFloat(s,i):e},type:"numeric"});t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},type:"text"});t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e,i){return e?t.formatFloat(e!==""?new Date(e.replace(/-/g,"/")).getTime()||"":"",i):e},type:"numeric"});t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&e.length<15},format:function(e,i){return e?t.formatFloat(e.replace(/%/g,""),i):e},type:"numeric"});t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)},format:function(e,i){return e?t.formatFloat(new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",i):e},type:"numeric"});t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,i,a,r){if(e){var s=i.config,n=s.headerList[r],o=n.dateFormat||t.getData(n,s.headers[r],"dateFormat")||s.dateFormat;e=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/");if(o==="mmddyyyy"){e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2")}else if(o==="ddmmyyyy"){e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1")}else if(o==="yyyymmdd"){e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3")}}return e?t.formatFloat(new Date(e).getTime()||"",i):e},type:"numeric"});t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,i){return e?t.formatFloat(new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",i):e},type:"numeric"});t.addParser({id:"metadata",is:function(){return false},format:function(t,i,a){var r=i.config,s=!r.parserMetadataName?"sortValue":r.parserMetadataName;return e(a).metadata()[s]},type:"numeric"});t.addWidget({id:"zebra",priority:90,format:function(i,a,r){var s,n,o,l,h,c,f,d,u=new RegExp(a.cssChildRow,"i"),p=a.$tbodies;if(a.debug){c=new Date}for(f=0;f<p.length;f++){s=p.eq(f);d=s.children("tr").length;if(d>1){l=0;n=s.children("tr:visible");n.each(function(){o=e(this);if(!u.test(this.className)){l++}h=l%2===0;o.removeClass(r.zebra[h?1:0]).addClass(r.zebra[h?0:1])})}}if(a.debug){t.benchmark("Applying Zebra widget",c)}},remove:function(t,i,a){var r,s,n=i.$tbodies,o=(a.zebra||["even","odd"]).join(" ");for(r=0;r<n.length;r++){s=e.tablesorter.processTbody(t,n.eq(r),true);s.children().removeClass(o);e.tablesorter.processTbody(t,s,false)}}})}(jQuery);!function(e){"use strict";var t=e.tablesorter=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up",sortDesc:"icon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}};t.storage=function(t,i,a){var r,s,n=false,o={},l=t.id||e(".tablesorter").index(e(t)),h=window.location.pathname;if("localStorage"in window){try{window.localStorage.setItem("_tmptest","temp");n=true;window.localStorage.removeItem("_tmptest")}catch(c){}}if(e.parseJSON){if(n){o=e.parseJSON(localStorage[i]||"{}")}else{s=document.cookie.split(/[;\s|=]/);r=e.inArray(i,s)+1;o=r!==0?e.parseJSON(s[r]||"{}"):{}}}if((a||a==="")&&window.JSON&&JSON.hasOwnProperty("stringify")){if(!o[h]){o[h]={}}o[h][l]=a;if(n){localStorage[i]=JSON.stringify(o)}else{r=new Date;r.setTime(r.getTime()+31536e6);document.cookie=i+"="+JSON.stringify(o).replace(/\"/g,'"')+"; expires="+r.toGMTString()+"; path=/"}}else{return o&&o[h]?o[h][l]:{}}};t.addHeaderResizeEvent=function(t,i,a){var r={timer:250},s=e.extend({},r,a),n=t.config,o=n.widgetOptions,l,h=function(){o.resize_flag=true;l=[];n.$headers.each(function(){var t=e.data(this,"savedSizes"),i=this.offsetWidth,a=this.offsetHeight;if(i!==t[0]||a!==t[1]){e.data(this,"savedSizes",[i,a]);l.push(this)}});if(l.length){n.$table.trigger("resize",[l])}o.resize_flag=false};clearInterval(o.resize_timer);if(i){o.resize_flag=false;return false}n.$headers.each(function(){e.data(this,"savedSizes",[this.offsetWidth,this.offsetHeight])});o.resize_timer=setInterval(function(){if(o.resize_flag){return}h()},s.timer)};t.addWidget({id:"uitheme",priority:10,options:{uitheme:"jui"},format:function(i,a,r){var s,n,o,l,h=t.themes,c=a.$table,f=a.theme!=="default"?a.theme:r.uitheme||"jui",d=h[h[f]?f:h[r.uitheme]?r.uitheme:"jui"],u=a.$headers,p="tr."+(r.stickyHeaders||"tablesorter-stickyHeader"),m=d.sortNone+" "+d.sortDesc+" "+d.sortAsc;if(a.debug){s=new Date}if(!c.hasClass("tablesorter-"+f)||a.theme===f||!i.hasInitialized){if(d.even!==""){r.zebra[0]+=" "+d.even}if(d.odd!==""){r.zebra[1]+=" "+d.odd}h=c.removeClass(a.theme===""?"":"tablesorter-"+a.theme).addClass("tablesorter-"+f+" "+d.table).find("tfoot");if(h.length){h.find("tr").addClass(d.footerRow).children("th, td").addClass(d.footerCells)}u.addClass(d.header).filter(":not(.sorter-false)").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)[t.type==="mouseenter"?"addClass":"removeClass"](d.hover)});if(!u.find(".tablesorter-wrapper").length){u.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>')}if(a.cssIcon){u.find("."+a.cssIcon).addClass(d.icons)}if(c.hasClass("hasFilters")){u.find(".tablesorter-filter-row").addClass(d.filterRow)}}e.each(u,function(t){o=e(this);l=a.cssIcon?o.find("."+a.cssIcon):o;if(this.sortDisabled){o.removeClass(m);l.removeClass(m+" tablesorter-icon "+d.icons)}else{h=c.hasClass("hasStickyHeaders")?c.find(p).find("th").eq(t).add(o):o;n=o.hasClass(a.cssAsc)?d.sortAsc:o.hasClass(a.cssDesc)?d.sortDesc:o.hasClass(a.cssHeader)?d.sortNone:"";o[n===d.sortNone?"removeClass":"addClass"](d.active);l.removeClass(m).addClass(n)}});if(a.debug){t.benchmark("Applying "+f+" theme",s)}},remove:function(e,i,a){var r=i.$table,s=typeof a.uitheme==="object"?"jui":a.uitheme||"jui",n=typeof a.uitheme==="object"?a.uitheme:t.themes[t.themes.hasOwnProperty(s)?s:"jui"],o=r.children("thead").children(),l=n.sortNone+" "+n.sortDesc+" "+n.sortAsc;r.removeClass("tablesorter-"+s+" "+n.table).find(i.cssHeader).removeClass(n.header);o.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(n.hover+" "+l+" "+n.active).find(".tablesorter-filter-row").removeClass(n.filterRow);o.find(".tablesorter-icon").removeClass(n.icons)}});t.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(i,a,r){var s,n,o,l,h,c,f,d,u,p,m=a.$table,g=a.$tbodies,E=a.sortList,v=E.length,y=a.widgetColumns&&a.widgetColumns.hasOwnProperty("css")?a.widgetColumns.css||y:r&&r.hasOwnProperty("columns")?r.columns||y:y;c=y.length-1;f=y.join(" ");if(a.debug){h=new Date}for(u=0;u<g.length;u++){s=t.processTbody(i,g.eq(u),true);n=s.children("tr");p=n.length;n.each(function(){l=e(this);if(this.style.display!=="none"){o=l.children().removeClass(f);if(E&&E[0]){o.eq(E[0][0]).addClass(y[0]);if(v>1){for(d=1;d<v;d++){o.eq(E[d][0]).addClass(y[d]||y[c])}}}}});t.processTbody(i,s,false)}n=r.columns_thead!==false?"thead tr":"";if(r.columns_tfoot!==false){n+=(n===""?"":",")+"tfoot tr"}if(n.length){l=m.find(n).children().removeClass(f);if(E&&E[0]){l.filter('[data-column="'+E[0][0]+'"]').addClass(y[0]);if(v>1){for(d=1;d<v;d++){l.filter('[data-column="'+E[d][0]+'"]').addClass(y[d]||y[c])}}}}if(a.debug){t.benchmark("Applying Columns widget",h)}},remove:function(i,a,r){var s,n,o=a.$tbodies,l=(r.columns||["primary","secondary","tertiary"]).join(" ");a.$headers.removeClass(l);a.$table.children("tfoot").children("tr").children("th, td").removeClass(l);for(s=0;s<o.length;s++){n=t.processTbody(i,o.eq(s),true);n.children("tr").each(function(){e(this).children().removeClass(l)});t.processTbody(i,n,false)}}});t.addWidget({id:"filter",priority:50,options:{filter_childRows:false,filter_columnFilters:true,filter_cssFilter:"tablesorter-filter",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideFilters:false,filter_ignoreCase:true,filter_liveSearch:true,filter_onlyAvail:"filter-onlyAvail",filter_reset:null,filter_searchDelay:300,filter_startsWith:false,filter_useParsedData:false,filter_serversideFiltering:false,filter_defaultAttrib:"data-value",filter_regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=])|([\"|\'|=]$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g}},format:function(i,a,r){if(a.parsers&&!a.$table.hasClass("hasFilters")){var s,n,o,l,h,c,f,d,u,p,m,g,E,v,y,_,b,w,C,k=t.formatFloat,$="",R=a.$headers,S=r.filter_cssFilter,V=a.$table.addClass("hasFilters"),O=V.find("tbody"),A=a.parsers.length,T,x,P,D=function(s){var n=e.isArray(s),o=n?s:t.getFilters(i),l=(o||[]).join("");if(n){t.setFilters(V,o)}if(r.filter_hideFilters){V.find(".tablesorter-filter-row").trigger(l===""?"mouseleave":"mouseenter")}if($===l&&s!==false){return}V.trigger("filterStart",[o]);if(a.showProcessing){setTimeout(function(){H(s,o,l);return false},30)}else{H(s,o,l);return false}},H=function(l,c,u){var p,m,g,E,v,w,C,S,x,P,D;if(a.debug){S=new Date}for(o=0;o<O.length;o++){if(O.eq(o).hasClass(a.cssInfoBlock)){continue}p=t.processTbody(i,O.eq(o),true);m=p.children("tr:not(."+a.cssChildRow+")");w=m.length;if(u===""||r.filter_serversideFiltering){p.children().show().removeClass(r.filter_filteredRow)}else{D=true;v=V.data("lastSearch")||[];e.each(c,function(e,t){D=(t||"").indexOf(v[e]||"")===0&&D&&!/(\s+or\s+|\|)/g.test(t||"")});if(D&&m.filter(":visible").length===0){D=false}for(n=0;n<w;n++){v=m[n].className;if(r.filter_regex.child.test(v)||D&&r.filter_regex.filtered.test(v)){continue
}v=true;E=m.eq(n).nextUntil("tr:not(."+a.cssChildRow+")");b=E.length&&r.filter_childRows?E.text():"";b=r.filter_ignoreCase?b.toLocaleLowerCase():b;g=m.eq(n).children("td");for(s=0;s<A;s++){if(c[s]){if(r.filter_useParsedData||T[s]){f=a.cache[o].normalized[n][s]}else{f=e.trim(g.eq(s).text())}d=!r.filter_regex.type.test(typeof f)&&r.filter_ignoreCase?f.toLocaleLowerCase():f;C=v;h=r.filter_ignoreCase?c[s].toLocaleLowerCase():c[s];if(r.filter_functions&&r.filter_functions[s]){if(r.filter_functions[s]===true){C=R.filter('[data-column="'+s+'"]:last').hasClass("filter-match")?d.search(h)>=0:c[s]===f}else if(typeof r.filter_functions[s]==="function"){C=r.filter_functions[s](f,a.cache[o].normalized[n][s],c[s],s)}else if(typeof r.filter_functions[s][c[s]]==="function"){C=r.filter_functions[s][c[s]](f,a.cache[o].normalized[n][s],c[s],s)}}else if(r.filter_regex.regex.test(h)){y=r.filter_regex.regex.exec(h);try{C=new RegExp(y[1],y[2]).test(d)}catch(H){C=false}}else if(h.replace(r.filter_regex.exact,"")==d){C=true}else if(/^\!/.test(h)){h=h.replace("!","");_=d.search(e.trim(h));C=h===""?true:!(r.filter_startsWith?_===0:_>=0)}else if(/^[<>]=?/.test(h)){_=k(h.replace(r.filter_regex.nondigit,"").replace(r.filter_regex.operators,""),i);if(T[s]||a.parsers[s].type==="numeric"){y=a.parsers[s].format(""+h.replace(r.filter_regex.operators,""),i,R.eq(s),s);_=y!==""&&!isNaN(y)?y:_}y=(T[s]||a.parsers[s].type==="numeric")&&!isNaN(_)&&a.cache[o].normalized[n]?a.cache[o].normalized[n][s]:isNaN(d)?k(d.replace(r.filter_regex.nondigit,""),i):k(d,i);if(/>/.test(h)){C=/>=/.test(h)?y>=_:y>_}if(/</.test(h)){C=/<=/.test(h)?y<=_:y<_}if(_===""){C=true}}else if(/\s+(AND|&&)\s+/g.test(c[s])){_=h.split(/(?:\s+(?:and|&&)\s+)/g);C=d.search(e.trim(_[0]))>=0;x=_.length-1;while(C&&x){C=C&&d.search(e.trim(_[x]))>=0;x--}}else if(/\s+(-|to)\s+/.test(h)){_=h.split(/(?: - | to )/);x=k(_[0].replace(r.filter_regex.nondigit,""),i);P=k(_[1].replace(r.filter_regex.nondigit,""),i);if(T[s]||a.parsers[s].type==="numeric"){y=a.parsers[s].format(""+_[0],i,R.eq(s),s);x=y!==""&&!isNaN(y)?y:x;y=a.parsers[s].format(""+_[1],i,R.eq(s),s);P=y!==""&&!isNaN(y)?y:P}y=(T[s]||a.parsers[s].type==="numeric")&&!isNaN(x)&&!isNaN(P)?a.cache[o].normalized[n][s]:isNaN(d)?k(d.replace(r.filter_regex.nondigit,""),i):k(d,i);if(x>P){C=x;x=P;P=C}C=y>=x&&y<=P||x===""||P===""?true:false}else if(/[\?|\*]/.test(h)||/\s+OR\s+/.test(c[s])){_=h.replace(/\s+OR\s+/gi,"|");if(!R.filter('[data-column="'+s+'"]:last').hasClass("filter-match")&&/\|/.test(_)){_="^("+_+")$"}C=new RegExp(_.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(d)}else{f=(d+b).indexOf(h);C=!r.filter_startsWith&&f>=0||r.filter_startsWith&&f===0}v=C?v?true:false:false}}m[n].style.display=v?"":"none";m.eq(n)[v?"removeClass":"addClass"](r.filter_filteredRow);if(E.length){E[v?"show":"hide"]()}}}t.processTbody(i,p,false)}$=u;V.data("lastSearch",c);if(a.debug){t.benchmark("Completed filter widget search",S)}V.trigger("applyWidgets");V.trigger("filterEnd")},M=function(s,h,c){var f,d,u=[],p;s=parseInt(s,10);d=R.filter('[data-column="'+s+'"]:last');f='<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||"")+"</option>";for(o=0;o<O.length;o++){l=a.cache[o].row.length;for(n=0;n<l;n++){if(c&&a.cache[o].row[n][0].className.match(r.filter_filteredRow)){continue}if(r.filter_useParsedData){u.push(""+a.cache[o].normalized[n][s])}else{d=a.cache[o].row[n][0].cells[s];if(d){u.push(e.trim(a.supportsTextContent?d.textContent:e(d).text()))}}}}u=e.grep(u,function(t,i){return e.inArray(t,u)===i});u=t.sortText?u.sort(function(e,a){return t.sortText(i,e,a,s)}):u.sort(true);p=V.find("thead").find("select."+S+'[data-column="'+s+'"]').val();for(o=0;o<u.length;o++){d=u[o].replace(/\"/g,"&quot;");f+=u[o]!==""?'<option value="'+d+'"'+(p===d?' selected="selected"':"")+">"+u[o]+"</option>":""}V.find("thead").find("select."+S+'[data-column="'+s+'"]')[h?"html":"append"](f)},I=function(e){for(s=0;s<A;s++){b=R.filter('[data-column="'+s+'"]:last');if((b.hasClass("filter-select")||r.filter_functions&&r.filter_functions[s]===true)&&!b.hasClass("filter-false")){if(!r.filter_functions){r.filter_functions={}}r.filter_functions[s]=true;M(s,e,b.hasClass(r.filter_onlyAvail))}}},N=function(e){if(typeof e==="undefined"||e===true){clearTimeout(P);P=setTimeout(function(){D(e)},r.filter_liveSearch?r.filter_searchDelay:10)}else{D(e)}};if(a.debug){x=new Date}r.filter_regex.child=new RegExp(a.cssChildRow);r.filter_regex.filtered=new RegExp(r.filter_filteredRow);if(r.filter_columnFilters!==false&&R.filter(".filter-false").length!==R.length){b='<tr class="tablesorter-filter-row">';for(s=0;s<A;s++){b+="<td></td>"}a.$filters=e(b+="</tr>").appendTo(V.find("thead").eq(0)).find("td");for(s=0;s<A;s++){w=false;v=R.filter('[data-column="'+s+'"]:last');p=r.filter_functions&&r.filter_functions[s]&&typeof r.filter_functions[s]!=="function"||v.hasClass("filter-select");if(t.getData){w=t.getData(v[0],a.headers[s],"filter")==="false"}else{w=a.headers[s]&&a.headers[s].hasOwnProperty("filter")&&a.headers[s].filter===false||v.hasClass("filter-false")}if(p){b=e("<select>").appendTo(a.$filters.eq(s))}else{if(r.filter_formatter&&e.isFunction(r.filter_formatter[s])){b=r.filter_formatter[s](a.$filters.eq(s),s);if(b&&b.length===0){b=a.$filters.eq(s).children("input")}if(b&&(b.parent().length===0||b.parent().length&&b.parent()[0]!==a.$filters[s])){a.$filters.eq(s).append(b)}}else{b=e('<input type="search">').appendTo(a.$filters.eq(s))}if(b){b.attr("placeholder",v.data("placeholder")||v.attr("data-placeholder")||"")}}if(b){b.addClass(S).attr("data-column",s);if(w){b.addClass("disabled")[0].disabled=true}}}}V.bind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(".tsfilter "),function(e,t){if(!/(search|filterReset|filterEnd)/.test(e.type)){e.stopPropagation();I(true)}if(e.type==="filterReset"){V.find("."+S).val("")}if(e.type==="filterEnd"){I(true)}else{t=e.type==="search"?t:e.type==="updateComplete"?V.data("lastSearch"):"";N(t)}return false}).find("input."+S).bind("keyup search",function(e,t){if(e.which===27){this.value=""}else if(typeof r.filter_liveSearch==="number"&&this.value.length<r.filter_liveSearch&&this.value!==""||e.type==="keyup"&&(e.which<32&&e.which!==8&&r.filter_liveSearch===true&&e.which!==13||e.which>=37&&e.which<=40||e.which!==13&&r.filter_liveSearch===false)){return}N(t)});T=R.map(function(i){return t.getData?t.getData(R.filter('[data-column="'+i+'"]:last'),a.headers[i],"filter")==="parsed":e(this).hasClass("filter-parsed")}).get();if(r.filter_reset&&e(r.filter_reset).length){e(r.filter_reset).bind("click.tsfilter",function(){V.trigger("filterReset")})}if(r.filter_functions){for(C in r.filter_functions){if(r.filter_functions.hasOwnProperty(C)&&typeof C==="string"){b=R.filter('[data-column="'+C+'"]:last');c="";if(r.filter_functions[C]===true&&!b.hasClass("filter-false")){M(C)}else if(typeof C==="string"&&!b.hasClass("filter-false")){for(m in r.filter_functions[C]){if(typeof m==="string"){c+=c===""?'<option value="">'+(b.data("placeholder")||b.attr("data-placeholder")||"")+"</option>":"";c+='<option value="'+m+'">'+m+"</option>"}}V.find("thead").find("select."+S+'[data-column="'+C+'"]').append(c)}}}}I(true);V.find("select."+S).bind("change search",function(e,t){D(t)});if(r.filter_hideFilters){V.find(".tablesorter-filter-row").addClass("hideme").bind("mouseenter mouseleave",function(t){var i,a=t;g=e(this);clearTimeout(u);u=setTimeout(function(){if(/enter|over/.test(a.type)){g.removeClass("hideme")}else{if(e(document.activeElement).closest("tr")[0]!==g[0]){i=V.find("."+r.filter_cssFilter).map(function(){return e(this).val()||""}).get().join("");if(i===""){g.addClass("hideme")}}}},200)}).find("input, select").bind("focus blur",function(t){E=e(this).closest("tr");clearTimeout(u);u=setTimeout(function(){if(V.find("."+r.filter_cssFilter).map(function(){return e(this).val()||""}).get().join("")===""){E[t.type==="focus"?"removeClass":"addClass"]("hideme")}},200)})}if(a.showProcessing){V.bind("filterStart.tsfilter filterEnd.tsfilter",function(i,r){var s=r?V.find("."+a.cssHeader).filter("[data-column]").filter(function(){return r[e(this).data("column")]!==""}):"";t.isProcessing(V[0],i.type==="filterStart",r?s:"")})}if(a.debug){t.benchmark("Applying Filter widget",x)}V.bind("tablesorter-initialized",function(){c=t.getFilters(i);for(s=0;s<c.length;s++){c[s]=R.filter('[data-column="'+s+'"]:last').attr(r.filter_defaultAttrib)||c[s]}t.setFilters(i,c,true)});V.trigger("filterInit");D()}},remove:function(i,a,r){var s,n,o=a.$table,l=a.$tbodies;o.removeClass("hasFilters").unbind("addRows updateCell update updateComplete appendCache search filterStart filterEnd ".split(" ").join(".tsfilter ")).find(".tablesorter-filter-row").remove();for(s=0;s<l.length;s++){n=t.processTbody(i,l.eq(s),true);n.children().removeClass(r.filter_filteredRow).show();t.processTbody(i,n,false)}if(r.filterreset){e(r.filter_reset).unbind("click.tsfilter")}}});t.getFilters=function(t){var i=t?e(t)[0].config:{};if(i&&i.widgetOptions&&!i.widgetOptions.filter_columnFilters){return e(t).data("lastSearch")}return i&&i.$filters?i.$filters.find("."+i.widgetOptions.filter_cssFilter).map(function(t,i){return e(i).val()}).get()||[]:false};t.setFilters=function(t,i,a){var r=e(t),s=r.length?r[0].config:{},n=s&&s.$filters?s.$filters.find("."+s.widgetOptions.filter_cssFilter).each(function(t,a){e(a).val(i[t]||"")}).trigger("change.tsfilter")||false:false;if(a){r.trigger("search",[i,false])}return!!n};t.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"tablesorter-stickyHeader",stickyHeaders_offset:0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:true,stickyHeaders_includeCaption:true,stickyHeaders_zIndex:2},format:function(i,a,r){if(a.$table.hasClass("hasStickyHeaders")){return}var s=a.$table,n=e(window),o=s.children("thead:first"),l=o.children("tr:not(.sticky-false)").children(),h=".tablesorter-header-inner",c=s.find("tfoot"),f="."+(r.filter_cssFilter||"tablesorter-filter"),d=isNaN(r.stickyHeaders_offset)?e(r.stickyHeaders_offset):"",u=d.length?d.height()||0:parseInt(r.stickyHeaders_offset,10)||0,p=r.stickyHeaders_zIndex?r.stickyHeaders_zIndex:2,m=r.$sticky=s.clone().addClass("containsStickyHeaders").css({position:"fixed",margin:0,top:u,visibility:"hidden",zIndex:p}),g=m.children("thead:first").addClass(r.stickyHeaders),E,v="",y=0,_=false,b=function(){u=d.length?d.height()||0:parseInt(r.stickyHeaders_offset,10)||0;var t=navigator.userAgent;y=0;if(s.css("border-collapse")!=="collapse"&&!/(webkit|msie)/i.test(t)){y=parseInt(l.eq(0).css("border-left-width"),10)*2}m.css({left:o.offset().left-n.scrollLeft()-y,width:s.width()});E.filter(":visible").each(function(t){var i=l.filter(":visible").eq(t);e(this).css({width:i.width()-y,height:i.height()}).find(h).width(i.find(h).width())})};if(m.attr("id")){m[0].id+=r.stickyHeaders_cloneId}m.find("thead:gt(0), tr.sticky-false, tbody, tfoot").remove();if(!r.stickyHeaders_includeCaption){m.find("caption").remove()}E=g.children().children();m.css({height:0,width:0,padding:0,margin:0,border:0});E.find(".tablesorter-resizer").remove();s.addClass("hasStickyHeaders").bind("sortEnd.tsSticky",function(){l.filter(":visible").each(function(t){var i=E.filter(":visible").eq(t);i.attr("class",e(this).attr("class")).removeClass(a.cssProcessing);if(a.cssIcon){i.find("."+a.cssIcon).attr("class",e(this).find("."+a.cssIcon).attr("class"))}})}).bind("pagerComplete.tsSticky",function(){b()});l.find(a.selectorSort).add(a.$headers.filter(a.selectorSort)).each(function(t){var i=e(this),r=g.children("tr.tablesorter-headerRow").children().eq(t).bind("mouseup",function(e){i.trigger(e,true)});if(a.cancelSelection){r.attr("unselectable","on").bind("selectstart",false).css({"user-select":"none",MozUserSelect:"none"})}});s.after(m);n.bind("scroll.tsSticky resize.tsSticky",function(e){if(!s.is(":visible")){return}var t="tablesorter-sticky-",i=s.offset(),a=r.stickyHeaders_includeCaption?0:s.find("caption").outerHeight(true),l=n.scrollTop()+u-a,h=s.height()-(m.height()+(c.height()||0)),f=l>i.top&&l<i.top+h?"visible":"hidden";m.removeClass(t+"visible "+t+"hidden").addClass(t+f).css({left:o.offset().left-n.scrollLeft()-y,visibility:f});if(f!==v||e.type==="resize"){b();v=f}});if(r.stickyHeaders_addResizeEvent){t.addHeaderResizeEvent(i)}s.bind("filterEnd",function(){if(_){return}g.find(".tablesorter-filter-row").children().each(function(t){e(this).find(f).val(a.$filters.find(f).eq(t).val())})});E.find(f).bind("keyup search change",function(t){if(t.which<32&&t.which!==8||t.which>=37&&t.which<=40){return}_=true;var i=e(this),s=i.attr("data-column");a.$filters.find(f).eq(s).val(i.val()).trigger("search");setTimeout(function(){_=false},r.filter_searchDelay)});s.trigger("stickyHeadersInit")},remove:function(i,a,r){a.$table.removeClass("hasStickyHeaders").unbind("sortEnd.tsSticky pagerComplete.tsSticky").find("."+r.stickyHeaders).remove();if(r.$sticky&&r.$sticky.length){r.$sticky.remove()}if(!e(".hasStickyHeaders").length){e(window).unbind("scroll.tsSticky resize.tsSticky")}t.addHeaderResizeEvent(i,false)}});t.addWidget({id:"resizable",priority:40,options:{resizable:true,resizable_addLastColumn:false},format:function(i,a,r){if(a.$table.hasClass("hasResizable")){return}a.$table.addClass("hasResizable");var s,n,o,l,h={},c,f,d,u,p=a.$table,m=0,g=null,E=null,v=Math.abs(p.parent().width()-p.width())<20,y=function(){if(t.storage&&g){h[g.index()]=g.width();h[E.index()]=E.width();g.width(h[g.index()]);E.width(h[E.index()]);if(r.resizable!==false){t.storage(i,"tablesorter-resizable",h)}}m=0;g=E=null;e(window).trigger("resize")};h=t.storage&&r.resizable!==false?t.storage(i,"tablesorter-resizable"):{};if(h){for(l in h){if(!isNaN(l)&&l<a.$headers.length){a.$headers.eq(l).width(h[l])}}}s=p.children("thead:first").children("tr");s.children().each(function(){n=e(this);o=n.attr("data-column");l=t.getData(n,a.headers[o],"resizable")==="false";s.children().filter('[data-column="'+o+'"]').toggleClass("resizable-false",l)});s.each(function(){c=e(this).children(":not(.resizable-false)");if(!e(this).find(".tablesorter-wrapper").length){c.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>')}if(!r.resizable_addLastColumn){c=c.slice(0,-1)}f=f?f.add(c):c});f.each(function(){s=e(this);l=parseInt(s.css("padding-right"),10)+10;n='<div class="tablesorter-resizer" style="cursor:w-resize;position:absolute;z-index:1;right:-'+l+'px;top:0;height:100%;width:20px;"></div>';s.find(".tablesorter-wrapper").append(n)}).bind("mousemove.tsresize",function(e){if(m===0||!g){return}d=e.pageX-m;u=g.width();g.width(u+d);if(g.width()!==u&&v){E.width(E.width()-d)}m=e.pageX}).bind("mouseup.tsresize",function(){y()}).find(".tablesorter-resizer,.tablesorter-resizer-grip").bind("mousedown",function(t){g=e(t.target).closest("th");n=a.$headers.filter('[data-column="'+g.attr("data-column")+'"]');if(n.length>1){g=g.add(n)}E=t.shiftKey?g.parent().find("th:not(.resizable-false)").filter(":last"):g.nextAll(":not(.resizable-false)").eq(0);m=t.pageX});p.find("thead:first").bind("mouseup.tsresize mouseleave.tsresize",function(){y()}).bind("contextmenu.tsresize",function(){t.resizableReset(i);var a=e.isEmptyObject?e.isEmptyObject(h):h==={};h={};return a})},remove:function(e,i,a){i.$table.removeClass("hasResizable").find("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").find("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find(".tablesorter-resizer,.tablesorter-resizer-grip").remove();t.resizableReset(e)}});t.resizableReset=function(e){e.config.$headers.filter(":not(.resizable-false)").css("width","");if(t.storage){t.storage(e,"tablesorter-resizable",{})}};t.addWidget({id:"saveSort",priority:20,options:{saveSort:true},init:function(e,t,i,a){t.format(e,i,a,true)},format:function(i,a,r,s){var n,o,l=a.$table,h=r.saveSort!==false,c={sortList:a.sortList};if(a.debug){o=new Date}if(l.hasClass("hasSaveSort")){if(h&&i.hasInitialized&&t.storage){t.storage(i,"tablesorter-savesort",c);if(a.debug){t.benchmark("saveSort widget: Saving last sort: "+a.sortList,o)}}}else{l.addClass("hasSaveSort");c="";if(t.storage){n=t.storage(i,"tablesorter-savesort");c=n&&n.hasOwnProperty("sortList")&&e.isArray(n.sortList)?n.sortList:"";if(a.debug){t.benchmark('saveSort: Last sort loaded: "'+c+'"',o)}l.bind("saveSortReset",function(e){e.stopPropagation();t.storage(i,"tablesorter-savesort","")})}if(s&&c&&c.length>0){a.sortList=c}else if(i.hasInitialized&&c&&c.length>0){l.trigger("sorton",[c])}}},remove:function(e){if(t.storage){t.storage(e,"tablesorter-savesort","")}}})}(jQuery);!function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.prototype.close=function(t){var i=e(this),a=i.attr("data-target"),r;if(!a){a=i.attr("href");a=a&&a.replace(/.*(?=#[^\s]*$)/,"")}r=e(a);t&&t.preventDefault();r.length||(r=i.hasClass("alert")?i:i.parent());r.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;r.removeClass("in");function s(){r.trigger("closed").remove()}e.support.transition&&r.hasClass("fade")?r.on(e.support.transition.end,s):s()};var a=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var a=e(this),r=a.data("alert");if(!r)a.data("alert",r=new i(this));if(typeof t=="string")r[t].call(a)})};e.fn.alert.Constructor=i;e.fn.alert.noConflict=function(){e.fn.alert=a;return this};e(document).on("click.alert.data-api",t,i.prototype.close)}(window.jQuery);!function(e){"use strict";var t=function(t,i){this.$element=e(t);this.options=e.extend({},e.fn.button.defaults,i)};t.prototype.setState=function(e){var t="disabled",i=this.$element,a=i.data(),r=i.is("input")?"val":"html";e=e+"Text";a.resetText||i.data("resetText",i[r]());i[r](a[e]||this.options[e]);setTimeout(function(){e=="loadingText"?i.addClass(t).attr(t,t):i.removeClass(t).removeAttr(t)},0)};t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active");this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=function(i){return this.each(function(){var a=e(this),r=a.data("button"),s=typeof i=="object"&&i;if(!r)a.data("button",r=new t(this,s));if(i=="toggle")r.toggle();else if(i)r.setState(i)})};e.fn.button.defaults={loadingText:"loading..."};e.fn.button.Constructor=t;e.fn.button.noConflict=function(){e.fn.button=i;return this};e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var i=e(t.target);if(!i.hasClass("btn"))i=i.closest(".btn");i.button("toggle")})}(window.jQuery);!function(e){"use strict";var t=function(t,i){this.$element=e(t);this.options=e.extend({},e.fn.collapse.defaults,i);if(this.options.parent){this.$parent=e(this.options.parent)}this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,i,a,r;if(this.transitioning||this.$element.hasClass("in"))return;t=this.dimension();i=e.camelCase(["scroll",t].join("-"));a=this.$parent&&this.$parent.find("> .accordion-group > .in");if(a&&a.length){r=a.data("collapse");if(r&&r.transitioning)return;a.collapse("hide");r||a.data("collapse",null)}this.$element[t](0);this.transition("addClass",e.Event("show"),"shown");e.support.transition&&this.$element[t](this.$element[0][i])},hide:function(){var t;if(this.transitioning||!this.$element.hasClass("in"))return;t=this.dimension();this.reset(this.$element[t]());this.transition("removeClass",e.Event("hide"),"hidden");this.$element[t](0)},reset:function(e){var t=this.dimension();this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth;this.$element[e!==null?"addClass":"removeClass"]("collapse");return this},transition:function(t,i,a){var r=this,s=function(){if(i.type=="show")r.reset();r.transitioning=0;r.$element.trigger(a)};this.$element.trigger(i);if(i.isDefaultPrevented())return;this.transitioning=1;this.$element[t]("in");e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=e.fn.collapse;e.fn.collapse=function(i){return this.each(function(){var a=e(this),r=a.data("collapse"),s=e.extend({},e.fn.collapse.defaults,a.data(),typeof i=="object"&&i);if(!r)a.data("collapse",r=new t(this,s));if(typeof i=="string")r[i]()})};e.fn.collapse.defaults={toggle:true};e.fn.collapse.Constructor=t;e.fn.collapse.noConflict=function(){e.fn.collapse=i;return this};e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var i=e(this),a,r=i.attr("data-target")||t.preventDefault()||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),s=e(r).data("collapse")?"toggle":i.data();i[e(r).hasClass("in")?"addClass":"removeClass"]("collapsed");e(r).collapse(s)})}(window.jQuery);!function(e){"use strict";var t="[data-toggle=dropdown]",i=function(t){var i=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(t){var i=e(this),s,n;if(i.is(".disabled, :disabled"))return;s=r(i);n=s.hasClass("open");a();if(!n){s.toggleClass("open")}i.focus();return false},keydown:function(i){var a,s,n,o,l,h;if(!/(38|40|27)/.test(i.keyCode))return;a=e(this);i.preventDefault();i.stopPropagation();if(a.is(".disabled, :disabled"))return;o=r(a);l=o.hasClass("open");if(!l||l&&i.keyCode==27){if(i.which==27)o.find(t).focus();return a.click()}s=e("[role=menu] li:not(.divider):visible a",o);if(!s.length)return;h=s.index(s.filter(":focus"));if(i.keyCode==38&&h>0)h--;if(i.keyCode==40&&h<s.length-1)h++;if(!~h)h=0;s.eq(h).focus()}};function a(){e(t).each(function(){r(e(this)).removeClass("open")})}function r(t){var i=t.attr("data-target"),a;if(!i){i=t.attr("href");i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")}a=i&&e(i);if(!a||!a.length)a=t.parent();return a}var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var a=e(this),r=a.data("dropdown");if(!r)a.data("dropdown",r=new i(this));if(typeof t=="string")r[t].call(a)})};e.fn.dropdown.Constructor=i;e.fn.dropdown.noConflict=function(){e.fn.dropdown=s;return this};e(document).on("click.dropdown.data-api",a).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on(".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",t,i.prototype.toggle).on("keydown.dropdown.data-api",t+", [role=menu]",i.prototype.keydown)}(window.jQuery);!function(e){"use strict";var t=function(t,i){this.options=i;this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var t=this,i=e.Event("show");this.$element.trigger(i);if(this.isShown||i.isDefaultPrevented())return;this.isShown=true;this.escape();this.backdrop(function(){var i=e.support.transition&&t.$element.hasClass("fade");if(!t.$element.parent().length){t.$element.appendTo(document.body)}t.$element.show();if(i){t.$element[0].offsetWidth}t.$element.addClass("in").attr("aria-hidden",false);t.enforceFocus();i?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var i=this;t=e.Event("hide");this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=false;this.escape();e(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){if(t.$element[0]!==e.target&&!t.$element.has(e.target).length){t.$element.focus()}})},escape:function(){var e=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()})}else if(!this.isShown){this.$element.off("keyup.dismiss.modal")}},hideWithTransition:function(){var t=this,i=setTimeout(function(){t.$element.off(e.support.transition.end);t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(i);t.hideModal()})},hideModal:function(){var e=this;this.$element.hide();this.backdrop(function(){e.removeBackdrop();e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(t){var i=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&a;this.$backdrop=e('<div class="modal-backdrop '+a+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this));if(r)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!t)return;r?this.$backdrop.one(e.support.transition.end,t):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()}else if(t){t()}}};var i=e.fn.modal;e.fn.modal=function(i){return this.each(function(){var a=e(this),r=a.data("modal"),s=e.extend({},e.fn.modal.defaults,a.data(),typeof i=="object"&&i);if(!r)a.data("modal",r=new t(this,s));if(typeof i=="string")r[i]();else if(s.show)r.show()})};e.fn.modal.defaults={backdrop:true,keyboard:true,show:true};e.fn.modal.Constructor=t;e.fn.modal.noConflict=function(){e.fn.modal=i;return this};e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),a=i.attr("href"),r=e(i.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),s=r.data("modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},r.data(),i.data());t.preventDefault();r.modal(s).one("hide",function(){i.focus()})})}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,i,a){var r,s,n,o,l;this.type=t;this.$element=e(i);this.options=this.getOptions(a);this.enabled=true;n=this.options.trigger.split(" ");for(l=n.length;l--;){o=n[l];if(o=="click"){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else if(o!="manual"){r=o=="hover"?"mouseenter":"focus";s=o=="hover"?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t);if(t.delay&&typeof t.delay=="number"){t.delay={show:t.delay,hide:t.delay}}return t},enter:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);if(!i.options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout);i.hoverState="in";this.timeout=setTimeout(function(){if(i.hoverState=="in")i.show()},i.options.delay.show)},leave:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout)clearTimeout(this.timeout);if(!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out";this.timeout=setTimeout(function(){if(i.hoverState=="out")i.hide()},i.options.delay.hide)},show:function(){var t,i,a,r,s,n,o=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(o);if(o.isDefaultPrevented())return;t=this.tip();this.setContent();if(this.options.animation){t.addClass("fade")}s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement;t.detach().css({top:0,left:0,display:"block"});this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element);i=this.getPosition();a=t[0].offsetWidth;r=t[0].offsetHeight;switch(s){case"bottom":n={top:i.top+i.height,left:i.left+i.width/2-a/2};break;case"top":n={top:i.top-r,left:i.left+i.width/2-a/2};break;case"left":n={top:i.top+i.height/2-r/2,left:i.left-a};break;case"right":n={top:i.top+i.height/2-r/2,left:i.left+i.width};break}this.applyPlacement(n,s);this.$element.trigger("shown")}},applyPlacement:function(e,t){var i=this.tip(),a=i[0].offsetWidth,r=i[0].offsetHeight,s,n,o,l;i.offset(e).addClass(t).addClass("in");s=i[0].offsetWidth;n=i[0].offsetHeight;if(t=="top"&&n!=r){e.top=e.top+r-n;l=true}if(t=="bottom"||t=="top"){o=0;if(e.left<0){o=e.left*-2;e.left=0;i.offset(e);s=i[0].offsetWidth;n=i[0].offsetHeight}this.replaceArrow(o-a+s,s,"left")}else{this.replaceArrow(n-r,n,"top")}if(l)i.offset(e)},replaceArrow:function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t);e.removeClass("fade in top bottom left right")},hide:function(){var t=this,i=this.tip(),a=e.Event("hide");this.$element.trigger(a);if(a.isDefaultPrevented())return;i.removeClass("in");function r(){var t=setTimeout(function(){i.off(e.support.transition.end).detach()},500);i.one(e.support.transition.end,function(){clearTimeout(t);i.detach()})}e.support.transition&&this.$tip.hasClass("fade")?r():i.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof e.attr("data-original-title")!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,i=this.options;e=t.attr("data-original-title")||(typeof i.title=="function"?i.title.call(t[0]):i.title);return e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var i=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var a=e(this),r=a.data("tooltip"),s=typeof i=="object"&&i;if(!r)a.data("tooltip",r=new t(this,s));if(typeof i=="string")r[i]()})};e.fn.tooltip.Constructor=t;e.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};e.fn.tooltip.noConflict=function(){e.fn.tooltip=i;return this}}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t);e.find(".popover-content")[this.options.html?"html":"text"](i);e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,i=this.options;e=(typeof i.content=="function"?i.content.call(t[0]):i.content)||t.attr("data-content");return e},tip:function(){if(!this.$tip){this.$tip=e(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var a=e(this),r=a.data("popover"),s=typeof i=="object"&&i;
if(!r)a.data("popover",r=new t(this,s));if(typeof i=="string")r[i]()})};e.fn.popover.Constructor=t;e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});e.fn.popover.noConflict=function(){e.fn.popover=i;return this}}(window.jQuery);!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),a=t.attr("data-target"),r,s,n;if(!a){a=t.attr("href");a=a&&a.replace(/.*(?=#[^\s]*$)/,"")}if(t.parent("li").hasClass("active"))return;r=i.find(".active:last a")[0];n=e.Event("show",{relatedTarget:r});t.trigger(n);if(n.isDefaultPrevented())return;s=e(a);this.activate(t.parent("li"),i);this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:r})})},activate:function(t,i,a){var r=i.find("> .active"),s=a&&e.support.transition&&r.hasClass("fade");function n(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");t.addClass("active");if(s){t[0].offsetWidth;t.addClass("in")}else{t.removeClass("fade")}if(t.parent(".dropdown-menu")){t.closest("li.dropdown").addClass("active")}a&&a()}s?r.one(e.support.transition.end,n):n();r.removeClass("in")}};var i=e.fn.tab;e.fn.tab=function(i){return this.each(function(){var a=e(this),r=a.data("tab");if(!r)a.data("tab",r=new t(this));if(typeof i=="string")r[i]()})};e.fn.tab.Constructor=t;e.fn.tab.noConflict=function(){e.fn.tab=i;return this};e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault();e(this).tab("show")})}(window.jQuery);!function(e){"use strict";function t(t,i){var a=e.proxy(this.process,this),r=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,i);this.$scrollElement=r.on("scroll.scroll-spy.data-api",a);this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=e("body");this.refresh();this.process()}t.prototype={constructor:t,refresh:function(){var t=this,i;this.offsets=e([]);this.targets=e([]);i=this.$body.find(this.selector).map(function(){var i=e(this),a=i.data("target")||i.attr("href"),r=/^#\w/.test(a)&&e(a);return r&&r.length&&[[r.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),a]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=t-this.$scrollElement.height(),a=this.offsets,r=this.targets,s=this.activeTarget,n;if(e>=i){return s!=(n=r.last()[0])&&this.activate(n)}for(n=a.length;n--;){s!=r[n]&&e>=a[n]&&(!a[n+1]||e<=a[n+1])&&this.activate(r[n])}},activate:function(t){var i,a;this.activeTarget=t;e(this.selector).parent(".active").removeClass("active");a=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]';i=e(a).parent("li").addClass("active");if(i.parent(".dropdown-menu").length){i=i.closest("li.dropdown").addClass("active")}i.trigger("activate")}};var i=e.fn.scrollspy;e.fn.scrollspy=function(i){return this.each(function(){var a=e(this),r=a.data("scrollspy"),s=typeof i=="object"&&i;if(!r)a.data("scrollspy",r=new t(this,s));if(typeof i=="string")r[i]()})};e.fn.scrollspy.Constructor=t;e.fn.scrollspy.defaults={offset:10};e.fn.scrollspy.noConflict=function(){e.fn.scrollspy=i;return this};e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery);!function(e){"use strict";var t=function(t,i){this.options=e.extend({},e.fn.affix.defaults,i);this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this));this.$element=e(t);this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),i=this.$window.scrollTop(),a=this.$element.offset(),r=this.options.offset,s=r.bottom,n=r.top,o="affix affix-top affix-bottom",l;if(typeof r!="object")s=n=r;if(typeof n=="function")n=r.top();if(typeof s=="function")s=r.bottom();l=this.unpin!=null&&i+this.unpin<=a.top?false:s!=null&&a.top+this.$element.height()>=t-s?"bottom":n!=null&&i<=n?"top":false;if(this.affixed===l)return;this.affixed=l;this.unpin=l=="bottom"?a.top-i:null;this.$element.removeClass(o).addClass("affix"+(l?"-"+l:""))};var i=e.fn.affix;e.fn.affix=function(i){return this.each(function(){var a=e(this),r=a.data("affix"),s=typeof i=="object"&&i;if(!r)a.data("affix",r=new t(this,s));if(typeof i=="string")r[i]()})};e.fn.affix.Constructor=t;e.fn.affix.defaults={offset:0};e.fn.affix.noConflict=function(){e.fn.affix=i;return this};e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),i=t.data();i.offset=i.offset||{};i.offsetBottom&&(i.offset.bottom=i.offsetBottom);i.offsetTop&&(i.offset.top=i.offsetTop);t.affix(i)})})}(window.jQuery);!function(e){var t=function(t,a){this.element=e(t);this.format=i.parseFormat(a.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=e(i.template).appendTo("body").on({click:e.proxy(this.click,this)});this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):false;if(this.isInput){this.element.on({focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this)})}else{if(this.component){this.component.on("click",e.proxy(this.show,this))}else{this.element.on("click",e.proxy(this.show,this))}}this.minViewMode=a.minViewMode||this.element.data("date-minviewmode")||0;if(typeof this.minViewMode==="string"){switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0;break}}this.viewMode=a.viewMode||this.element.data("date-viewmode")||0;if(typeof this.viewMode==="string"){switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0;break}}this.startViewMode=this.viewMode;this.weekStart=a.weekStart||this.element.data("date-weekstart")||0;this.weekEnd=this.weekStart===0?6:this.weekStart-1;this.onRender=a.onRender;this.fillDow();this.fillMonths();this.update();this.showMode()};t.prototype={constructor:t,show:function(t){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();e(window).on("resize",e.proxy(this.place,this));if(t){t.stopPropagation();t.preventDefault()}if(!this.isInput){}var i=this;e(document).on("mousedown",function(t){if(e(t.target).closest(".datepicker").length==0){i.hide()}});this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide();e(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){e(document).off("mousedown",this.hide)}this.element.trigger({type:"hide",date:this.date})},set:function(){var e=i.formatDate(this.date,this.format);if(!this.isInput){if(this.component){this.element.find("input").prop("value",e)}this.element.data("date",e)}else{this.element.prop("value",e)}},setValue:function(e){if(typeof e==="string"){this.date=i.parseDate(e,this.format)}else{this.date=new Date(e)}this.set();this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},place:function(){var e=this.component?this.component.offset():this.element.offset();this.picker.css({top:e.top+this.height,left:e.left})},update:function(e){this.date=i.parseDate(typeof e==="string"?e:this.isInput?this.element.prop("value"):this.element.data("date"),this.format);this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},fillDow:function(){var e=this.weekStart;var t="<tr>";while(e<this.weekStart+7){t+='<th class="dow">'+i.dates.daysMin[e++%7]+"</th>"}t+="</tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){var e="";var t=0;while(t<12){e+='<span class="month">'+i.dates.monthsShort[t++]+"</span>"}this.picker.find(".datepicker-months td").append(e)},fill:function(){var e=new Date(this.viewDate),t=e.getFullYear(),a=e.getMonth(),r=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(i.dates.months[a]+" "+t);var s=new Date(t,a-1,28,0,0,0,0),n=i.getDaysInMonth(s.getFullYear(),s.getMonth());s.setDate(n);s.setDate(n-(s.getDay()-this.weekStart+7)%7);var o=new Date(s);o.setDate(o.getDate()+42);o=o.valueOf();var l=[];var h,c,f;while(s.valueOf()<o){if(s.getDay()===this.weekStart){l.push("<tr>")}h=this.onRender(s);c=s.getFullYear();f=s.getMonth();if(f<a&&c===t||c<t){h+=" old"}else if(f>a&&c===t||c>t){h+=" new"}if(s.valueOf()===r){h+=" active"}l.push('<td class="day '+h+'">'+s.getDate()+"</td>");if(s.getDay()===this.weekEnd){l.push("</tr>")}s.setDate(s.getDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(l.join(""));var d=this.date.getFullYear();var u=this.picker.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");if(d===t){u.eq(this.date.getMonth()).addClass("active")}l="";t=parseInt(t/10,10)*10;var p=this.picker.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");t-=1;for(var m=-1;m<11;m++){l+='<span class="year'+(m===-1||m===10?" old":"")+(d===t?" active":"")+'">'+t+"</span>";t+=1}p.html(l)},click:function(t){t.stopPropagation();t.preventDefault();var a=e(t.target).closest("span, td, th");if(a.length===1){switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+i.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+i.modes[this.viewMode].navFnc].call(this.viewDate)+i.modes[this.viewMode].navStep*(a[0].className==="prev"?-1:1));this.fill();this.set();break}break;case"span":if(a.is(".month")){var r=a.parent().find("span").index(a);this.viewDate.setMonth(r)}else{var s=parseInt(a.text(),10)||0;this.viewDate.setFullYear(s)}if(this.viewMode!==0){this.date=new Date(this.viewDate);this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})}this.showMode(-1);this.fill();this.set();break;case"td":if(a.is(".day")&&!a.is(".disabled")){var n=parseInt(a.text(),10)||1;var r=this.viewDate.getMonth();if(a.is(".old")){r-=1}else if(a.is(".new")){r+=1}var s=this.viewDate.getFullYear();this.date=new Date(s,r,n,0,0,0,0);this.viewDate=new Date(s,r,Math.min(28,n),0,0,0,0);this.fill();this.set();this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})}break}}},mousedown:function(e){e.stopPropagation();e.preventDefault()},showMode:function(e){if(e){this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+e))}this.picker.find(">div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show()}};e.fn.datepicker=function(i,a){return this.each(function(){var r=e(this),s=r.data("datepicker"),n=typeof i==="object"&&i;if(!s){r.data("datepicker",s=new t(this,e.extend({},e.fn.datepicker.defaults,n)))}if(typeof i==="string")s[i](a)})};e.fn.datepicker.defaults={onRender:function(e){return""}};e.fn.datepicker.Constructor=t;var i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,i.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},parseFormat:function(e){var t=e.match(/[.\/\-\s].*?/),i=e.split(/\W+/);if(!t||!i||i.length===0){throw new Error("Invalid date format.")}return{separator:t,parts:i}},parseDate:function(e,t){var i=e.split(t.separator),e=new Date,a;e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);if(i.length===t.parts.length){var r=e.getFullYear(),s=e.getDate(),n=e.getMonth();for(var o=0,l=t.parts.length;o<l;o++){a=parseInt(i[o],10)||1;switch(t.parts[o]){case"dd":case"d":s=a;e.setDate(a);break;case"mm":case"m":n=a-1;e.setMonth(a-1);break;case"yy":r=2e3+a;e.setFullYear(2e3+a);break;case"yyyy":r=a;e.setFullYear(a);break}}e=new Date(r,n,s,0,0,0)}return e},formatDate:function(e,t){var i={d:e.getDate(),m:e.getMonth()+1,yy:e.getFullYear().toString().substring(2),yyyy:e.getFullYear()};i.dd=(i.d<10?"0":"")+i.d;i.mm=(i.m<10?"0":"")+i.m;var e=[];for(var a=0,r=t.parts.length;a<r;a++){e.push(i[t.parts[a]])}return e.join(t.separator)},headTemplate:"<thead>"+"<tr>"+'<th class="prev">&lsaquo;</th>'+'<th colspan="5" class="switch"></th>'+'<th class="next">&rsaquo;</th>'+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};i.template='<div class="datepicker dropdown-menu">'+'<div class="datepicker-days">'+'<table class=" table-condensed">'+i.headTemplate+"<tbody></tbody>"+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+i.headTemplate+i.contTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+i.headTemplate+i.contTemplate+"</table>"+"</div>"+"</div>"}(window.jQuery);!function(e,t,i){var a=0,r=["ms","moz","webkit","o"],s;for(s=0;s<r.length&&!e[t];++s){e[t]=e[r[s]+"RequestAnimationFrame"];e[i]=e[r[s]+"CancelAnimationFrame"]||e[r[s]+"CancelRequestAnimationFrame"]}if(!e[t]){e[t]=function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-a)),s=e.setTimeout(function(){t(i+r)},r);a=i+r;return s}}if(!e[i]){e[i]=function(t){e.clearTimeout(t)}}}(this,"requestAnimationFrame","cancelAnimationFrame");var Handlebars={};!function(e,t){e.VERSION="1.0.0";e.COMPILER_REVISION=4;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};e.helpers={};e.partials={};var i=Object.prototype.toString,a="[object Function]",r="[object Object]";e.registerHelper=function(t,a,s){if(i.call(t)===r){if(s||a){throw new e.Exception("Arg not supported with multiple helpers")}e.Utils.extend(this.helpers,t)}else{if(s){a.not=s}this.helpers[t]=a}};e.registerPartial=function(t,a){if(i.call(t)===r){e.Utils.extend(this.partials,t)}else{this.partials[t]=a}};e.registerHelper("helperMissing",function(e){if(arguments.length===2){return t}else{throw new Error("Missing helper: '"+e+"'")}});e.registerHelper("blockHelperMissing",function(t,r){var s=r.inverse||function(){},n=r.fn;var o=i.call(t);if(o===a){t=t.call(this)}if(t===true){return n(this)}else if(t===false||t==null){return s(this)}else if(o==="[object Array]"){if(t.length>0){return e.helpers.each(t,r)}else{return s(this)}}else{return n(t)}});e.K=function(){};e.createFrame=Object.create||function(t){e.K.prototype=t;var i=new e.K;e.K.prototype=null;return i};e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,i){if(e.logger.level<=t){var a=e.logger.methodMap[t];if(typeof console!=="undefined"&&console[a]){console[a].call(console,i)}}}};e.log=function(t,i){e.logger.log(t,i)};e.registerHelper("each",function(t,r){var s=r.fn,n=r.inverse;var o=0,l="",h;var c=i.call(t);if(c===a){t=t.call(this)}if(r.data){h=e.createFrame(r.data)}if(t&&typeof t==="object"){if(t instanceof Array){for(var f=t.length;o<f;o++){if(h){h.index=o}l=l+s(t[o],{data:h})}}else{for(var d in t){if(t.hasOwnProperty(d)){if(h){h.key=d}l=l+s(t[d],{data:h});o++}}}}if(o===0){l=n(this)}return l});e.registerHelper("if",function(t,r){var s=i.call(t);if(s===a){t=t.call(this)}if(!t||e.Utils.isEmpty(t)){return r.inverse(this)}else{return r.fn(this)}});e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn})});e.registerHelper("with",function(t,r){var s=i.call(t);if(s===a){t=t.call(this)}if(!e.Utils.isEmpty(t))return r.fn(t)});e.registerHelper("log",function(t,i){var a=i.data&&i.data.level!=null?parseInt(i.data.level,10):1;e.log(a,t)});var s=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var i=0;i<s.length;i++){this[s[i]]=t[s[i]]}};e.Exception.prototype=new Error;e.SafeString=function(e){this.string=e};e.SafeString.prototype.toString=function(){return this.string.toString()};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var o=/[&<>"'`]/g;var l=/[&<>"'`]/;var h=function(e){return n[e]||"&amp;"};e.Utils={extend:function(e,t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}},escapeExpression:function(t){if(t instanceof e.SafeString){return t.toString()}else if(t==null||t===false){return""}t=t.toString();if(!l.test(t)){return t}return t.replace(o,h)},isEmpty:function(e){if(!e&&e!==0){return true}else if(i.call(e)==="[object Array]"&&e.length===0){return true}else{return false}}};e.VM={template:function(t){var i={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,i,a){var r=this.programs[t];if(a){r=e.VM.program(t,i,a)}else if(!r){r=this.programs[t]=e.VM.program(t,i)}return r},merge:function(t,i){var a=t||i;if(t&&i){a={};e.Utils.extend(a,i);e.Utils.extend(a,t)}return a},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(a,r){r=r||{};var s=t.call(i,e,a,r.helpers,r.partials,r.data);var n=i.compilerInfo||[],o=n[0]||1,l=e.COMPILER_REVISION;if(o!==l){if(o<l){var h=e.REVISION_CHANGES[l],c=e.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+h+") or downgrade your runtime to an older version ("+c+")."}else{throw"Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+n[1]+")."}}return s}},programWithDepth:function(e,t,i){var a=Array.prototype.slice.call(arguments,3);var r=function(e,r){r=r||{};return t.apply(this,[e,r.data||i].concat(a))};r.program=e;r.depth=a.length;return r},program:function(e,t,i){var a=function(e,a){a=a||{};return t(e,a.data||i)};a.program=e;a.depth=0;return a},noop:function(){return""},invokePartial:function(i,a,r,s,n,o){var l={helpers:s,partials:n,data:o};if(i===t){throw new e.Exception("The partial "+a+" could not be found")}else if(i instanceof Function){return i(r,l)}else if(!e.compile){throw new e.Exception("The partial "+a+" could not be compiled when running in runtime-only mode")}else{n[a]=e.compile(i,{data:o!==t});return n[a](r,l)}}};e.template=e.VM.template}(Handlebars);!function(){var e=Handlebars.template,t=Handlebars.templates=Handlebars.templates||{};t["home_character"]=e(function(e,t,i,a,r){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);r=r||{};var s="",n,o,l,h=i.helperMissing,c=this.escapeExpression,f=this,d="function";function u(e,t){var a="",r,s,n;a+="\n    ";r=i["if"].call(e,(r=e&&e.profile,r==null||r===false?r:r.HOME_SHOW_SEPARATORS),{hash:{},inverse:f.noop,fn:f.program(2,p,t),data:t});if(r||r===0){a+=r}a+='\n    <div class="sensitive character-location';r=i.unless.call(e,(r=e&&e.profile,r==null||r===false?r:r.HOME_SHOW_SEPARATORS),{hash:{},inverse:f.noop,fn:f.program(4,m,t),data:t});if(r||r===0){a+=r}a+='">\n      <span class="location-hover" rel="tooltip" title="'+c((s=i.systems_details||e&&e.systems_details,n={hash:{},data:t},s?s.call(e,(r=(r=e&&e.character,r==null||r===false?r:r.details),r==null||r===false?r:r.last_known_location),n):h.call(e,"systems_details",(r=(r=e&&e.character,r==null||r===false?r:r.details),r==null||r===false?r:r.last_known_location),n)))+'">'+c((r=(r=(r=e&&e.character,r==null||r===false?r:r.details),r==null||r===false?r:r.last_known_location),typeof r===d?r.apply(e):r))+"</span>\n      ";r=i["if"].call(e,(r=(r=e&&e.character,r==null||r===false?r:r.details),r==null||r===false?r:r.ship_item_id),{hash:{},inverse:f.noop,fn:f.program(6,g,t),data:t});if(r||r===0){a+=r}a+="\n    </div>\n    ";return a}function p(e,t){return"<hr>"}function m(e,t){return" margin-half-top"}function g(e,t){var a="",r,s,n;a+="\n      -- "+c((s=i.lookup||e&&e.lookup,n={hash:{},data:t},s?s.call(e,e&&e.ships,(r=(r=e&&e.character,r==null||r===false?r:r.details),r==null||r===false?r:r.ship_item_id),n):h.call(e,"lookup",e&&e.ships,(r=(r=e&&e.character,r==null||r===false?r:r.details),r==null||r===false?r:r.ship_item_id),n)))+"\n      ";return a}function E(e,t){var a="",r,s,n;a+="\n    ";r=i["if"].call(e,(r=e&&e.profile,r==null||r===false?r:r.HOME_SHOW_SEPARATORS),{hash:{},inverse:f.noop,fn:f.program(2,p,t),data:t});if(r||r===0){a+=r}a+="\n    <div";r=i.unless.call(e,(r=e&&e.profile,r==null||r===false?r:r.HOME_SHOW_SEPARATORS),{hash:{},inverse:f.noop,fn:f.program(9,v,t),data:t});if(r||r===0){a+=r}a+='>\n      <span class="skill-hover" rel="popover" title="'+c((r=(r=(r=(r=(r=e&&e.character,r==null||r===false?r:r.skill_queue),r==null||r===false?r:r[0]),r==null||r===false?r:r.skill),r==null||r===false?r:r.name),typeof r===d?r.apply(e):r))+'" data-content="';r=(r=(r=(r=(r=(r=e&&e.character,r==null||r===false?r:r.skill_queue),r==null||r===false?r:r[0]),r==null||r===false?r:r.skill),r==null||r===false?r:r.html),typeof r===d?r.apply(e):r);if(r||r===0){a+=r}a+='">'+c((r=(r=(r=(r=(r=e&&e.character,r==null||r===false?r:r.skill_queue),r==null||r===false?r:r[0]),r==null||r===false?r:r.skill),r==null||r===false?r:r.name),typeof r===d?r.apply(e):r))+" ";r=i["if"].call(e,(r=(r=(r=e&&e.character,r==null||r===false?r:r.skill_queue),r==null||r===false?r:r[0]),r==null||r===false?r:r.to_level),{hash:{},inverse:f.noop,fn:f.program(11,y,t),data:t});if(r||r===0){a+=r}a+='</span>\n      <span class="small">(Rank '+c((r=(r=(r=(r=(r=e&&e.character,r==null||r===false?r:r.skill_queue),r==null||r===false?r:r[0]),r==null||r===false?r:r.skill),r==null||r===false?r:r.rank),typeof r===d?r.apply(e):r))+')</span>\n      <br>\n      <em class="small skillduration">'+c((s=i.shortduration||e&&e.shortduration,n={hash:{},data:t},s?s.call(e,(r=(r=(r=e&&e.character,r==null||r===false?r:r.skill_queue),r==null||r===false?r:r[0]),r==null||r===false?r:r.duration),n):h.call(e,"shortduration",(r=(r=(r=e&&e.character,r==null||r===false?r:r.skill_queue),r==null||r===false?r:r[0]),r==null||r===false?r:r.duration),n)))+" @ "+c((s=i.comma||e&&e.comma,n={hash:{},data:t},s?s.call(e,(r=(r=(r=e&&e.character,r==null||r===false?r:r.skill_queue),r==null||r===false?r:r[0]),r==null||r===false?r:r.sp_per_hour),n):h.call(e,"comma",(r=(r=(r=e&&e.character,r==null||r===false?r:r.skill_queue),r==null||r===false?r:r[0]),r==null||r===false?r:r.sp_per_hour),n)))+' SP/hr</em>\n      <em class="small pull-right queueduration">Queue: '+c((s=i.shortduration||e&&e.shortduration,n={hash:{},data:t},s?s.call(e,(r=e&&e.character,r==null||r===false?r:r.skill_queue_duration),n):h.call(e,"shortduration",(r=e&&e.character,r==null||r===false?r:r.skill_queue_duration),n)))+'</em>\n      <div class="progress';r=i["if"].call(e,(r=e&&e.character,r==null||r===false?r:r.skill_queue_low),{hash:{},inverse:f.noop,fn:f.program(13,_,t),data:t});if(r||r===0){a+=r}a+='">\n        <div class="bar" style="width: '+c((r=(r=(r=(r=e&&e.character,r==null||r===false?r:r.skill_queue),r==null||r===false?r:r[0]),r==null||r===false?r:r.complete_percent),typeof r===d?r.apply(e):r))+'%">'+c((r=(r=(r=(r=e&&e.character,r==null||r===false?r:r.skill_queue),r==null||r===false?r:r[0]),r==null||r===false?r:r.complete_percent),typeof r===d?r.apply(e):r))+"%</div>\n      </div>\n    </div>\n    ";return a}function v(e,t){return' class="margin-half-top"'}function y(e,t){var a,r,s;return c((r=i.roman||e&&e.roman,s={hash:{},data:t},r?r.call(e,(a=(a=(a=e&&e.character,a==null||a===false?a:a.skill_queue),a==null||a===false?a:a[0]),a==null||a===false?a:a.to_level),s):h.call(e,"roman",(a=(a=(a=e&&e.character,a==null||a===false?a:a.skill_queue),a==null||a===false?a:a[0]),a==null||a===false?a:a.to_level),s)))}function _(e,t){return" progress-danger"}function b(e,t){return'<hr class="home-notifications hide">'}s+='  <div class="well-small well home-character">\n    <div>\n      <span class="large">\n        <a href="character/'+c((n=(n=t&&t.character,n==null||n===false?n:n.name),typeof n===d?n.apply(t):n))+'" class="sensitive character-name" rel="tooltip" title="'+c((o=i.corp||t&&t.corp,l={hash:{},data:r},o?o.call(t,(n=t&&t.character,n==null||n===false?n:n.corporation),l):h.call(t,"corp",(n=t&&t.character,n==null||n===false?n:n.corporation),l)))+'">'+c((n=(n=t&&t.character,n==null||n===false?n:n.name),typeof n===d?n.apply(t):n))+'</a>\n      </span>\n      <span class="small pull-right sensitive apikey-name">['+c((n=(n=(n=t&&t.character,n==null||n===false?n:n.apikey),n==null||n===false?n:n.name),typeof n===d?n.apply(t):n))+"]</span>\n    </div>\n\n    <div>\n      <span>"+c((o=i.comma||t&&t.comma,l={hash:{},data:r},o?o.call(t,(n=(n=t&&t.character,n==null||n===false?n:n.details),n==null||n===false?n:n.wallet_balance),l):h.call(t,"comma",(n=(n=t&&t.character,n==null||n===false?n:n.details),n==null||n===false?n:n.wallet_balance),l)))+' ISK</span>\n      <span class="small pull-right total-sp">'+c((o=i.comma||t&&t.comma,l={hash:{},data:r},o?o.call(t,(n=(n=t&&t.character,n==null||n===false?n:n.details),n==null||n===false?n:n.total_sp),l):h.call(t,"comma",(n=(n=t&&t.character,n==null||n===false?n:n.details),n==null||n===false?n:n.total_sp),l)))+" SP</span>\n    </div>\n\n    ";n=i["if"].call(t,(n=t&&t.profile,n==null||n===false?n:n.HOME_SHOW_LOCATIONS),{hash:{},inverse:f.noop,fn:f.program(1,u,r),data:r});if(n||n===0){s+=n}s+="\n\n    ";n=i["if"].call(t,(n=t&&t.character,n==null||n===false?n:n.skill_queue),{hash:{},inverse:f.noop,fn:f.program(8,E,r),data:r});if(n||n===0){s+=n}s+="\n    ";n=i["if"].call(t,(n=t&&t.profile,n==null||n===false?n:n.HOME_SHOW_SEPARATORS),{hash:{},inverse:f.noop,fn:f.program(15,b,r),data:r});if(n||n===0){s+=n}s+='\n    <ul class="home-notifications">\n        <li class="no-game-time hide"><i class="icon-time" rel="tooltip" title="Game time has expired!"></i><span>Expired</span></li>\n        <li class="low-game-time hide"><i class="icon-time" rel="tooltip" title="Remaining game time is low!"></i><span></span></li>\n        <li class="key-expiring hide"><i class="icon-key" rel="tooltip" title="API key is close to expiring!"></i></li>\n        <li class="empty-skill-queue hide"><i class="icon-list-ol" rel="tooltip" title="Skill queue is empty!"></i><span>Empty!</span></li>\n        <li class="low-skill-queue hide"><i class="icon-list-ol" rel="tooltip" title="Skill queue is not full!"></i><span></span></li>\n        <li class="implants hide"><i class="icon-lightbulb" rel="tooltip" title="Missing stat implants for currently training skill!"></i><span></span></li>\n        <li class="clone hide"><i class="icon-user-md" rel="tooltip" title="Insufficient clone!"></i><span></span></li>\n    </ul>\n  </div>\n';return s});t["mail_list"]=e(function(e,t,i,a,r){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);r=r||{};var s="",n,o,l="function",h=this.escapeExpression;s+="                  <tr";if(o=i.rowClass){n=o.call(t,{hash:{},data:r})}else{o=t&&t.rowClass;n=typeof o===l?o.call(t,{hash:{},data:r}):o}s+=h(n)+' data-message-id="';if(o=i.message_id){n=o.call(t,{hash:{},data:r})}else{o=t&&t.message_id;n=typeof o===l?o.call(t,{hash:{},data:r}):o}s+=h(n)+'">\n                    <td class="mail-checkbox"><input type="checkbox" name="message_';if(o=i.message_id){n=o.call(t,{hash:{},data:r})}else{o=t&&t.message_id;n=typeof o===l?o.call(t,{hash:{},data:r}):o}s+=h(n)+'"></td>\n                    <td class="mail-from">';if(o=i.senderText){n=o.call(t,{hash:{},data:r})}else{o=t&&t.senderText;n=typeof o===l?o.call(t,{hash:{},data:r}):o}s+=h(n)+'</td>\n                    <td class="mail-to">';if(o=i.toText){n=o.call(t,{hash:{},data:r})}else{o=t&&t.toText;n=typeof o===l?o.call(t,{hash:{},data:r}):o}s+=h(n)+'</td>\n                    <td><a class="mail-link" href="#';if(o=i.message_id){n=o.call(t,{hash:{},data:r})}else{o=t&&t.message_id;n=typeof o===l?o.call(t,{hash:{},data:r}):o}s+=h(n)+'">';if(o=i.subjectText){n=o.call(t,{hash:{},data:r})}else{o=t&&t.subjectText;n=typeof o===l?o.call(t,{hash:{},data:r}):o}s+=h(n)+'</a></td>\n                    <td class="mail-date">';if(o=i.sent_date){n=o.call(t,{hash:{},data:r})}else{o=t&&t.sent_date;n=typeof o===l?o.call(t,{hash:{},data:r}):o}s+=h(n)+"</td>\n                  </tr>\n";return s})}();jQuery.ajaxSettings.traditional=true;var EVEthing={util:{sorted_keys:function(e){var t=[];for(var i in e)t.push(i);return t.sort()},sorted_keys_by_value:function(e){var t=[];for(var i in e)t.push(i);return t.sort(function(t,i){if(e[t]<e[i])return-1;if(e[t]>e[i])return 1;return 0})}},misc:{setClock:function(){var e=new Date;var t=e.getUTCHours();if(t<10)t="0"+t;var i=e.getUTCMinutes();if(i<10)i="0"+i;$("#utc-time").text(t+":"+i)},setup_tab_hash:function(){var e="tab_";var t=document.location.hash;if(t){$(".nav-tabs a[href="+t.replace("#","#"+e)+"]").tab("show")}$('a[data-toggle="tab"]').on("shown",function(t){window.location.hash=t.target.hash.replace("#"+e,"#")})}}};$(document).ready(function(){var e=window.location.pathname;$("#nav-list li a").each(function(){if($(this).attr("href")==e){$(this).parent().addClass("active")}});$("[rel=tooltip]").tooltip();$(".dropdown-toggle").dropdown();$(".skill-hover").popover({animation:false,trigger:"hover",html:true});EVEthing.misc.setClock();window.setInterval(EVEthing.misc.setClock,5e3)});$.tablesorter.addParser({id:"human",is:function(e){return/^[0-9\,\.]+[KMB]?$/.test(e)},format:function(e){var e=e.replace(/\,/g,"");var t=e.length-1;var i=e.charAt(t);if(i=="K"){return e.substr(0,t)*1e3}else if(i=="M"){return e.substr(0,t)*1e6}else if(i=="B"){return e.substr(0,t)*1e9}else{return e}},type:"numeric"});$.extend($.tablesorter.themes.bootstrap,{icons:"",sortNone:"icon-sort",sortAsc:"icon-caret-up",sortDesc:"icon-caret-down"});function parseUri(e){var t=parseUri.options,i=t.parser[t.strictMode?"strict":"loose"].exec(e),a={},r=14;while(r--)a[t.key[r]]=i[r]||"";a[t.q.name]={};a[t.key[12]].replace(t.q.parser,function(e,i,r){if(i)a[t.q.name][i]=r});return a}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function parseQueryString(){var e=(window.location.search||"?").substr(1),t={};e.replace(/([^&=]+)=?([^&]*)(?:&+|$)/g,function(e,i,a){(t[i]=t[i]||[]).push(a)});return t}Handlebars.getTemplate=function(e){if(Handlebars.templates===undefined||Handlebars.templates[e]===undefined){$.ajax({url:"/static/handlebars/"+e+".handlebars",success:function(t){if(Handlebars.templates===undefined){Handlebars.templates={}}Handlebars.templates[e]=Handlebars.compile(t)},async:false})}return Handlebars.templates[e]};EVEthing.account={savedTD:null,savedHTML:null,masks:{2:"AssetList",8:"CharacterSheet",128:"IndustryJobs",4096:"MarketOrders",262144:"SkillQueue",524288:"Standings",2097152:"WalletJournal",4194304:"WalletTransactions",33554432:"AccountStatus",67108864:"Contracts",134217728:"Locations"},onload:function(){EVEthing.misc.setup_tab_hash();$("#key-table").on("click",".js-edit-name, .js-edit-group-name",function(e){$("#key-table form").remove();
var t=$(this).parents("tr").attr("data-id");var i=$(this).parent().text();if(EVEthing.account.savedTD){$(EVEthing.account.savedTD).html(EVEthing.account.savedHTML);EVEthing.account.savedTD=null;EVEthing.account.savedHTML=null}EVEthing.account.savedTD=$(this).parent();EVEthing.account.savedHTML=EVEthing.account.savedTD.html();if($(this).hasClass("js-edit-group-name")){var a="group_name";var r="name"}else{var a="name";var r="group_name"}var s=[];$(this).parent().html(s.join(""));$("#magic_keyname").focus()});$("#key-table").on("click",".js-delete",function(e){var t=$(this).parents("tr").attr("data-id");var i=$.trim($("td:nth-child(5)",$(this).parents("tr")).text());$("#delete-keyid-input").val(t);$("#delete-keyid").text(t);$("#delete-keyname").text(i)});$("#key-table").on("click",".js-purge",function(e){var t=$(this).parents("tr").attr("data-id");var i=$.trim($("td:nth-child(5)",$(this).parents("tr")).text());$("#purge-keyid-input").val(t);$("#purge-keyid").text(t);$("#purge-keyname").text(i)});$(".edit-skillplan").on("click",function(e){var t=$(this).parents("tr").attr("data-id");var i=$("td:nth-child(2)",$(this).parents("tr")).text();var a=$(this).parents("tr").attr("data-vis");$("#edit-skillplan-id").val(t);$("#edit-skillplan-name").val(i);$("#edit-skillplan-visibility").val(a)});$(".delete-skillplan").on("click",function(e){var t=$(this).parents("tr").attr("data-id");var i=$("td:nth-child(2)",$(this).parents("tr")).text();$("#delete-skillplan-id").val(t);$("#delete-skillplan-name").text(i)});$("#build-table").on("change",".apikey-build",EVEthing.account.build_apikey);EVEthing.account.build_apikey();EVEthing.account.HOME_GROUP_DATALIST=$("datalist#home_groups");EVEthing.account.build_home_group_list();$('tbody.characters input[type="text"]').change(EVEthing.account.build_home_group_list);$.tablesorter.addParser({id:"inputValueParser",is:function(e,t,i){return $(i).find("input").length>0},format:function(e,t,i,a){var r=$($(i).find("input")[0]);if(r.attr("type")=="checkbox"){return r[0].checked==true?"0":"1"}return r.val()},parsed:true,type:"text"});$("table.characters").tablesorter({uitheme:"bootstrap"})},HOME_GROUP_DATALIST:null,build_home_group_list:function(){EVEthing.account.HOME_GROUP_DATALIST.empty();var e={};var t=$('tbody.characters input[type="text"]');for(var i=0;i<t.length;i++){var a=$(t[i]).val();if(!(a in e)){e[a]=true}}e=Object.keys(e);e.sort();for(var i in e){EVEthing.account.HOME_GROUP_DATALIST.append($('<option value="'+e[i]+'" />'))}},build_apikey:function(){$("#apikey-required").empty();var e=0;$(".apikey-build:checked").each(function(){masks=$(this).attr("data-masks").split(";");for(i in masks){mask=parseInt(masks[i]);if((e&mask)==0){e+=mask;$("#apikey-required").append("<li>"+EVEthing.account.masks[mask]+"</li>")}}});$("#apikey-link").attr("href","https://community.eveonline.com/support/api-key/CreatePredefined?accessMask="+e);if(e==0){$("#apikey-required").append("<li>None</li>")}}};EVEthing.assets={onload:function(){EVEthing.filters.bind_events();EVEthing.filters.load_filters(EVEthing.assets.filters);$("#sidenav").affix({offset:EVEthing.assets.sidenav_offset})},filter_onload:function(){$(".asset-expand").on("click",function(){var e=$(this);if(e.hasClass("icon-chevron-right")){e.addClass("icon-chevron-down").removeClass("icon-chevron-right");$(e.attr("data-target")).show()}else{e.addClass("icon-chevron-right").removeClass("icon-chevron-down");$(e.attr("data-target")).hide()}});$(".asset-eft").on("click",function(){var e=$(this);var t=$("i:nth-child(1)",e.parent()).attr("data-target");var i=$.trim($(".asset-ship-type",e.parent()).text());var a=$.trim($(".asset-ship-name",e.parent()).text());if(!a){a="From Assets"}var r=null;var s="["+i+", "+a+"]\n";$(t).each(function(){var e=$.trim($("td:nth-child(4)",$(this)).text());if(e.substr(-4)=="Slot"){if(r&&r!=e){s+="\n"}r=e;var t=$.trim($("td:nth-child(2)",$(this)).text());s+=t+"\n"}});$("#eft-textarea").val(s);$("#eft-modal").modal("show")});$("#eft-modal").on("shown",function(){$("#eft-textarea").select()})},sidenav_offset:{top:function(){var e=$(window).height();var t=$("#sidenav").height();if(e>=t+75){return $("#total").offset().top}else{return 999999}}}};EVEthing.blueprints={onload:function(){$("#checkall").on("click",function(){$(".js-check").prop("checked",this.checked?"checked":false)});$(".bp-edit").on("click",function(){$tr=$(this).parents("tr");$("#bp-edit-bpi_id").attr("value",$tr.find("td").eq(0).text());$("#bp-edit-name").val($tr.find("td").eq(1).text());$("#bp-edit-ml").val($tr.find("td").eq(3).text());$("#bp-edit-pl").val($tr.find("td").eq(4).text());$("#edit-blueprint").modal("show")});$(".bp-delete").on("click",function(){$tr=$(this).parents("tr");$("#bp-del-bpi_id").attr("value",$tr.find("td").eq(0).text());$("#bp-del-id").text($tr.find("td").eq(0).text());$("#bp-del-name").text($tr.find("td").eq(1).text());$("#bp-del-type").text($tr.find("td").eq(2).text());$("#bp-del-ml").text($tr.find("td").eq(3).text());$("#bp-del-pl").text($tr.find("td").eq(4).text());$("#del-blueprint").modal("show")})}};EVEthing.bpcalc={onload:function(){$("#build-table").tablesorter({headers:{1:{sorter:false},2:{sorter:"human"},3:{sorter:"human"},4:{sorter:false},5:{sorter:"human"},7:{sorter:false},8:{sorter:"human"},10:{sorter:false},11:{sorter:false},12:{sorter:false},13:{sorter:false},14:{sorter:false},15:{sorter:false}},sortList:[[8,1]]})},filter_profit:function(){var e=[];var t=$("#profit").attr("value");$("#build-table tbody tr").each(function(i,a){var r=$(a).children()[9];var s=parseFloat($(r).text().split("%")[0]);if(s>=t)e.push("bpi="+$(a).attr("data_bpi"))});var i=parseUri(window.location.href);var a=i.queryKey.days;window.location=i.path+"?days="+a+"&"+e.join("&")},filter_movement:function(){var e=[];var t=$("#movement").attr("value");$("#build-table tbody tr").each(function(i,a){var r=$(a).children()[14];var s=parseFloat($(r).text().split("%")[0]);if(s<t){e.push("bpi="+$(a).attr("data_bpi"))}});var i=parseUri(window.location.href);var a=i.queryKey.days;window.location=i.path+"?days="+a+"&"+e.join("&")},filter_slots:function(){var e=[];var t=$("#slots").val();$("#build-table tbody tr").each(function(i,a){if(i<t){e.push("bpi="+$(a).attr("data_bpi"))}});var i=parseUri(window.location.href);var a=i.queryKey.days;window.location=i.path+"?days="+a+"&"+e.join("&")},filter_checked:function(){var e=[];$("#build-table tbody tr td input").each(function(t,i){if(!i.checked){e.push("bpi="+$(i).closest("tr").attr("data_bpi"))}});var t=parseUri(window.location.href);var i=t.queryKey.days;window.location=t.path+"?days="+i+"&"+e.join("&")}};EVEthing.character={anon_checked:null,sidenav_top:0,onload:function(){EVEthing.misc.setup_tab_hash();$("#skillplans-toggle").on("click",function(){$("#skillplans-personal").toggle();$("#skillplans-global").toggle()});$("#settings-toggle").on("click",function(){$("#settings-box").toggle()});$("#public-checkbox").change(EVEthing.character.public_checkbox_change);EVEthing.character.public_checkbox_change();$("#anon-toggle").change(EVEthing.character.anon_toggle);EVEthing.character.anon_toggle($("#anon-toggle"));$("#settings-form").on("submit",EVEthing.character.settings_submit);$("#sidenav").affix({offset:EVEthing.character.sidenav_offset})},sidenav_offset:{top:function(){var e=window.innerHeight;var t=$("#sidenav").height();if(e>=t+75){return $("#sidenav-offset").offset().top-50}else{return 999999}}},public_checkbox_change:function(){if(this.checked){$(".disable-toggle").removeAttr("disabled")}else{$(".disable-toggle").attr("disabled","disabled")}},anon_toggle:function(){if($("#anon-toggle").is(":checked")){var e=$("#anon-key").val();if(e!==""){var t='<a href="'+EVEthing.character.anon_url.replace("zzzz",e)+'">Anonymized link</a>';$("#anon-key-label").html(t)}else{$("#anon-key-label").html('<i class="icon-anchor"></i> Save to get new link')}}else{$("#anon-key-label").empty()}},settings_submit:function(e){if(e.preventDefault){e.preventDefault()}$("#settings-status").html('<i class="icon-spinner icon-spin"></i> Saving...');$.post($(this).attr("action"),$(this).serialize(),function(e){if(typeof e==="object"){$("#anon-key").val(e.anon_key);$("#settings-status").html('<i class="icon-ok"></i> Saved!');EVEthing.character.anon_toggle()}else{$("#settings-status").html('<i class="icon-remove"></i> Error!')}});return false}};EVEthing.filters={comparisons:{eq:"==",ne:"!=",gt:">",gte:">=",lt:"<",lte:"<=","in":"contains",bt:"between"},bind_events:function(){$("#filters").on("click",".js-add",function(){$("#filters").append(EVEthing.filters.build());$(".date").datepicker()});$("#filters").on("click",".js-delete",function(){$(this).parent().remove();if($(".filter-type").length==0){$("#filters").append(EVEthing.filters.build())}});$("#filters").on("change",".filter-type",function(){var e=$(this);e.siblings("select, input").remove();e.after(EVEthing.filters.build_comparison(e.val(),undefined));var t=e.next();t.after(EVEthing.filters.build_value(e.val(),t.val(),""));$(".date").datepicker()});$("#filters").on("change",".filter-comp",function(){var e=$(this).prev();var t=$(this);var i=t.next();var a=t.val();if(a==="in"&&!i.is("input")||a==="bt"||a!=="in"&&a!=="bt"&&!i.is("select")){i.remove();t.after(EVEthing.filters.build_value(e.val(),t.val(),""));$(".date").datepicker()}});$("#filters").on("changeDate",".date",function(e){var t=$("span:first",$(this).parent().parent());var i=[];$.each($('input[type="text"]',t),function(e,t){i.push($(t).val())});$('input[type="hidden"]',t).val(i.join())});$(".date").datepicker()},load_filters:function(e){var t=0;$.each(e,function(e,i){for(var a=0;a<i.length;a++){$("#filters").append(EVEthing.filters.build(e,i[a][0],i[a][1]));t++}});if(t===0){$("#filters").append(EVEthing.filters.build())}},build:function(e,t,i){var a='<div class="control-group" style="margin: 0;">';a+='<select name="ft" class="filter-type input-medium">';a+='<option value=""></option>';$.each(EVEthing.util.sorted_keys(EVEthing.filters.expected),function(t,i){if(i===e){a+='<option value="'+i+'" selected>'+EVEthing.filters.expected[i].label+"</option>"}else{a+='<option value="'+i+'">'+EVEthing.filters.expected[i].label+"</option>"}});a+="</select>";if(e){a+=EVEthing.filters.build_comparison(e,t);a+=EVEthing.filters.build_value(e,t,i)}a+='&nbsp;<i class="js-add icon-plus clickable filter-icon"></i>';a+='<i class="js-delete icon-trash clickable filter-icon"></i>';a+="</div>";return a},build_comparison:function(e,t){html=' <select name="fc" class="filter-comp input-small">';for(var i in EVEthing.filters.expected[e].comps){var a=EVEthing.filters.expected[e].comps[i];if(a==t){html+='<option value="'+a+'" selected>'+EVEthing.filters.comparisons[a]+"</option>"}else{html+='<option value="'+a+'">'+EVEthing.filters.comparisons[a]+"</option>"}}html+="</select>";return html},build_value:function(e,t,i){html=" ";if(t=="in"){html+='<input name="fv" class="filter-value span2" type="text" value="'+i+'">'}else if(e=="date"){dates=i.split(",");for(var a=dates.length;a<2;a++){dates.push("")}html+="<span>";html+='<div class="input-append date" data-date="'+dates[0]+'" data-date-format="yyyy-mm-dd">';html+='<input type="text" class="input-small" value="'+dates[0]+'" readonly>';html+='<span class="add-on"><i class="icon-calendar"></i></span></div>';if(t=="bt"){html+=" and ";html+='<div class="input-append date" data-date="'+dates[1]+'" data-date-format="yyyy-mm-dd">';html+='<input type="text" class="input-small" value="'+dates[1]+'" readonly>';html+='<span class="add-on"><i class="icon-calendar"></i></span></div>'}html+='<input type="hidden" name="fv" value="">';html+="</span>"}else if(EVEthing.filters.data[e]){html+='<select name="fv" class="filter-value span2">';$.each(EVEthing.util.sorted_keys_by_value(EVEthing.filters.data[e]),function(t,a){var r=EVEthing.filters.data[e][a];if(a==i){html+='<option value="'+a+'" selected>'+r+"</option>"}else{html+='<option value="'+a+'">'+r+"</option>"}});html+="</select>"}else{html+='<input name="fv" class="filter-value span2" type="text" value="'+i+'">'}return html}};"use strict";Handlebars.registerHelper("lookup",function(e,t){if(e.hasOwnProperty(t))return e[t];return t});Handlebars.registerHelper("corp",function(e){if(EVEthing.home.CORPORATIONS.hasOwnProperty(e)){var t=EVEthing.home.CORPORATIONS[e];var i="["+t["ticker"]+"] "+t["name"];if(EVEthing.home.ALLIANCES.hasOwnProperty(t["alliance"])){var a=EVEthing.home.ALLIANCES[t["alliance"]];i=i+"<br/> ("+a["short_name"]+") "+a["name"]}return i}return e});Handlebars.registerHelper("systems_details",function(e){if(EVEthing.home.SYSTEMS.hasOwnProperty(e)){return e+" - "+EVEthing.home.SYSTEMS[e]["constellation"]+" - "+EVEthing.home.SYSTEMS[e]["region"]}return""});Handlebars.registerHelper("roman",function(e){if(!+e)return false;var t=String(+e).split(""),i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],a="",r=3;while(r--)a=(i[+t.pop()+r*10]||"")+a;return Array(+t.join("")+1).join("M")+a});Handlebars.registerHelper("comma",function(e){var t=e.toString().split(".");t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return t.join(".")});function __duration(e){var t=Math.floor(e/60);e=e%60;var i=Math.floor(t/60);t=t%60;var a=Math.floor(i/24);i=i%24;var r=[];if(a!=0)r[r.length]=a+"d";if(i!=0)r[r.length]=i+"h";if(t!=0)r[r.length]=t+"m";if(e!=0)r[r.length]=e+"s";return r}Handlebars.registerHelper("duration",function(e){return __duration(e).join(" ")});Handlebars.registerHelper("shortduration",function(e){var t=__duration(e);var i=[];if(t.length>2){i[0]=t[0];i[1]=t[1]}else{i=t}return i.join(" ")});if(typeof EVEthing==="undefined")EVEthing={};EVEthing.home={ONE_DAY:24*60*60,EXPIRE_WARNING:10*24*60*60,REPLACEMENTS:{"character-name":"Character Name","apikey-name":"API name","corporation-name":"Corporation Name [TICKR]","character-location":"Hoth -- X-Wing","wallet-division":"Hookers & Blow","user-name":"Mr. User"},SP_PER_LEVEL:{0:0,1:250,2:1415,3:8e3,4:45255,5:256e3},PROFILE:{CHAR_COL_SPAN:3,HOME_CHARS_PER_ROW:4,HOME_SHOW_LOCATIONS:true,HOME_SHOW_SEPARATORS:true,HOME_SORT_ORDER:"apiname",HOME_SORT_DESCENDING:false,HOME_SORT_EMPTY_QUEUE_LAST:false,HOME_HIGHLIGHT_BACKGROUNDS:true,HOME_HIGHLIGHT_BORDER:true},SUCCESS_CSS_CLASS:"",WARNING_CSS_CLASS:"",ERROR_CSS_CLASS:"",SORT_PROFILE_TO_FUNC_MAP:{skillqueue:"skill_queue",apiname:"api_name",charname:"char_name",corpname:"corp_name",totalsp:"total_sp",wallet:"wallet_balance"},FUNC_TO_SORT_PROFILE_MAP:{},IGNORE_GROUPS:false,SHIPS:{},CORPORATIONS:{},ALLIANCES:{},SYSTEMS:{},CHARACTERS:{},EVENTS:[],CHARACTER_TEMPLATE:Handlebars.getTemplate("home_character"),CHARACTER_ORDER:[],REFRESH_HINTS:{skill_queue:{},account:{},details:{}}};for(var i in EVEthing.home.SORT_PROFILE_TO_FUNC_MAP){if(!EVEthing.home.SORT_PROFILE_TO_FUNC_MAP.hasOwnProperty(i))continue;EVEthing.home.FUNC_TO_SORT_PROFILE_MAP[EVEthing.home.SORT_PROFILE_TO_FUNC_MAP[i]]=i}EVEthing.home.onload=function(){$("body").on("click",".js-screenshot",EVEthing.home.screenshot_mode);EVEthing.home.initialLoad();var e=document.cookie.split(/[;\s|=]/);var t=e.indexOf("homePageSortBy");if(t>=0){EVEthing.home.PROFILE.HOME_SORT_ORDER=EVEthing.home.FUNC_TO_SORT_PROFILE_MAP[e[t+1]];EVEthing.home.PROFILE.HOME_SORT_DESCENDING=e[e.indexOf("homePageSortOrder")+1]=="desc"}var i=e.indexOf("homePageSortEmptyQueueLast");if(i>=0){if(e[i+1]=="true"){EVEthing.home.PROFILE.HOME_SORT_EMPTY_QUEUE_LAST=true}else if(e[i+1]=="false"){EVEthing.home.PROFILE.HOME_SORT_EMPTY_QUEUE_LAST=false}}var a=e.indexOf("homePageIgnoreGroups");if(a>=0){if(e[a+1]=="true"){EVEthing.home.IGNORE_GROUPS=true}else if(e[a+1]=="false"){EVEthing.home.IGNORE_GROUPS=false}}var r=EVEthing.home.character_ordering[EVEthing.home.SORT_PROFILE_TO_FUNC_MAP[EVEthing.home.PROFILE.HOME_SORT_ORDER]];var s=$('<li class="pull-right dropdown sort-by"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><b class="caret"></b>Sort By: <output></output></a></li>');s.find("output").val(r.NAME+" "+(EVEthing.home.PROFILE.HOME_SORT_DESCENDING?r.NAME_REVERSE:r.NAME_FORWARD));var n=$('<ul class="dropdown-menu"></ul>');s.append(n);for(var o in EVEthing.home.character_ordering){if(EVEthing.home.character_ordering.hasOwnProperty(o)){n.append('<li><a href="#'+o+'">'+EVEthing.home.character_ordering[o].NAME+"</a></li>")}}n.append('<li class="divider"></li>');n.append('<li><a href="#empty_queue_last"><b class="icon-'+(EVEthing.home.PROFILE.HOME_SORT_EMPTY_QUEUE_LAST?"ok":"remove")+'"></b> Empty Queues Last</a></li>');n.append('<li><a href="#use_groups"><b class="icon-'+(EVEthing.home.IGNORE_GROUPS?"remove":"ok")+'"></b> Use Groups</a></li>');n.find("a").click(EVEthing.home.onSortByClicked);$("ul.summary-row li.pull-right").after(s);if(EVEthing.home.PROFILE.HOME_HIGHLIGHT_BACKGROUNDS){EVEthing.home.SUCCESS_CSS_CLASS+=" background-success";EVEthing.home.WARNING_CSS_CLASS+=" background-warn";EVEthing.home.ERROR_CSS_CLASS+=" background-error"}if(EVEthing.home.PROFILE.HOME_HIGHLIGHT_BORDER){EVEthing.home.SUCCESS_CSS_CLASS+=" border-success";EVEthing.home.WARNING_CSS_CLASS+=" border-warn";EVEthing.home.ERROR_CSS_CLASS+=" border-error"}window.requestAnimationFrame(function(){EVEthing.home.animate(Math.round((new Date).getTime()/1e3)-10)})};EVEthing.home.animate=function(e){var t=Math.round((new Date).getTime()/1e3);if(t-e<1){window.requestAnimationFrame(function(){EVEthing.home.animate(e)})}else{window.requestAnimationFrame(function(){EVEthing.home.animate(t)});var i=0;for(var a in EVEthing.home.CHARACTERS){if(EVEthing.home.CHARACTERS.hasOwnProperty(a)){var r=EVEthing.home.CHARACTERS[a].animate(t);i=i+r["total_sp"]}}$('output[name="total_sp"]').val(Handlebars.helpers.comma(i)+" ISK");for(var a in EVEthing.home.EVENTS){if(EVEthing.home.EVENTS.hasOwnProperty(a))EVEthing.home.EVENTS[a].animate(t)}}};EVEthing.home.onSortByClicked=function(e){e.stopPropagation();e.preventDefault();var t=$(e.target);if(t.is("b"))t=t.parent();var i=t[0].href.split("#")[1];if(i=="use_groups"){EVEthing.home.IGNORE_GROUPS=!EVEthing.home.IGNORE_GROUPS;var a=$(t).find("b");a.removeClass("icon-ok icon-remove");a.addClass("icon-"+(EVEthing.home.IGNORE_GROUPS?"remove":"ok"));document.cookie="homePageIgnoreGroups="+String(EVEthing.home.IGNORE_GROUPS)}else if(i=="empty_queue_last"){EVEthing.home.PROFILE.HOME_SORT_EMPTY_QUEUE_LAST=!EVEthing.home.PROFILE.HOME_SORT_EMPTY_QUEUE_LAST;var a=$(t).find("b");a.removeClass("icon-ok icon-remove");a.addClass("icon-"+(EVEthing.home.PROFILE.HOME_SORT_EMPTY_QUEUE_LAST?"ok":"remove"));document.cookie="homePageSortEmptyQueueLast="+String(EVEthing.home.PROFILE.HOME_SORT_EMPTY_QUEUE_LAST)}else{var r=EVEthing.home.character_ordering[i];var s="asc";var n=r.NAME+" "+(EVEthing.home.PROFILE.HOME_SORT_DESCENDING?r.NAME_REVERSE:r.NAME_FORWARD);var o=$("li.sort-by output");if(o.val()!=n){o.val(n)}else{o.val(r.NAME+" "+(EVEthing.home.PROFILE.HOME_SORT_DESCENDING?r.NAME_FORWARD:r.NAME_REVERSE));s="desc";r=EVEthing.home.reverse_ordering(r)}document.cookie="homePageSortBy="+i;document.cookie="homePageSortOrder="+s;EVEthing.home.sort_characters(r)}EVEthing.home.draw_characters();return false};EVEthing.home.draw_characters=function(){if(EVEthing.home.CHARACTER_ORDER.length!=Object.keys(EVEthing.home.CHARACTERS).length){EVEthing.home.sort_characters()}if(EVEthing.home.IGNORE_GROUPS){EVEthing.home.GroupDisplay.removeAll();EVEthing.home.CharacterListDisplay.draw();EVEthing.home.CharacterListDisplay.html.insertAfter(".summary-row")}else{EVEthing.home.CharacterListDisplay.remove();for(var e=0;e<EVEthing.home.GroupDisplay.GROUP_ORDER.length;e++){EVEthing.home.GroupDisplay.GROUPS[EVEthing.home.GroupDisplay.GROUP_ORDER[e]].draw();EVEthing.home.GroupDisplay.GROUPS[EVEthing.home.GroupDisplay.GROUP_ORDER[e]].html.insertAfter(".summary-row")}}};EVEthing.home.character_ordering={};EVEthing.home.character_ordering.skill_queue=function(e,t){return EVEthing.home.CHARACTERS[e].character.skill_queue_duration-EVEthing.home.CHARACTERS[t].character.skill_queue_duration};EVEthing.home.character_ordering.skill_queue.NAME="Skill Queue Duration";EVEthing.home.character_ordering.skill_queue.NAME_FORWARD="Asc";EVEthing.home.character_ordering.skill_queue.NAME_REVERSE="Desc";EVEthing.home.character_ordering.api_name=function(e,t){return EVEthing.home.CHARACTERS[e].character.apikey.name.localeCompare(EVEthing.home.CHARACTERS[t].character.apikey.name)};EVEthing.home.character_ordering.api_name.NAME="API Name";EVEthing.home.character_ordering.api_name.NAME_FORWARD="Asc";EVEthing.home.character_ordering.api_name.NAME_REVERSE="Desc";EVEthing.home.character_ordering.char_name=function(e,t){return EVEthing.home.CHARACTERS[e].character.name.localeCompare(EVEthing.home.CHARACTERS[t].character.name)};EVEthing.home.character_ordering.char_name.NAME="Character Name";EVEthing.home.character_ordering.char_name.NAME_FORWARD="Asc";EVEthing.home.character_ordering.char_name.NAME_REVERSE="Desc";EVEthing.home.character_ordering.corp_name=function(e,t){var i=EVEthing.home.CHARACTERS[e].character.corporation;var a=EVEthing.home.CHARACTERS[t].character.corporation;return EVEthing.home.CORPORATIONS[i].name.localeCompare(EVEthing.home.CORPORATIONS[a].name)};EVEthing.home.character_ordering.corp_name.NAME="Corporation Name";EVEthing.home.character_ordering.corp_name.NAME_FORWARD="Asc";EVEthing.home.character_ordering.corp_name.NAME_REVERSE="Desc";EVEthing.home.character_ordering.total_sp=function(e,t){return EVEthing.home.CHARACTERS[e].character.details.total_sp-EVEthing.home.CHARACTERS[t].character.details.total_sp};EVEthing.home.character_ordering.total_sp.NAME="Total Skill Points";EVEthing.home.character_ordering.total_sp.NAME_FORWARD="Asc";EVEthing.home.character_ordering.total_sp.NAME_REVERSE="Desc";EVEthing.home.character_ordering.wallet_balance=function(e,t){return EVEthing.home.CHARACTERS[e].character.details.wallet_balance-EVEthing.home.CHARACTERS[t].character.details.wallet_balance};EVEthing.home.character_ordering.wallet_balance.NAME="Wallet Ballance";EVEthing.home.character_ordering.wallet_balance.NAME_FORWARD="Asc";EVEthing.home.character_ordering.wallet_balance.NAME_REVERSE="Desc";EVEthing.home.reverse_ordering=function(e){return function(t,i){return e(i,t)}};EVEthing.home.sort_characters=function(){if(EVEthing.home.CHARACTER_ORDER.length!=EVEthing.home.CHARACTERS.length){EVEthing.home.CHARACTER_ORDER=Object.keys(EVEthing.home.CHARACTERS)}var e=[];for(var t in arguments){if(!arguments.hasOwnProperty(t))continue;e[e.length]=arguments[t]}if(e.length==0&&EVEthing.home.SORT_PROFILE_TO_FUNC_MAP.hasOwnProperty(EVEthing.home.PROFILE.HOME_SORT_ORDER)){var i=EVEthing.home.SORT_PROFILE_TO_FUNC_MAP[EVEthing.home.PROFILE.HOME_SORT_ORDER];if(EVEthing.home.character_ordering.hasOwnProperty(i)){e[0]=EVEthing.home.character_ordering[i]}}if(e.length==0){for(var t in EVEthing.home.character_ordering){if(!EVEthing.home.character_ordering.hasOwnProperty(t))continue;e[e.length]=EVEthing.home.character_ordering[t]}}for(var t=0;t<e.length;t++){var a=e[t];if(EVEthing.home.PROFILE.HOME_SORT_DESCENDING){a=EVEthing.home.reverse_ordering(a)}EVEthing.home.CHARACTER_ORDER.sort(a)}};EVEthing.home.initialLoad=function(){$.get("home/api",{options:["characters","details","corporations","alliances","skill_queues","event_log","summary","systems"]},EVEthing.home.handleResponse)};EVEthing.home.handleResponse=function(e,t,i){if(e.hasOwnProperty("ships")){EVEthing.home.parseShips(e);delete e["ships"]}if(e.hasOwnProperty("alliances")){EVEthing.home.parseAlliances(e);delete e["alliances"]}if(e.hasOwnProperty("corporations")){EVEthing.home.parseCorporations(e);delete e["corporations"]}if(e.hasOwnProperty("systems")){EVEthing.home.parseSystems(e);delete e["systems"]}if(e.hasOwnProperty("characters")){var a=0;for(var r in e.characters){if(!e.characters.hasOwnProperty(r))continue;if(EVEthing.home.CHARACTERS.hasOwnProperty(r))EVEthing.home.CHARACTERS[r].update(e);EVEthing.home.CHARACTERS[r]=new EVEthing.home.CharacterDisplay(r,e);EVEthing.home.GroupDisplay.addCharacter(EVEthing.home.CHARACTERS[r]);a=a+parseFloat(EVEthing.home.CHARACTERS[r].character.details.wallet_balance)}$('output[name="total_wallet"]').val(Handlebars.helpers.comma(a.toFixed(2))+" ISK")}if(e.hasOwnProperty("events")){for(var r in e.events){if(!e.events.hasOwnProperty(r))continue;EVEthing.home.EVENTS[r]=new EVEthing.home.EventDisplay(e.events[r]["text"],e.events[r]["issued"]);$(".events").append(EVEthing.home.EVENTS[r].html)}}if(e.hasOwnProperty("summary")){if(e.summary.hasOwnProperty("total_assets")){$('output[name="personal_assets"]').val(Handlebars.helpers.comma(e.summary.total_assets)+" ISK")}}EVEthing.home.draw_characters()};EVEthing.home.parseShips=function(e){for(var t in e.ships){if(!e.ships.hasOwnProperty(t))continue;EVEthing.home.SHIPS[t]=e.ships[t]}};EVEthing.home.parseAlliances=function(e){for(var t in e.alliances){if(!e.alliances.hasOwnProperty(t))continue;EVEthing.home.ALLIANCES[t]=e.alliances[t]}};EVEthing.home.parseCorporations=function(e){for(var t in e.corporations){if(!e.corporations.hasOwnProperty(t))continue;EVEthing.home.CORPORATIONS[t]=e.corporations[t]}};EVEthing.home.parseSystems=function(e){for(var t in e.systems){if(!e.systems.hasOwnProperty(t))continue;EVEthing.home.SYSTEMS[t]=e.systems[t]}};EVEthing.home.screenshot_mode=function(){$(".sensitive").each(function(){var e=$(this);var t=e.attr("oldname");if(t===undefined){e.attr("oldname",e.text());var i=e.attr("class").split(/\s+/);for(var a=0;a<i.length;a++){var r=EVEthing.home.REPLACEMENTS[i[a]];if(r!==undefined){e.text(r);break}}}else{e.text(t);e.removeAttr("oldname")}});var e=Array();$(".row-fluid").each(function(){var t=$(this);$(".well",t).each(function(){var t=$(this);var i=false;$("[rel=tooltip]",t).each(function(){var t=$(this);if(i==false&&e[t.attr("class")]===undefined){i=true;e[t.attr("class")]=true;if(t.attr("shown")===undefined){t.tooltip("show");t.attr("shown","yup")}else{t.tooltip("hide");t.removeAttr("shown")}}})})})};EVEthing.home.CharacterListDisplay={};EVEthing.home.CharacterListDisplay.draw=function(){if(typeof this.html=="undefined")this.html=null;if(this.html!==null)this.html.remove();this.html=$('<div class="margin-half-top"></div>');var e=$('<div class="row-fluid"></div>');var t=[];for(var i=0;i<EVEthing.home.CHARACTER_ORDER.length;i++){if(e.children().length>=EVEthing.home.PROFILE.HOME_CHARS_PER_ROW){this.html.append(e);e=$('<div class="row-fluid"></div>')}if(EVEthing.home.PROFILE.HOME_SORT_EMPTY_QUEUE_LAST){var a=true;if(EVEthing.home.CHARACTERS[EVEthing.home.CHARACTER_ORDER[i]].character.hasOwnProperty("skill_queue")){if(EVEthing.home.CHARACTERS[EVEthing.home.CHARACTER_ORDER[i]].character.skill_queue.length>0){a=false;e.append(EVEthing.home.CHARACTERS[EVEthing.home.CHARACTER_ORDER[i]].well)}}if(a){t[t.length]=EVEthing.home.CHARACTER_ORDER[i]}}else{e.append(EVEthing.home.CHARACTERS[EVEthing.home.CHARACTER_ORDER[i]].well)}}for(var i=0;i<t.length;i++){if(e.children().length>=EVEthing.home.PROFILE.HOME_CHARS_PER_ROW){this.html.append(e);e=$('<div class="row-fluid"></div>')}e.append(EVEthing.home.CHARACTERS[t[i]].well)}this.html.append(e);this.html.append("<hr />")};EVEthing.home.CharacterListDisplay.remove=function(){if(typeof this.html=="undefined")this.html=null;if(this.html!==null)this.html.remove()};EVEthing.home.GroupDisplay=function(e){this.name=e;this.characters=[];this.html=null};EVEthing.home.GroupDisplay.GROUP_ORDER=[];EVEthing.home.GroupDisplay.GROUPS={};EVEthing.home.GroupDisplay.addCharacter=function(e){if(!EVEthing.home.GroupDisplay.GROUPS.hasOwnProperty(e.character.config.home_group)){EVEthing.home.GroupDisplay.GROUPS[e.character.config.home_group]=new EVEthing.home.GroupDisplay(e.character.config.home_group);EVEthing.home.GroupDisplay.GROUP_ORDER[EVEthing.home.GroupDisplay.GROUP_ORDER.length]=e.character.config.home_group;EVEthing.home.GroupDisplay.GROUP_ORDER.sort().reverse()}EVEthing.home.GroupDisplay.GROUPS[e.character.config.home_group].add(e)};EVEthing.home.GroupDisplay.removeAll=function(){for(var e in EVEthing.home.GroupDisplay.GROUPS){if(!EVEthing.home.GroupDisplay.GROUPS.hasOwnProperty(e))continue;EVEthing.home.GroupDisplay.GROUPS[e].remove()}};EVEthing.home.GroupDisplay.prototype.add=function(e){this.characters[this.characters.length]=e.character_id};EVEthing.home.GroupDisplay.prototype.draw=function(){if(this.html!==null)this.html.remove();this.html=$('<div class="margin-half-top"></div>');this.html.append($("<p>"+this.name+"</p>"));var e=$('<div class="row-fluid"></div>');var t=[];for(var i=0;i<EVEthing.home.CHARACTER_ORDER.length;i++){if(e.children().length>=EVEthing.home.PROFILE.HOME_CHARS_PER_ROW){this.html.append(e);e=$('<div class="row-fluid"></div>')}if(this.characters.indexOf(EVEthing.home.CHARACTER_ORDER[i])>=0){if(EVEthing.home.PROFILE.HOME_SORT_EMPTY_QUEUE_LAST){var a=true;if(EVEthing.home.CHARACTERS[EVEthing.home.CHARACTER_ORDER[i]].character.hasOwnProperty("skill_queue")){if(EVEthing.home.CHARACTERS[EVEthing.home.CHARACTER_ORDER[i]].character.skill_queue.length>0){a=false;e.append(EVEthing.home.CHARACTERS[EVEthing.home.CHARACTER_ORDER[i]].well)}}if(a){t[t.length]=EVEthing.home.CHARACTER_ORDER[i]}}else{e.append(EVEthing.home.CHARACTERS[EVEthing.home.CHARACTER_ORDER[i]].well)}}}for(var i=0;i<t.length;i++){if(e.children().length>=EVEthing.home.PROFILE.HOME_CHARS_PER_ROW){this.html.append(e);e=$('<div class="row-fluid"></div>')}e.append(EVEthing.home.CHARACTERS[t[i]].well)}this.html.append(e);this.html.append("<hr />")};EVEthing.home.GroupDisplay.prototype.remove=function(){if(this.html!==null)this.html.remove()};EVEthing.home.EventDisplay=function(e,t){this.issued=Math.round(new Date(t+"+00:00").getTime()/1e3);this.html=$("<li></li>");this.age=$("<span></span>");this.text=$("<span></span>");this.text.html(e);this.html.append(this.age);this.html.append($("<strong> / </strong>"));this.html.append(this.text)};EVEthing.home.EventDisplay.prototype.animate=function(e){this.age.text(Handlebars.helpers.shortduration(e-this.issued)+" ago")};EVEthing.home.CharacterDisplay=function(e,t){this.character_id=e;this.well=$("<div></div>");this.well.addClass("span"+EVEthing.home.PROFILE.CHAR_COL_SPAN);this.html=null;if(typeof t!="undefined"){this.parseResponse(t)}else{this.load()}};EVEthing.home.CharacterDisplay.prototype.load=function(){};EVEthing.home.CharacterDisplay.prototype.update=function(){};EVEthing.home.CharacterDisplay.prototype.animate=function(e){var t=false;var i=false;var a=this.character.details.total_sp;var r=true;if(this.character.hasOwnProperty("skill_queue")){if(this.character.skill_queue.length>0){r=false;while(this.character.skill_queue[0].end_time<e){this.character.details.total_sp=this.character.details.total_sp+this.character.skill_queue[0].end_sp-this.character.skill_queue[0].start_sp;this.character.skill_queue.shift();a=this.character.details.total_sp;this.render()}var s=this.character.skill_queue[0].end_time-Math.round((new Date).getTime()/1e3);var n=s*(this.character.skill_queue[0].sp_per_minute/60);var o=EVEthing.home.SP_PER_LEVEL[this.character.skill_queue[0].to_level-1]*this.character.skill_queue[0].skill.rank;var l=EVEthing.home.SP_PER_LEVEL[this.character.skill_queue[0].to_level]*this.character.skill_queue[0].skill.rank;var h=l-o;a=Math.round(a+(h-n));this.well.find(".total-sp").text(Handlebars.helpers.comma(a)+" SP");var c=(h-n)/h*100;this.well.find(".progress .bar").text(c.toFixed(1)+"%").css("width",c+"%");this.well.find(".skillduration").text(Handlebars.helpers.duration(s)+" @ "+Handlebars.helpers.comma(this.character.skill_queue[0].sp_per_hour)+" SP/h");var f=s;for(var d=1;d<this.character.skill_queue.length;d++){f+=this.character.skill_queue[d].end_time-this.character.skill_queue[d].start_time}this.well.find(".queueduration").text(Handlebars.helpers.shortduration(f));if(!this.character.config.home_suppress_low_skill_queue){if(f<EVEthing.home.ONE_DAY){this.well.find(".progress").addClass("progress-danger");this.well.find(".home-notifications .low-skill-queue").show();
this.well.find(".home-notifications .low-skill-queue span").text(Handlebars.helpers.shortduration(s));i=true}else{this.well.find(".progress").removeClass("progress-danger");this.well.find(".home-notifications .low-skill-queue").hide()}}if(!this.character.config.home_suppress_implants){if(this.character.details[this.character.skill_queue[0].skill.primary_attribute[1]]==0||this.character.details[this.character.skill_queue[0].skill.secondary_attribute[1]]==0){var u="";if(this.character.details[this.character.skill_queue[0].skill.primary_attribute[1]]==0){var p=this.character.skill_queue[0].skill.primary_attribute[1].split("_")[0];u=p.charAt(0).toUpperCase()+p.slice(1)}if(this.character.details[this.character.skill_queue[0].skill.secondary_attribute[1]]==0){var p=this.character.skill_queue[0].skill.secondary_attribute[1].split("_")[0];if(u!="")u=u+", ";u=u+p.charAt(0).toUpperCase()+p.slice(1)}this.well.find(".home-notifications .implants span").text(u);this.well.find(".home-notifications .implants").show();t=true}else{this.well.find(".home-notifications .implants").hide()}}}}if(!this.character.config.home_suppress_empty_skill_queue){if(r){this.well.find(".home-notifications .empty-skill-queue").show();i=true}else{this.well.find(".home-notifications .empty-skill-queue").hide()}}if(this.character.details.clone_skill_points<a){t=true;this.well.find(".home-notifications .clone").show();this.well.find(".home-notifications .clone span").text(Handlebars.helpers.comma(this.character.details.clone_skill_points))}else{this.well.find(".home-notifications .clone").hide()}if(this.character.apikey.expires){if(this.character.apikey.expires-e<EVEthing.home.EXPIRE_WARNING){this.well.find(".home-notifications .key-expiring").show()}else{this.well.find(".home-notifications .key-expiring").hide()}}var m=this.character.apikey.paid_until-e;if(m<0){if(!this.character.config.home_suppress_no_game_time){i=true;this.well.find(".home-notifications .no-game-time").show()}}else{this.well.find(".home-notifications .no-game-time").hide();if(m<EVEthing.home.EXPIRE_WARNING){if(!this.character.config.home_suppress_low_game_time){t=true;this.well.find(".home-notifications .low-game-time").show();this.well.find(".home-notifications .low-game-time span").text(Handlebars.helpers.shortduration(m))}}else{this.well.find(".home-notifications .low-game-time").hide()}}if(t||i){this.well.find(".home-notifications").show()}else{this.well.find(".home-notifications").hide()}this.well.find(".well").removeClass("background-error border-error");this.well.find(".well").removeClass("background-warn border-warn");this.well.find(".well").removeClass("background-success border-success");if(i){this.well.find(".well").addClass(EVEthing.home.ERROR_CSS_CLASS)}else{if(t){this.well.find(".well").addClass(EVEthing.home.WARNING_CSS_CLASS)}else{this.well.find(".well").addClass(EVEthing.home.SUCCESS_CSS_CLASS)}}return{total_sp:a}};EVEthing.home.CharacterDisplay.prototype.parseResponse=function(e){this.character=e.characters[this.character_id];if(this.character.hasOwnProperty("skill_queue")){for(var t=0;t<this.character.skill_queue.length;t++){var i=0;i+=this.character.details[this.character.skill_queue[t].skill.primary_attribute[0]];i+=this.character.details[this.character.skill_queue[t].skill.primary_attribute[1]];var a=0;a+=this.character.details[this.character.skill_queue[t].skill.secondary_attribute[0]];a+=this.character.details[this.character.skill_queue[t].skill.secondary_attribute[1]];this.character.skill_queue[t].sp_per_minute=i+a/2;this.character.skill_queue[t].sp_per_hour=this.character.skill_queue[t].sp_per_minute*60;this.character.skill_queue[t].end_time=Math.round(new Date(this.character.skill_queue[t].end_time+"+00:00").getTime()/1e3);this.character.skill_queue[t].start_time=Math.round(new Date(this.character.skill_queue[t].start_time+"+00:00").getTime()/1e3)}}if(!this.character.hasOwnProperty("skill_queue_duration"))this.character.skill_queue_duration=0;if(this.character.apikey.expires)this.character.apikey.expires=Math.round(new Date(this.character.apikey.expires+"+00:00").getTime()/1e3);if(this.character.apikey.paid_until)this.character.apikey.paid_until=Math.round(new Date(this.character.apikey.paid_until+"+00:00").getTime()/1e3);if(e.hasOwnProperty("ships"))EVEthing.home.parseShips(e);if(e.hasOwnProperty("alliances"))EVEthing.home.parseAlliances(e);if(e.hasOwnProperty("corporations"))EVEthing.home.parseCorporations(e);if(e.hasOwnProperty("systems"))EVEthing.home.parseSystems(e);this.html=this.render()};EVEthing.home.CharacterDisplay.prototype.render=function(){this.html=$(EVEthing.home.CHARACTER_TEMPLATE({character:this.character,profile:EVEthing.home.PROFILE,ships:EVEthing.home.SHIPS,corporations:EVEthing.home.CORPORATIONS,alliances:EVEthing.home.ALLIANCES}));this.html.find('[rel="popover"]').popover({animation:false,trigger:"hover",html:true});this.html.find('[rel="tooltip"]').tooltip({animation:false,trigger:"hover",html:true});this.well.empty();this.well.append(this.html)};EVEthing.industry={onload:function(){EVEthing.misc.setup_tab_hash()}};EVEthing.mail={onload:function(){$("#mail-side").on("click",".js-filter",function(){setTimeout(EVEthing.mail.build_table,1)});$("#mail-side").on("change","select",EVEthing.mail.build_table);$("#mail-mark-read-button").on("click",EVEthing.mail.mark_read_click);$("#mail-list-check-all").on("click",EVEthing.mail.mail_check_all_click);$("#mail-list-table").on("click",".mail-link",EVEthing.mail.mail_link_click);$(window).on("resize",EVEthing.mail.resize);EVEthing.mail.resize();var e='<option value="0" selected>-ALL-</option><option value="-" disabled>——————————</option>';$.each(EVEthing.util.sorted_keys_by_value(EVEthing.mail.characters),function(t,i){e+='<option value="'+i+'">'+EVEthing.mail.characters[i]+"</option>"});$("#filter-character").html(e);$("#mail-list-table").tablesorter({theme:"bootstrap",headerTemplate:"{content} {icon}",widgets:["uitheme"],headers:{0:{sorter:false}},sortList:[[4,1]]});EVEthing.mail.onload_hash();$.get(EVEthing.mail.headers_url,function(e){EVEthing.mail.data=e;EVEthing.mail.data.message_map={};for(var t=0;t<e.messages.length;t++){message=e.messages[t];EVEthing.mail.data.message_map[message.message_id]=message;if(message.to_list_id>0){var i=EVEthing.mail.data.mailing_lists[message.to_list_id]||"Unknown list";message.to_list='<i class="icon-list"></i> '+i}else if(message.to_corp_or_alliance_id>0){var a=EVEthing.mail.data.corporations[message.to_corp_or_alliance_id];if(a!==undefined){message.to_corporation='<i class="icon-group"></i> '+a.name}else{var r=EVEthing.mail.data.alliances[message.to_corp_or_alliance_id];if(r!==undefined){message.to_alliance='<i class="icon-hospital"></i> '+r.name}else{message.to_alliance='<i class="icon-hospital"></i> Unknown alliance'}}}else{if(message.to_characters.length>0){if(message.to_characters.length>1){message.to_character='<i class="icon-asterisk"></i> Multiple characters'}else{message.to_character=EVEthing.mail.data.characters[message.to_characters[0]]||"*UNKNOWN*"}}else{message.to_character=EVEthing.mail.data.characters[message.character_id]||"*UNKNOWN*"}}}$("#mail-list-loading").remove();EVEthing.mail.build_table()});Handlebars.registerHelper("rowClass",function(){if(this.read){return new Handlebars.SafeString(' class="success"')}else{return new Handlebars.SafeString(' class="error"')}});Handlebars.registerHelper("toText",function(){return new Handlebars.SafeString(this.to_list||this.to_alliance||this.to_corporation||this.to_character)});Handlebars.registerHelper("senderText",function(){return EVEthing.mail.data.characters[this.sender_id]||"*UNKNOWN*"});Handlebars.registerHelper("subjectText",function(){return this.title||"*BLANK SUBJECT*"})},onload_hash:function(){var e=document.location.hash.replace("#","").split(";");if(e.length===2){var t=e[0].split("");if(t.length===6){if(t[0]==="f"){$("#filter-unread").removeClass("active")}else{$("#filter-unread").addClass("active")}if(t[1]==="f"){$("#filter-read").removeClass("active")}else{$("#filter-read").addClass("active")}$("#filter-to-character").prop("checked",t[2]==="f"?false:"checked");$("#filter-to-corporation").prop("checked",t[3]==="f"?false:"checked");$("#filter-to-alliance").prop("checked",t[4]==="f"?false:"checked");$("#filter-to-mailing-list").prop("checked",t[5]==="f"?false:"checked");$("#filter-character").val(e[1])}}},resize:function(e){var t=($("#wrap").height()-$("#wrap .navbar").height()-$("#footer").height()-40)/2;var i={"min-height":t+"px","max-height":t+"px"};$(".mail-list").css(i);$(".mail-message").css(i)},build_table:function(){var e=Handlebars.getTemplate("mail_list");var t=$("#filter-unread").hasClass("active");var i=$("#filter-read").hasClass("active");var a=$("#filter-to-character").is(":checked");var r=$("#filter-to-corporation").is(":checked");var s=$("#filter-to-alliance").is(":checked");var n=$("#filter-to-mailing-list").is(":checked");var o=parseInt($("#filter-character").val());var l=0;var h="";for(var c=0;c<EVEthing.mail.data.messages.length;c++){var f=EVEthing.mail.data.messages[c];var d=true;var u=false;if(t&&!f.read){u=true}if(i&&f.read){u=true}d=u;if(d===false){continue}if(o>0&&f.character_id!==o&&f.to_characters.indexOf(o)<0){d=false}if(d===false){continue}keep_to=false;if(a&&f.to_character||r&&f.to_corporation||s&&f.to_alliance||n&&f.to_list){keep_to=true}if(d===true){d=keep_to}if(d===true){l++;h+=e(f)}}$("#mail-list-table tbody").html(h);if(l===0){$("#mail-list-filtered").show()}else{$("#mail-list-filtered").hide()}$("#mail-list-check-all").prop("checked",false);$("#mail-list-table").trigger("update");document.location.hash=[t?"t":"f",i?"t":"f",a?"t":"f",r?"t":"f",s?"t":"f",n?"t":"f",";",o].join("")},mark_read_click:function(){var e=$("#mail-mark-read-form");$.post(e.attr("action"),e.serialize(),function(e){$.each($("#mail-list-table tbody input:checked"),function(e,t){var i=$(t).closest("tr").attr("data-message-id");EVEthing.mail.data.message_map[i].read=true});EVEthing.mail.build_table()})},mail_check_all_click:function(){if($("#mail-list-check-all").is(":checked")){$("#mail-list-table tbody input").prop("checked","checked")}else{$("#mail-list-table tbody input").prop("checked",false)}},mail_link_click:function(e){if(e.preventDefault){e.preventDefault()}var t=$(this).closest("tr");var i=parseInt($(this).attr("href").replace("#",""));for(var a=0;a<EVEthing.mail.data.messages.length;a++){message=EVEthing.mail.data.messages[a];if(message.message_id===i){$("#mail-message-from").html(EVEthing.mail.data.characters[message.sender_id]||"*UNKNOWN*");$("#mail-message-subject").html(message.title);$("#mail-message-date").html(message.sent_date);var r=message.to_list||message.to_alliance||message.to_corporation;if(r===undefined){var s=[];for(var a=0;a<message.to_characters.length;a++){var n=message.to_characters[a];if(EVEthing.mail.characters[n]!==undefined){s.push("<strong>"+EVEthing.mail.characters[n]+"</strong>")}else{s.push(EVEthing.mail.data.characters[n]||"*UNKNOWN*")}}r=s.join(", ")}$("#mail-message-to").html(r);if(message.body!==undefined){$("#mail-message-body").html(message.body)}else{$("#mail-message-body").html('<i class="icon-spinner icon-spin icon-4x"></i>');var o=EVEthing.mail.body_url.replace("0000",i);$.get(o,function(e){if(e.body){t.removeClass("warning");message.body=e.body.replace(/\n/g,"<br>\n");message.read=true;$("#mail-message-body").html(message.body);EVEthing.mail.build_table()}else{$("#mail-message.body").html("<strong>ERROR:</strong> "+e.error)}})}break}}return false}};EVEthing.orders={onload:function(){$("[rel=tooltip]").each(function(){$(this).data("tooltip").options.placement="right"})}};EVEthing.transactions={onload:function(){var e=document.location.search;$("a").each(function(){var e=$(this).attr("href");if(e!==undefined&&e.substr(0,5)==="?page"){var t=parseQueryString();t.page=e.split(/=/)[1];$(this).attr("href","?"+$.param(t))}});EVEthing.filters.bind_events();EVEthing.filters.load_filters(EVEthing.transactions.filters)}};EVEthing.wallet_journal={onload:function(){var e=document.location.search;$("a").each(function(){var e=$(this).attr("href");if(e!==undefined&&e.substr(0,5)==="?page"){var t=parseQueryString();t.page=e.split(/=/)[1];$(this).attr("href","?"+$.param(t))}});EVEthing.filters.bind_events();EVEthing.filters.load_filters(EVEthing.wallet_journal.filters);$("#aggregate-form").submit(function(){var e=$(this).attr("action");var t=$("#filter-form, #aggregate-form").serialize();window.location.href=e+"?"+t;return false})}};
//# sourceMappingURL=/static/js/evething-combined.min.js.map