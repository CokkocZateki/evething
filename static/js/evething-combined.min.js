/*!
* TableSorter 2.10.8 - Client-side table sorting with ease!
* @requires jQuery v1.2.6+
*
* Copyright (c) 2007 Christian Bach
* Examples and docs at: http://tablesorter.com
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
*
* @type jQuery
* @name tablesorter
* @cat Plugins/Tablesorter
* @author Christian Bach/christian.bach@polyester.se
* @contributor Rob Garrison/https://github.com/Mottie/tablesorter
*//*jshint browser:true, jquery:true, unused:false, expr: true *//*global console:false, alert:false */function parseUri(e){var t=parseUri.options,n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;while(i--)r[t.key[i]]=n[i]||"";return r[t.q.name]={},r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)}),r}function parseQueryString(){var e=(window.location.search||"?").substr(1),t={};return e.replace(/([^&=]+)=?([^&]*)(?:&+|$)/g,function(e,n,r){(t[n]=t[n]||[]).push(r.replace(/\+/g," "))}),t}!function(e){"use strict";e.extend({tablesorter:new function(){function n(e){typeof console!="undefined"&&typeof console.log!="undefined"?console.log(e):alert(e)}function r(e,t){n(e+" ("+((new Date).getTime()-t.getTime())+"ms)")}function i(t,n,r){if(!n)return"";var i=t.config,s=i.textExtraction,o="";return s==="simple"?i.supportsTextContent?o=n.textContent:o=e(n).text():typeof s=="function"?o=s(n,t,r):typeof s=="object"&&s.hasOwnProperty(r)?o=s[r](n,t,r):o=i.supportsTextContent?n.textContent:e(n).text(),e.trim(o)}function s(e,r,s,o){var u,a=t.parsers.length,f=!1,l="",c=!0;while(l===""&&c)s++,r[s]?(f=r[s].cells[o],l=i(e,f,o),e.config.debug&&n("Checking if value was empty on row "+s+", column: "+o+': "'+l+'"')):c=!1;while(--a>=0){u=t.parsers[a];if(u&&u.id!=="text"&&u.is&&u.is(l,e,f))return u}return t.getParserById("text")}function o(e){var r=e.config,i=r.$tbodies=r.$table.children("tbody:not(."+r.cssInfoBlock+")"),o,u,a,f,l,c,h,p="";if(i.length===0)return r.debug?n("*Empty table!* Not building a parser cache"):"";o=i[0].rows;if(o[0]){u=[],a=o[0].cells.length;for(f=0;f<a;f++)l=r.$headers.filter(":not([colspan])"),l=l.add(r.$headers.filter('[colspan="1"]')).filter('[data-column="'+f+'"]:last'),c=r.headers[f],h=t.getParserById(t.getData(l,c,"sorter")),r.empties[f]=t.getData(l,c,"empty")||r.emptyTo||(r.emptyToBottom?"bottom":"top"),r.strings[f]=t.getData(l,c,"string")||r.stringTo||"max",h||(h=s(e,o,-1,f)),r.debug&&(p+="column:"+f+"; parser:"+h.id+"; string:"+r.strings[f]+"; empty: "+r.empties[f]+"\n"),u.push(h)}r.debug&&n(p),r.parsers=u}function u(s){var o=s.tBodies,u=s.config,a,f,l=u.parsers,c,h,p,d,v,m,g,y,b=[];u.cache={};if(!l)return u.debug?n("*Empty table!* Not building a cache"):"";u.debug&&(y=new Date),u.showProcessing&&t.isProcessing(s,!0);for(v=0;v<o.length;v++){u.cache[v]={row:[],normalized:[]};if(!e(o[v]).hasClass(u.cssInfoBlock)){a=o[v]&&o[v].rows.length||0,f=o[v].rows[0]&&o[v].rows[0].cells.length||0;for(p=0;p<a;++p){m=e(o[v].rows[p]),g=[];if(m.hasClass(u.cssChildRow)){u.cache[v].row[u.cache[v].row.length-1]=u.cache[v].row[u.cache[v].row.length-1].add(m);continue}u.cache[v].row.push(m);for(d=0;d<f;++d)c=i(s,m[0].cells[d],d),h=l[d].format(c,s,m[0].cells[d],d),g.push(h),(l[d].type||"").toLowerCase()==="numeric"&&(b[d]=Math.max(Math.abs(h)||0,b[d]||0));g.push(u.cache[v].normalized.length),u.cache[v].normalized.push(g)}u.cache[v].colMax=b}}u.showProcessing&&t.isProcessing(s),u.debug&&r("Building cache for "+a+" rows",y)}function a(n,i){var s=n.config,o=n.tBodies,u=[],a=s.cache,f,l,c,h,p,d,v,m,g,y,b,w;if(!a[0])return;s.debug&&(w=new Date);for(g=0;g<o.length;g++){p=e(o[g]);if(p.length&&!p.hasClass(s.cssInfoBlock)){d=t.processTbody(n,p,!0),f=a[g].row,l=a[g].normalized,c=l.length,h=c?l[0].length-1:0;for(v=0;v<c;v++){b=l[v][h],u.push(f[b]);if(!s.appender||!s.removeRows){y=f[b].length;for(m=0;m<y;m++)d.append(f[b][m])}}t.processTbody(n,d,!1)}}s.appender&&s.appender(n,u),s.debug&&r("Rebuilt table",w),i||t.applyWidget(n),e(n).trigger("sortEnd",n)}function f(t){var n=[],r={},i=0,s=e(t).find("thead:eq(0), tfoot").children("tr"),o,u,a,f,l,c,h,p,d,v,m,g;for(o=0;o<s.length;o++){c=s[o].cells;for(u=0;u<c.length;u++){l=c[u],h=l.parentNode.rowIndex,p=h+"-"+l.cellIndex,d=l.rowSpan||1,v=l.colSpan||1,typeof n[h]=="undefined"&&(n[h]=[]);for(a=0;a<n[h].length+1;a++)if(typeof n[h][a]=="undefined"){m=a;break}r[p]=m,i=Math.max(m,i),e(l).attr({"data-column":m});for(a=h;a<h+d;a++){typeof n[a]=="undefined"&&(n[a]=[]),g=n[a];for(f=m;f<m+v;f++)g[f]="x"}}}return t.config.columns=i,r}function l(e){return/^d/i.test(e)||e===1}function c(i){var s=f(i),o,u,a,c,h,d,v,m=i.config;m.headerList=[],m.headerContent=[],m.debug&&(v=new Date),c=m.cssIcon?'<i class="'+m.cssIcon+'"></i>':"",m.$headers=e(i).find(m.selectorHeaders).each(function(n){u=e(this),o=m.headers[n];if(t.getData(u,m.headers[n],"sorter")==="false")return;m.headerContent[n]=this.innerHTML,h=m.headerTemplate.replace(/\{content\}/g,this.innerHTML).replace(/\{icon\}/g,c),m.onRenderTemplate&&(a=m.onRenderTemplate.apply(u,[n,h]),a&&typeof a=="string"&&(h=a)),this.innerHTML='<div class="tablesorter-header-inner">'+h+"</div>",m.onRenderHeader&&m.onRenderHeader.apply(u,[n]),this.column=s[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=l(t.getData(u,o,"sortInitialOrder")||m.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,d=t.getData(u,o,"lockedOrder")||!1,typeof d!="undefined"&&d!==!1&&(this.order=this.lockedOrder=l(d)?[1,1,1]:[0,0,0]),u.addClass(m.cssHeader),m.headerList[n]=this,u.parent().addClass(m.cssHeaderRow),u.attr("tabindex",0)}),p(i),m.debug&&(r("Built headers:",v),n(m.$headers))}function h(e,t,n){var r=e.config;r.$table.find(r.selectorRemove).remove(),o(e),u(e),E(r.$table,t,n)}function p(n){var r,i=n.config;i.$headers.each(function(n,s){r=t.getData(s,i.headers[n],"sorter")==="false",s.sortDisabled=r,e(s)[r?"addClass":"removeClass"]("sorter-false")})}function d(t){var n,r,i,s,o=t.config,u=o.sortList,a=[o.cssAsc,o.cssDesc],f=e(t).find("tfoot tr").children().removeClass(a.join(" "));o.$headers.removeClass(a.join(" ")),s=u.length;for(r=0;r<s;r++)if(u[r][1]!==2){n=o.$headers.not(".sorter-false").filter('[data-column="'+u[r][0]+'"]'+(s===1?":last":""));if(n.length)for(i=0;i<n.length;i++)n[i].sortDisabled||(n.eq(i).addClass(a[u[r][1]]),f.length&&f.filter('[data-column="'+u[r][0]+'"]').eq(i).addClass(a[u[r][1]]))}}function v(t){if(t.config.widthFixed&&e(t).find("colgroup").length===0){var n=e("<colgroup>"),r=e(t).width();e(t.tBodies[0]).find("tr:first").children("td").each(function(){n.append(e("<col>").css("width",parseInt(e(this).width()/r*1e3,10)/10+"%"))}),e(t).prepend(n)}}function m(t,n){var r,i,s,o=t.config,u=n||o.sortList;o.sortList=[],e.each(u,function(t,n){r=[parseInt(n[0],10),parseInt(n[1],10)],s=o.headerList[r[0]],s&&(o.sortList.push(r),i=e.inArray(r[1],s.order),s.count=i>=0?i:r[1]%(o.sortReset?3:2))})}function g(e,t){return e&&e[t]?e[t].type||"":""}function y(n,r,i){var s,o,u,f,l,c=n.config,h=!i[c.sortMultiSortKey],p=e(n);p.trigger("sortStart",n),r.count=i[c.sortResetKey]?2:(r.count+1)%(c.sortReset?3:2),c.sortRestart&&(o=r,c.$headers.each(function(){this!==o&&(h||!e(this).is("."+c.cssDesc+",."+c.cssAsc))&&(this.count=-1)})),o=r.column;if(h){c.sortList=[];if(c.sortForce!==null){s=c.sortForce;for(u=0;u<s.length;u++)s[u][0]!==o&&c.sortList.push(s[u])}f=r.order[r.count];if(f<2){c.sortList.push([o,f]);if(r.colSpan>1)for(u=1;u<r.colSpan;u++)c.sortList.push([o+u,f])}}else{c.sortAppend&&c.sortList.length>1&&t.isValueInArray(c.sortAppend[0][0],c.sortList)&&c.sortList.pop();if(t.isValueInArray(o,c.sortList))for(u=0;u<c.sortList.length;u++)l=c.sortList[u],f=c.headerList[l[0]],l[0]===o&&(l[1]=f.order[f.count],l[1]===2&&(c.sortList.splice(u,1),f.count=-1));else{f=r.order[r.count];if(f<2){c.sortList.push([o,f]);if(r.colSpan>1)for(u=1;u<r.colSpan;u++)c.sortList.push([o+u,f])}}}if(c.sortAppend!==null){s=c.sortAppend;for(u=0;u<s.length;u++)s[u][0]!==o&&c.sortList.push(s[u])}p.trigger("sortBegin",n),setTimeout(function(){d(n),b(n),a(n)},1)}function b(t){var n=0,i=t.config,s=i.sortList,o=s.length,u=t.tBodies.length,a,f,l,c,h,p,d,v,m,y;if(i.serverSideSorting||!i.cache[0])return;i.debug&&(a=new Date);for(l=0;l<u;l++)h=i.cache[l].colMax,p=i.cache[l].normalized,d=p.length,y=p&&p[0]?p[0].length-1:0,p.sort(function(r,u){for(f=0;f<o;f++){c=s[f][0],m=s[f][1],v=/n/i.test(g(i.parsers,c))?"Numeric":"Text",v+=m===0?"":"Desc",/Numeric/.test(v)&&i.strings[c]&&(typeof i.string[i.strings[c]]=="boolean"?n=(m===0?1:-1)*(i.string[i.strings[c]]?-1:1):n=i.strings[c]?i.string[i.strings[c]]||0:0);var a=e.tablesorter["sort"+v](t,r[c],u[c],c,h[c],n);if(a)return a}return r[y]-u[y]});i.debug&&r("Sorting on "+s.toString()+" and dir "+m+" time",a)}function w(e,t){e.trigger("updateComplete"),typeof t=="function"&&t(e[0])}function E(e,t,n){t!==!1&&!e[0].isProcessing?e.trigger("sorton",[e[0].config.sortList,function(){w(e,n)}]):w(e,n)}function S(n){var r=n.config,s=r.$table,f,l;r.$headers.find(r.selectorSort).add(r.$headers.filter(r.selectorSort)).unbind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter",function(t,i){if((t.which||t.button)!==1&&!/sort|keypress/.test(t.type)||t.type==="keypress"&&t.which!==13)return!1;if(t.type==="mouseup"&&i!==!0&&(new Date).getTime()-l>250)return!1;if(t.type==="mousedown")return l=(new Date).getTime(),t.target.tagName==="INPUT"?"":!r.cancelSelection;r.delayInit&&!r.cache&&u(n);var s=/TH|TD/.test(this.tagName)?e(this):e(this).parents("th, td").filter(":first"),o=s[0];o.sortDisabled||y(n,o,t)}),r.cancelSelection&&r.$headers.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"}),s.unbind("sortReset update updateRows updateCell updateAll addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(".tablesorter ")).bind("sortReset.tablesorter",function(e){e.stopPropagation(),r.sortList=[],d(n),b(n),a(n)}).bind("updateAll.tablesorter",function(e,r,i){e.stopPropagation(),t.refreshWidgets(n,!0,!0),t.restoreHeaders(n),c(n),S(n),h(n,r,i)}).bind("update.tablesorter updateRows.tablesorter",function(e,t,r){e.stopPropagation(),p(n),h(n,t,r)}).bind("updateCell.tablesorter",function(t,o,u,a){t.stopPropagation(),s.find(r.selectorRemove).remove();var f,l,c,h=s.find("tbody"),p=h.index(e(o).parents("tbody").filter(":first")),d=e(o).parents("tr").filter(":first");o=e(o)[0],h.length&&p>=0&&(l=h.eq(p).find("tr").index(d),c=o.cellIndex,f=r.cache[p].normalized[l].length-1,r.cache[p].row[n.config.cache[p].normalized[l][f]]=d,r.cache[p].normalized[l][c]=r.parsers[c].format(i(n,o,c),n,o,c),E(s,u,a))}).bind("addRows.tablesorter",function(e,t,u,a){e.stopPropagation();var l,c=t.filter("tr").length,h=[],p=t[0].cells.length,d=s.find("tbody").index(t.parents("tbody").filter(":first"));r.parsers||o(n);for(l=0;l<c;l++){for(f=0;f<p;f++)h[f]=r.parsers[f].format(i(n,t[l].cells[f],f),n,t[l].cells[f],f);h.push(r.cache[d].row.length),r.cache[d].row.push([t[l]]),r.cache[d].normalized.push(h),h=[]}E(s,u,a)}).bind("sorton.tablesorter",function(e,t,r,i){e.stopPropagation(),s.trigger("sortStart",this),m(n,t),d(n),s.trigger("sortBegin",this),b(n),a(n,i),typeof r=="function"&&r(n)}).bind("appendCache.tablesorter",function(e,t,r){e.stopPropagation(),a(n,r),typeof t=="function"&&t(n)}).bind("applyWidgetId.tablesorter",function(e,i){e.stopPropagation(),t.getWidgetById(i).format(n,r,r.widgetOptions)}).bind("applyWidgets.tablesorter",function(e,r){e.stopPropagation(),t.applyWidget(n,r)}).bind("refreshWidgets.tablesorter",function(e,r,i){e.stopPropagation(),t.refreshWidgets(n,r,i)}).bind("destroy.tablesorter",function(e,r,i){e.stopPropagation(),t.destroy(n,r,i)})}var t=this;t.version="2.10.8",t.parsers=[],t.widgets=[],t.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"tablesorter",cssAsc:"tablesorter-headerAsc",cssChildRow:"tablesorter-childRow",cssDesc:"tablesorter-headerDesc",cssHeader:"tablesorter-header",cssHeaderRow:"tablesorter-headerRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",cssProcessing:"tablesorter-processing",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},t.log=n,t.benchmark=r,t.construct=function(r){return this.each(function(){if(!this.tHead||this.tBodies.length===0||this.hasInitialized===!0)return this.config&&this.config.debug?n("stopping initialization! No thead, tbody or tablesorter has already been initialized"):"";var i=e(this),s=this,a,f="",l=e.metadata;s.hasInitialized=!1,s.isProcessing=!0,s.config={},a=e.extend(!0,s.config,t.defaults,r),e.data(s,"tablesorter",a),a.debug&&e.data(s,"startoveralltimer",new Date),a.supportsTextContent=e("<span>x</span>")[0].textContent==="x",a.supportsDataObject=parseFloat(e.fn.jquery)>=1.4,a.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:!0,bottom:!1},/tablesorter\-/.test(i.attr("class"))||(f=a.theme!==""?" tablesorter-"+a.theme:""),a.$table=i.addClass(a.tableClass+f),a.$tbodies=i.children("tbody:not(."+a.cssInfoBlock+")"),c(s),v(s),o(s),a.delayInit||u(s),S(s),a.supportsDataObject&&typeof i.data().sortlist!="undefined"?a.sortList=i.data().sortlist:l&&i.metadata()&&i.metadata().sortlist&&(a.sortList=i.metadata().sortlist),t.applyWidget(s,!0),a.sortList.length>0?i.trigger("sorton",[a.sortList,{},!a.initWidgets]):a.initWidgets&&t.applyWidget(s),a.showProcessing&&i.unbind("sortBegin.tablesorter sortEnd.tablesorter").bind("sortBegin.tablesorter sortEnd.tablesorter",function(e){t.isProcessing(s,e.type==="sortBegin")}),s.hasInitialized=!0,s.isProcessing=!1,a.debug&&t.benchmark("Overall initialization time",e.data(s,"startoveralltimer")),i.trigger("tablesorter-initialized",s),typeof a.initialized=="function"&&a.initialized(s)})},t.isProcessing=function(n,r,i){n=e(n);var s=n[0].config,o=i||n.find("."+s.cssHeader);r?(s.sortList.length>0&&(o=o.filter(function(){return this.sortDisabled?!1:t.isValueInArray(parseFloat(e(this).attr("data-column")),s.sortList)})),o.addClass(s.cssProcessing)):o.removeClass(s.cssProcessing)},t.processTbody=function(t,n,r){var i;if(r)return t.isProcessing=!0,n.before('<span class="tablesorter-savemyplace"/>'),i=e.fn.detach?n.detach():n.remove(),i;i=e(t).find("span.tablesorter-savemyplace"),n.insertAfter(i),i.remove(),t.isProcessing=!1},t.clearTableBody=function(t){e(t)[0].config.$tbodies.empty()},t.restoreHeaders=function(t){var n=t.config;n.$table.find(n.selectorHeaders).each(function(t){e(this).find(".tablesorter-header-inner").length&&e(this).html(n.headerContent[t])})},t.destroy=function(n,r,i){n=e(n)[0];if(!n.hasInitialized)return;t.refreshWidgets(n,!0,!0);var s=e(n),o=n.config,u=s.find("thead:first"),a=u.find("tr."+o.cssHeaderRow).removeClass(o.cssHeaderRow),f=s.find("tfoot:first > tr").children("th, td");u.find("tr").not(a).remove(),s.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(".tablesorter ")),o.$headers.add(f).removeClass(o.cssHeader+" "+o.cssAsc+" "+o.cssDesc).removeAttr("data-column"),a.find(o.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter keypress.tablesorter"),t.restoreHeaders(n),r!==!1&&s.removeClass(o.tableClass+" tablesorter-"+o.theme),n.hasInitialized=!1,typeof i=="function"&&i(n)},t.regex=[/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,/^0x[0-9a-f]+$/i],t.sortText=function(e,n,r,i){if(n===r)return 0;var s=e.config,o=s.string[s.empties[i]||s.emptyTo],u=t.regex,a,f,l,c,h,p,d,v;if(n===""&&o!==0)return typeof o=="boolean"?o?-1:1:-o||-1;if(r===""&&o!==0)return typeof o=="boolean"?o?1:-1:o||1;if(typeof s.textSorter=="function")return s.textSorter(n,r,e,i);a=n.replace(u[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),l=r.replace(u[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),f=parseInt(n.match(u[2]),16)||a.length!==1&&n.match(u[1])&&Date.parse(n),c=parseInt(r.match(u[2]),16)||f&&r.match(u[1])&&Date.parse(r)||null;if(c){if(f<c)return-1;if(f>c)return 1}v=Math.max(a.length,l.length);for(d=0;d<v;d++){h=isNaN(a[d])?a[d]||0:parseFloat(a[d])||0,p=isNaN(l[d])?l[d]||0:parseFloat(l[d])||0;if(isNaN(h)!==isNaN(p))return isNaN(h)?1:-1;typeof h!=typeof p&&(h+="",p+="");if(h<p)return-1;if(h>p)return 1}return 0},t.sortTextDesc=function(e,n,r,i){if(n===r)return 0;var s=e.config,o=s.string[s.empties[i]||s.emptyTo];return n===""&&o!==0?typeof o=="boolean"?o?-1:1:o||1:r===""&&o!==0?typeof o=="boolean"?o?1:-1:-o||-1:typeof s.textSorter=="function"?s.textSorter(r,n,e,i):t.sortText(e,r,n)},t.getTextValue=function(e,t,n){if(t){var r,i=e?e.length:0,s=t+n;for(r=0;r<i;r++)s+=e.charCodeAt(r);return n*s}return 0},t.sortNumeric=function(e,n,r,i,s,o){if(n===r)return 0;var u=e.config,a=u.string[u.empties[i]||u.emptyTo];return n===""&&a!==0?typeof a=="boolean"?a?-1:1:-a||-1:r===""&&a!==0?typeof a=="boolean"?a?1:-1:a||1:(isNaN(n)&&(n=t.getTextValue(n,s,o)),isNaN(r)&&(r=t.getTextValue(r,s,o)),n-r)},t.sortNumericDesc=function(e,n,r,i,s,o){if(n===r)return 0;var u=e.config,a=u.string[u.empties[i]||u.emptyTo];return n===""&&a!==0?typeof a=="boolean"?a?-1:1:a||1:r===""&&a!==0?typeof a=="boolean"?a?1:-1:-a||-1:(isNaN(n)&&(n=t.getTextValue(n,s,o)),isNaN(r)&&(r=t.getTextValue(r,s,o)),r-n)},t.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},t.replaceAccents=function(e){var n,r="[",i=t.characterEquivalents;if(!t.characterRegex){t.characterRegexArray={};for(n in i)typeof n=="string"&&(r+=i[n],t.characterRegexArray[n]=new RegExp("["+i[n]+"]","g"));t.characterRegex=new RegExp(r+"]")}if(t.characterRegex.test(e))for(n in i)typeof n=="string"&&(e=e.replace(t.characterRegexArray[n],n));return e},t.isValueInArray=function(e,t){var n,r=t.length;for(n=0;n<r;n++)if(t[n][0]===e)return!0;return!1},t.addParser=function(e){var n,r=t.parsers.length,i=!0;for(n=0;n<r;n++)t.parsers[n].id.toLowerCase()===e.id.toLowerCase()&&(i=!1);i&&t.parsers.push(e)},t.getParserById=function(e){var n,r=t.parsers.length;for(n=0;n<r;n++)if(t.parsers[n].id.toLowerCase()===e.toString().toLowerCase())return t.parsers[n];return!1},t.addWidget=function(e){t.widgets.push(e)},t.getWidgetById=function(e){var n,r,i=t.widgets.length;for(n=0;n<i;n++){r=t.widgets[n];if(r&&r.hasOwnProperty("id")&&r.id.toLowerCase()===e.toLowerCase())return r}},t.applyWidget=function(n,i){n=e(n)[0];var s=n.config,o=s.widgetOptions,u=[],a,f,l,c;s.debug&&(a=new Date),s.widgets.length&&(s.widgets=e.grep(s.widgets,function(t,n){return e.inArray(t,s.widgets)===n}),e.each(s.widgets||[],function(e,n){c=t.getWidgetById(n),c&&c.id&&(c.priority||(c.priority=10),u[e]=c)}),u.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1}),e.each(u,function(t,r){r&&(i?(r.hasOwnProperty("options")&&(o=n.config.widgetOptions=e.extend(!0,{},r.options,o)),r.hasOwnProperty("init")&&r.init(n,r,s,o)):!i&&r.hasOwnProperty("format")&&r.format(n,s,o,!1))})),s.debug&&(l=s.widgets.length,r("Completed "+(i===!0?"initializing ":"applying ")+l+" widget"+(l!==1?"s":""),a))},t.refreshWidgets=function(r,i,s){r=e(r)[0];var o,u=r.config,a=u.widgets,f=t.widgets,l=f.length;for(o=0;o<l;o++)f[o]&&f[o].id&&(i||e.inArray(f[o].id,a)<0)&&(u.debug&&n("Refeshing widgets: Removing "+f[o].id),f[o].hasOwnProperty("remove")&&f[o].remove(r,u,u.widgetOptions));s!==!0&&t.applyWidget(r,i)},t.getData=function(t,n,r){var i="",s=e(t),o,u;return s.length?(o=e.metadata?s.metadata():!1,u=" "+(s.attr("class")||""),typeof s.data(r)!="undefined"||typeof s.data(r.toLowerCase())!="undefined"?i+=s.data(r)||s.data(r.toLowerCase()):o&&typeof o[r]!="undefined"?i+=o[r]:n&&typeof n[r]!="undefined"?i+=n[r]:u!==" "&&u.match(" "+r+"-")&&(i=u.match(new RegExp("\\s"+r+"-([\\w-]+)"))[1]||""),e.trim(i)):""},t.formatFloat=function(t,n){if(typeof t!="string"||t==="")return t;var r,i=n&&n.config?n.config.usNumberFormat!==!1:typeof n!="undefined"?n:!0;return i?t=t.replace(/,/g,""):t=t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(/,"-").replace(/\)/,"")),r=parseFloat(t),isNaN(r)?e.trim(t):r},t.isDigit=function(e){return isNaN(e)?/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,"")):!0}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"text",is:function(){return!0},format:function(n,r){var i=r.config;return n&&(n=e.trim(i.ignoreCase?n.toLocaleLowerCase():n),n=i.sortLocaleCompare?t.replaceAccents(n):n),n},type:"text"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(n,r){var i=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),r);return n&&typeof i=="number"?i:n?e.trim(n&&r.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[,. ]/g,""))},format:function(n,r){var i=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),r);return n&&typeof i=="number"?i:n?e.trim(n&&r.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,n){var r,i=e?e.split("."):"",s="",o=i.length;for(r=0;r<o;r++)s+=("00"+i[r]).slice(-3);return e?t.formatFloat(s,n):e},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e,n){return e?t.formatFloat(e!==""?(new Date(e.replace(/-/g,"/"))).getTime()||"":"",n):e},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&e.length<15},format:function(e,n){return e?t.formatFloat(e.replace(/%/g,""),n):e},type:"numeric"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)},format:function(e,n){return e?t.formatFloat((new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2"))).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,n,r,i){if(e){var s=n.config,o=s.headerList[i],u=o.dateFormat||t.getData(o,s.headers[i],"dateFormat")||s.dateFormat;e=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),u==="mmddyyyy"?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):u==="ddmmyyyy"?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):u==="yyyymmdd"&&(e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return e?t.formatFloat((new Date(e)).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,n){return e?t.formatFloat((new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2"))).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,n,r){var i=n.config,s=i.parserMetadataName?i.parserMetadataName:"sortValue";return e(r).metadata()[s]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(n,r,i){var s,o,u,a,f,l,c,h,p=new RegExp(r.cssChildRow,"i"),d=r.$tbodies;r.debug&&(l=new Date);for(c=0;c<d.length;c++)s=d.eq(c),h=s.children("tr").length,h>1&&(a=0,o=s.children("tr:visible"),o.each(function(){u=e(this),p.test(this.className)||a++,f=a%2===0,u.removeClass(i.zebra[f?1:0]).addClass(i.zebra[f?0:1])}));r.debug&&t.benchmark("Applying Zebra widget",l)},remove:function(t,n,r){var i,s,o=n.$tbodies,u=(r.zebra||["even","odd"]).join(" ");for(i=0;i<o.length;i++)s=e.tablesorter.processTbody(t,o.eq(i),!0),s.children().removeClass(u),e.tablesorter.processTbody(t,s,!1)}})}(jQuery),function(e){"use strict";var t=e.tablesorter=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up",sortDesc:"icon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}},t.storage=function(t,n,r){var i,s,o=!1,u={},a=t.id||e(".tablesorter").index(e(t)),f=window.location.pathname;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","temp"),o=!0,window.localStorage.removeItem("_tmptest")}catch(l){}e.parseJSON&&(o?u=e.parseJSON(localStorage[n]||"{}"):(s=document.cookie.split(/[;\s|=]/),i=e.inArray(n,s)+1,u=i!==0?e.parseJSON(s[i]||"{}"):{}));if(!r&&r!==""||!window.JSON||!JSON.hasOwnProperty("stringify"))return u&&u[f]?u[f][a]:{};u[f]||(u[f]={}),u[f][a]=r,o?localStorage[n]=JSON.stringify(u):(i=new Date,i.setTime(i.getTime()+31536e6),document.cookie=n+"="+JSON.stringify(u).replace(/\"/g,'"')+"; expires="+i.toGMTString()+"; path=/")},t.addHeaderResizeEvent=function(t,n,r){var i={timer:250},s=e.extend({},i,r),o=t.config,u=o.widgetOptions,a,f=function(){u.resize_flag=!0,a=[],o.$headers.each(function(){var t=e.data(this,"savedSizes"),n=this.offsetWidth,r=this.offsetHeight;if(n!==t[0]||r!==t[1])e.data(this,"savedSizes",[n,r]),a.push(this)}),a.length&&o.$table.trigger("resize",[a]),u.resize_flag=!1};clearInterval(u.resize_timer);if(n)return u.resize_flag=!1,!1;o.$headers.each(function(){e.data(this,"savedSizes",[this.offsetWidth,this.offsetHeight])}),u.resize_timer=setInterval(function(){if(u.resize_flag)return;f()},s.timer)},t.addWidget({id:"uitheme",priority:10,options:{uitheme:"jui"},format:function(n,r,i){var s,o,u,a,f=t.themes,l=r.$table,c=r.theme!=="default"?r.theme:i.uitheme||"jui",h=f[f[c]?c:f[i.uitheme]?i.uitheme:"jui"],p=r.$headers,d="tr."+(i.stickyHeaders||"tablesorter-stickyHeader"),v=h.sortNone+" "+h.sortDesc+" "+h.sortAsc;r.debug&&(s=new Date);if(!l.hasClass("tablesorter-"+c)||r.theme===c||!n.hasInitialized)h.even!==""&&(i.zebra[0]+=" "+h.even),h.odd!==""&&(i.zebra[1]+=" "+h.odd),f=l.removeClass(r.theme===""?"":"tablesorter-"+r.theme).addClass("tablesorter-"+c+" "+h.table).find("tfoot"),f.length&&f.find("tr").addClass(h.footerRow).children("th, td").addClass(h.footerCells),p.addClass(h.header).filter(":not(.sorter-false)").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)[t.type==="mouseenter"?"addClass":"removeClass"](h.hover)}),p.find(".tablesorter-wrapper").length||p.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>'),r.cssIcon&&p.find("."+r.cssIcon).addClass(h.icons),l.hasClass("hasFilters")&&p.find(".tablesorter-filter-row").addClass(h.filterRow);e.each(p,function(t){u=e(this),a=r.cssIcon?u.find("."+r.cssIcon):u,this.sortDisabled?(u.removeClass(v),a.removeClass(v+" tablesorter-icon "+h.icons)):(f=l.hasClass("hasStickyHeaders")?l.find(d).find("th").eq(t).add(u):u,o=u.hasClass(r.cssAsc)?h.sortAsc:u.hasClass(r.cssDesc)?h.sortDesc:u.hasClass(r.cssHeader)?h.sortNone:"",u[o===h.sortNone?"removeClass":"addClass"](h.active),a.removeClass(v).addClass(o))}),r.debug&&t.benchmark("Applying "+c+" theme",s)},remove:function(e,n,r){var i=n.$table,s=typeof r.uitheme=="object"?"jui":r.uitheme||"jui",o=typeof r.uitheme=="object"?r.uitheme:t.themes[t.themes.hasOwnProperty(s)?s:"jui"],u=i.children("thead").children(),a=o.sortNone+" "+o.sortDesc+" "+o.sortAsc;i.removeClass("tablesorter-"+s+" "+o.table).find(n.cssHeader).removeClass(o.header),u.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(o.hover+" "+a+" "+o.active).find(".tablesorter-filter-row").removeClass(o.filterRow),u.find(".tablesorter-icon").removeClass(o.icons)}}),t.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(n,r,i){var s,o,u,a,f,l,c,h,p,d,v=r.$table,m=r.$tbodies,g=r.sortList,y=g.length,b=r.widgetColumns&&r.widgetColumns.hasOwnProperty("css")?r.widgetColumns.css||b:i&&i.hasOwnProperty("columns")?i.columns||b:b;l=b.length-1,c=b.join(" "),r.debug&&(f=new Date);for(p=0;p<m.length;p++)s=t.processTbody(n,m.eq(p),!0),o=s.children("tr"),d=o.length,o.each(function(){a=e(this);if(this.style.display!=="none"){u=a.children().removeClass(c);if(g&&g[0]){u.eq(g[0][0]).addClass(b[0]);if(y>1)for(h=1;h<y;h++)u.eq(g[h][0]).addClass(b[h]||b[l])}}}),t.processTbody(n,s,!1);o=i.columns_thead!==!1?"thead tr":"",i.columns_tfoot!==!1&&(o+=(o===""?"":",")+"tfoot tr");if(o.length){a=v.find(o).children().removeClass(c);if(g&&g[0]){a.filter('[data-column="'+g[0][0]+'"]').addClass(b[0]);if(y>1)for(h=1;h<y;h++)a.filter('[data-column="'+g[h][0]+'"]').addClass(b[h]||b[l])}}r.debug&&t.benchmark("Applying Columns widget",f)},remove:function(n,r,i){var s,o,u=r.$tbodies,a=(i.columns||["primary","secondary","tertiary"]).join(" ");r.$headers.removeClass(a),r.$table.children("tfoot").children("tr").children("th, td").removeClass(a);for(s=0;s<u.length;s++)o=t.processTbody(n,u.eq(s),!0),o.children("tr").each(function(){e(this).children().removeClass(a)}),t.processTbody(n,o,!1)}}),t.addWidget({id:"filter",priority:50,options:{filter_childRows:!1,filter_columnFilters:!0,filter_cssFilter:"tablesorter-filter",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideFilters:!1,filter_ignoreCase:!0,filter_liveSearch:!0,filter_onlyAvail:"filter-onlyAvail",filter_reset:null,filter_searchDelay:300,filter_startsWith:!1,filter_useParsedData:!1,filter_serversideFiltering:!1,filter_defaultAttrib:"data-value",filter_regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=])|([\"|\'|=]$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g}},format:function(n,r,i){if(r.parsers&&!r.$table.hasClass("hasFilters")){var s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T=t.formatFloat,N="",C=r.$headers,k=i.filter_cssFilter,L=r.$table.addClass("hasFilters"),A=L.find("tbody"),O=r.parsers.length,M,_,D,P=function(s){var o=e.isArray(s),u=o?s:t.getFilters(n),a=(u||[]).join("");o&&t.setFilters(L,u),i.filter_hideFilters&&L.find(".tablesorter-filter-row").trigger(a===""?"mouseleave":"mouseenter");if(N===a&&s!==!1)return;L.trigger("filterStart",[u]);if(!r.showProcessing)return H(s,u,a),!1;setTimeout(function(){return H(s,u,a),!1},30)},H=function(a,l,p){var d,v,m,g,y,S,x,k,_,D,P;r.debug&&(k=new Date);for(u=0;u<A.length;u++){if(A.eq(u).hasClass(r.cssInfoBlock))continue;d=t.processTbody(n,A.eq(u),!0),v=d.children("tr:not(."+r.cssChildRow+")"),S=v.length;if(p===""||i.filter_serversideFiltering)d.children().show().removeClass(i.filter_filteredRow);else{P=!0,y=L.data("lastSearch")||[],e.each(l,function(e,t){P=(t||"").indexOf(y[e]||"")===0&&P&&!/(\s+or\s+|\|)/g.test(t||"")}),P&&v.filter(":visible").length===0&&(P=!1);for(o=0;o<S;o++){y=v[o].className;if(i.filter_regex.child.test(y)||P&&i.filter_regex.filtered.test(y))continue;y=!0,g=v.eq(o).nextUntil("tr:not(."+r.cssChildRow+")"),E=g.length&&i.filter_childRows?g.text():"",E=i.filter_ignoreCase?E.toLocaleLowerCase():E,m=v.eq(o).children("td");for(s=0;s<O;s++)if(l[s]){i.filter_useParsedData||M[s]?c=r.cache[u].normalized[o][s]:c=e.trim(m.eq(s).text()),h=!i.filter_regex.type.test(typeof c)&&i.filter_ignoreCase?c.toLocaleLowerCase():c,x=y,f=i.filter_ignoreCase?l[s].toLocaleLowerCase():l[s];if(i.filter_functions&&i.filter_functions[s])i.filter_functions[s]===!0?x=C.filter('[data-column="'+s+'"]:last').hasClass("filter-match")?h.search(f)>=0:l[s]===c:typeof i.filter_functions[s]=="function"?x=i.filter_functions[
s](c,r.cache[u].normalized[o][s],l[s],s):typeof i.filter_functions[s][l[s]]=="function"&&(x=i.filter_functions[s][l[s]](c,r.cache[u].normalized[o][s],l[s],s));else if(i.filter_regex.regex.test(f)){b=i.filter_regex.regex.exec(f);try{x=(new RegExp(b[1],b[2])).test(h)}catch(H){x=!1}}else if(f.replace(i.filter_regex.exact,"")==h)x=!0;else if(/^\!/.test(f))f=f.replace("!",""),w=h.search(e.trim(f)),x=f===""?!0:!(i.filter_startsWith?w===0:w>=0);else if(/^[<>]=?/.test(f)){w=T(f.replace(i.filter_regex.nondigit,"").replace(i.filter_regex.operators,""),n);if(M[s]||r.parsers[s].type==="numeric")b=r.parsers[s].format(""+f.replace(i.filter_regex.operators,""),n,C.eq(s),s),w=b!==""&&!isNaN(b)?b:w;b=(M[s]||r.parsers[s].type==="numeric")&&!isNaN(w)&&r.cache[u].normalized[o]?r.cache[u].normalized[o][s]:isNaN(h)?T(h.replace(i.filter_regex.nondigit,""),n):T(h,n),/>/.test(f)&&(x=/>=/.test(f)?b>=w:b>w),/</.test(f)&&(x=/<=/.test(f)?b<=w:b<w),w===""&&(x=!0)}else if(/\s+(AND|&&)\s+/g.test(l[s])){w=f.split(/(?:\s+(?:and|&&)\s+)/g),x=h.search(e.trim(w[0]))>=0,_=w.length-1;while(x&&_)x=x&&h.search(e.trim(w[_]))>=0,_--}else if(/\s+(-|to)\s+/.test(f)){w=f.split(/(?: - | to )/),_=T(w[0].replace(i.filter_regex.nondigit,""),n),D=T(w[1].replace(i.filter_regex.nondigit,""),n);if(M[s]||r.parsers[s].type==="numeric")b=r.parsers[s].format(""+w[0],n,C.eq(s),s),_=b!==""&&!isNaN(b)?b:_,b=r.parsers[s].format(""+w[1],n,C.eq(s),s),D=b!==""&&!isNaN(b)?b:D;b=(M[s]||r.parsers[s].type==="numeric")&&!isNaN(_)&&!isNaN(D)?r.cache[u].normalized[o][s]:isNaN(h)?T(h.replace(i.filter_regex.nondigit,""),n):T(h,n),_>D&&(x=_,_=D,D=x),x=b>=_&&b<=D||_===""||D===""?!0:!1}else/[\?|\*]/.test(f)||/\s+OR\s+/.test(l[s])?(w=f.replace(/\s+OR\s+/gi,"|"),!C.filter('[data-column="'+s+'"]:last').hasClass("filter-match")&&/\|/.test(w)&&(w="^("+w+")$"),x=(new RegExp(w.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*"))).test(h)):(c=(h+E).indexOf(f),x=!i.filter_startsWith&&c>=0||i.filter_startsWith&&c===0);y=x?y?!0:!1:!1}v[o].style.display=y?"":"none",v.eq(o)[y?"removeClass":"addClass"](i.filter_filteredRow),g.length&&g[y?"show":"hide"]()}}t.processTbody(n,d,!1)}N=p,L.data("lastSearch",l),r.debug&&t.benchmark("Completed filter widget search",k),L.trigger("applyWidgets"),L.trigger("filterEnd")},B=function(s,f,l){var c,h,p=[],d;s=parseInt(s,10),h=C.filter('[data-column="'+s+'"]:last'),c='<option value="">'+(h.data("placeholder")||h.attr("data-placeholder")||"")+"</option>";for(u=0;u<A.length;u++){a=r.cache[u].row.length;for(o=0;o<a;o++){if(l&&r.cache[u].row[o][0].className.match(i.filter_filteredRow))continue;i.filter_useParsedData?p.push(""+r.cache[u].normalized[o][s]):(h=r.cache[u].row[o][0].cells[s],h&&p.push(e.trim(r.supportsTextContent?h.textContent:e(h).text())))}}p=e.grep(p,function(t,n){return e.inArray(t,p)===n}),p=t.sortText?p.sort(function(e,r){return t.sortText(n,e,r,s)}):p.sort(!0),d=L.find("thead").find("select."+k+'[data-column="'+s+'"]').val();for(u=0;u<p.length;u++)h=p[u].replace(/\"/g,"&quot;"),c+=p[u]!==""?'<option value="'+h+'"'+(d===h?' selected="selected"':"")+">"+p[u]+"</option>":"";L.find("thead").find("select."+k+'[data-column="'+s+'"]')[f?"html":"append"](c)},j=function(e){for(s=0;s<O;s++)E=C.filter('[data-column="'+s+'"]:last'),(E.hasClass("filter-select")||i.filter_functions&&i.filter_functions[s]===!0)&&!E.hasClass("filter-false")&&(i.filter_functions||(i.filter_functions={}),i.filter_functions[s]=!0,B(s,e,E.hasClass(i.filter_onlyAvail)))},F=function(e){typeof e=="undefined"||e===!0?(clearTimeout(D),D=setTimeout(function(){P(e)},i.filter_liveSearch?i.filter_searchDelay:10)):P(e)};r.debug&&(_=new Date),i.filter_regex.child=new RegExp(r.cssChildRow),i.filter_regex.filtered=new RegExp(i.filter_filteredRow);if(i.filter_columnFilters!==!1&&C.filter(".filter-false").length!==C.length){E='<tr class="tablesorter-filter-row">';for(s=0;s<O;s++)E+="<td></td>";r.$filters=e(E+="</tr>").appendTo(L.find("thead").eq(0)).find("td");for(s=0;s<O;s++)S=!1,y=C.filter('[data-column="'+s+'"]:last'),d=i.filter_functions&&i.filter_functions[s]&&typeof i.filter_functions[s]!="function"||y.hasClass("filter-select"),t.getData?S=t.getData(y[0],r.headers[s],"filter")==="false":S=r.headers[s]&&r.headers[s].hasOwnProperty("filter")&&r.headers[s].filter===!1||y.hasClass("filter-false"),d?E=e("<select>").appendTo(r.$filters.eq(s)):(i.filter_formatter&&e.isFunction(i.filter_formatter[s])?(E=i.filter_formatter[s](r.$filters.eq(s),s),E&&E.length===0&&(E=r.$filters.eq(s).children("input")),E&&(E.parent().length===0||E.parent().length&&E.parent()[0]!==r.$filters[s])&&r.$filters.eq(s).append(E)):E=e('<input type="search">').appendTo(r.$filters.eq(s)),E&&E.attr("placeholder",y.data("placeholder")||y.attr("data-placeholder")||"")),E&&(E.addClass(k).attr("data-column",s),S&&(E.addClass("disabled")[0].disabled=!0))}L.bind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(".tsfilter "),function(e,t){return/(search|filterReset|filterEnd)/.test(e.type)||(e.stopPropagation(),j(!0)),e.type==="filterReset"&&L.find("."+k).val(""),e.type==="filterEnd"?j(!0):(t=e.type==="search"?t:e.type==="updateComplete"?L.data("lastSearch"):"",F(t)),!1}).find("input."+k).bind("keyup search",function(e,t){if(e.which===27)this.value="";else if(typeof i.filter_liveSearch=="number"&&this.value.length<i.filter_liveSearch&&this.value!==""||e.type==="keyup"&&(e.which<32&&e.which!==8&&i.filter_liveSearch===!0&&e.which!==13||e.which>=37&&e.which<=40||e.which!==13&&i.filter_liveSearch===!1))return;F(t)}),M=C.map(function(n){return t.getData?t.getData(C.filter('[data-column="'+n+'"]:last'),r.headers[n],"filter")==="parsed":e(this).hasClass("filter-parsed")}).get(),i.filter_reset&&e(i.filter_reset).length&&e(i.filter_reset).bind("click.tsfilter",function(){L.trigger("filterReset")});if(i.filter_functions)for(x in i.filter_functions)if(i.filter_functions.hasOwnProperty(x)&&typeof x=="string"){E=C.filter('[data-column="'+x+'"]:last'),l="";if(i.filter_functions[x]===!0&&!E.hasClass("filter-false"))B(x);else if(typeof x=="string"&&!E.hasClass("filter-false")){for(v in i.filter_functions[x])typeof v=="string"&&(l+=l===""?'<option value="">'+(E.data("placeholder")||E.attr("data-placeholder")||"")+"</option>":"",l+='<option value="'+v+'">'+v+"</option>");L.find("thead").find("select."+k+'[data-column="'+x+'"]').append(l)}}j(!0),L.find("select."+k).bind("change search",function(e,t){P(t)}),i.filter_hideFilters&&L.find(".tablesorter-filter-row").addClass("hideme").bind("mouseenter mouseleave",function(t){var n,r=t;m=e(this),clearTimeout(p),p=setTimeout(function(){/enter|over/.test(r.type)?m.removeClass("hideme"):e(document.activeElement).closest("tr")[0]!==m[0]&&(n=L.find("."+i.filter_cssFilter).map(function(){return e(this).val()||""}).get().join(""),n===""&&m.addClass("hideme"))},200)}).find("input, select").bind("focus blur",function(t){g=e(this).closest("tr"),clearTimeout(p),p=setTimeout(function(){L.find("."+i.filter_cssFilter).map(function(){return e(this).val()||""}).get().join("")===""&&g[t.type==="focus"?"removeClass":"addClass"]("hideme")},200)}),r.showProcessing&&L.bind("filterStart.tsfilter filterEnd.tsfilter",function(n,i){var s=i?L.find("."+r.cssHeader).filter("[data-column]").filter(function(){return i[e(this).data("column")]!==""}):"";t.isProcessing(L[0],n.type==="filterStart",i?s:"")}),r.debug&&t.benchmark("Applying Filter widget",_),L.bind("tablesorter-initialized",function(){l=t.getFilters(n);for(s=0;s<l.length;s++)l[s]=C.filter('[data-column="'+s+'"]:last').attr(i.filter_defaultAttrib)||l[s];t.setFilters(n,l,!0)}),L.trigger("filterInit"),P()}},remove:function(n,r,i){var s,o,u=r.$table,a=r.$tbodies;u.removeClass("hasFilters").unbind("addRows updateCell update updateComplete appendCache search filterStart filterEnd ".split(" ").join(".tsfilter ")).find(".tablesorter-filter-row").remove();for(s=0;s<a.length;s++)o=t.processTbody(n,a.eq(s),!0),o.children().removeClass(i.filter_filteredRow).show(),t.processTbody(n,o,!1);i.filterreset&&e(i.filter_reset).unbind("click.tsfilter")}}),t.getFilters=function(t){var n=t?e(t)[0].config:{};return n&&n.widgetOptions&&!n.widgetOptions.filter_columnFilters?e(t).data("lastSearch"):n&&n.$filters?n.$filters.find("."+n.widgetOptions.filter_cssFilter).map(function(t,n){return e(n).val()}).get()||[]:!1},t.setFilters=function(t,n,r){var i=e(t),s=i.length?i[0].config:{},o=s&&s.$filters?s.$filters.find("."+s.widgetOptions.filter_cssFilter).each(function(t,r){e(r).val(n[t]||"")}).trigger("change.tsfilter")||!1:!1;return r&&i.trigger("search",[n,!1]),!!o},t.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"tablesorter-stickyHeader",stickyHeaders_offset:0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:!0,stickyHeaders_includeCaption:!0,stickyHeaders_zIndex:2},format:function(n,r,i){if(r.$table.hasClass("hasStickyHeaders"))return;var s=r.$table,o=e(window),u=s.children("thead:first"),a=u.children("tr:not(.sticky-false)").children(),f=".tablesorter-header-inner",l=s.find("tfoot"),c="."+(i.filter_cssFilter||"tablesorter-filter"),h=isNaN(i.stickyHeaders_offset)?e(i.stickyHeaders_offset):"",p=h.length?h.height()||0:parseInt(i.stickyHeaders_offset,10)||0,d=i.stickyHeaders_zIndex?i.stickyHeaders_zIndex:2,v=i.$sticky=s.clone().addClass("containsStickyHeaders").css({position:"fixed",margin:0,top:p,visibility:"hidden",zIndex:d}),m=v.children("thead:first").addClass(i.stickyHeaders),g,y="",b=0,w=!1,E=function(){p=h.length?h.height()||0:parseInt(i.stickyHeaders_offset,10)||0;var t=navigator.userAgent;b=0,s.css("border-collapse")!=="collapse"&&!/(webkit|msie)/i.test(t)&&(b=parseInt(a.eq(0).css("border-left-width"),10)*2),v.css({left:u.offset().left-o.scrollLeft()-b,width:s.width()}),g.filter(":visible").each(function(t){var n=a.filter(":visible").eq(t);e(this).css({width:n.width()-b,height:n.height()}).find(f).width(n.find(f).width())})};v.attr("id")&&(v[0].id+=i.stickyHeaders_cloneId),v.find("thead:gt(0), tr.sticky-false, tbody, tfoot").remove(),i.stickyHeaders_includeCaption||v.find("caption").remove(),g=m.children().children(),v.css({height:0,width:0,padding:0,margin:0,border:0}),g.find(".tablesorter-resizer").remove(),s.addClass("hasStickyHeaders").bind("sortEnd.tsSticky",function(){a.filter(":visible").each(function(t){var n=g.filter(":visible").eq(t);n.attr("class",e(this).attr("class")).removeClass(r.cssProcessing),r.cssIcon&&n.find("."+r.cssIcon).attr("class",e(this).find("."+r.cssIcon).attr("class"))})}).bind("pagerComplete.tsSticky",function(){E()}),a.find(r.selectorSort).add(r.$headers.filter(r.selectorSort)).each(function(t){var n=e(this),i=m.children("tr.tablesorter-headerRow").children().eq(t).bind("mouseup",function(e){n.trigger(e,!0)});r.cancelSelection&&i.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"})}),s.after(v),o.bind("scroll.tsSticky resize.tsSticky",function(e){if(!s.is(":visible"))return;var t="tablesorter-sticky-",n=s.offset(),r=i.stickyHeaders_includeCaption?0:s.find("caption").outerHeight(!0),a=o.scrollTop()+p-r,f=s.height()-(v.height()+(l.height()||0)),c=a>n.top&&a<n.top+f?"visible":"hidden";v.removeClass(t+"visible "+t+"hidden").addClass(t+c).css({left:u.offset().left-o.scrollLeft()-b,visibility:c});if(c!==y||e.type==="resize")E(),y=c}),i.stickyHeaders_addResizeEvent&&t.addHeaderResizeEvent(n),s.bind("filterEnd",function(){if(w)return;m.find(".tablesorter-filter-row").children().each(function(t){e(this).find(c).val(r.$filters.find(c).eq(t).val())})}),g.find(c).bind("keyup search change",function(t){if(t.which<32&&t.which!==8||t.which>=37&&t.which<=40)return;w=!0;var n=e(this),s=n.attr("data-column");r.$filters.find(c).eq(s).val(n.val()).trigger("search"),setTimeout(function(){w=!1},i.filter_searchDelay)}),s.trigger("stickyHeadersInit")},remove:function(n,r,i){r.$table.removeClass("hasStickyHeaders").unbind("sortEnd.tsSticky pagerComplete.tsSticky").find("."+i.stickyHeaders).remove(),i.$sticky&&i.$sticky.length&&i.$sticky.remove(),e(".hasStickyHeaders").length||e(window).unbind("scroll.tsSticky resize.tsSticky"),t.addHeaderResizeEvent(n,!1)}}),t.addWidget({id:"resizable",priority:40,options:{resizable:!0,resizable_addLastColumn:!1},format:function(n,r,i){if(r.$table.hasClass("hasResizable"))return;r.$table.addClass("hasResizable");var s,o,u,a,f={},l,c,h,p,d=r.$table,v=0,m=null,g=null,y=Math.abs(d.parent().width()-d.width())<20,b=function(){t.storage&&m&&(f[m.index()]=m.width(),f[g.index()]=g.width(),m.width(f[m.index()]),g.width(f[g.index()]),i.resizable!==!1&&t.storage(n,"tablesorter-resizable",f)),v=0,m=g=null,e(window).trigger("resize")};f=t.storage&&i.resizable!==!1?t.storage(n,"tablesorter-resizable"):{};if(f)for(a in f)!isNaN(a)&&a<r.$headers.length&&r.$headers.eq(a).width(f[a]);s=d.children("thead:first").children("tr"),s.children().each(function(){o=e(this),u=o.attr("data-column"),a=t.getData(o,r.headers[u],"resizable")==="false",s.children().filter('[data-column="'+u+'"]').toggleClass("resizable-false",a)}),s.each(function(){l=e(this).children(":not(.resizable-false)"),e(this).find(".tablesorter-wrapper").length||l.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>'),i.resizable_addLastColumn||(l=l.slice(0,-1)),c=c?c.add(l):l}),c.each(function(){s=e(this),a=parseInt(s.css("padding-right"),10)+10,o='<div class="tablesorter-resizer" style="cursor:w-resize;position:absolute;z-index:1;right:-'+a+'px;top:0;height:100%;width:20px;"></div>',s.find(".tablesorter-wrapper").append(o)}).bind("mousemove.tsresize",function(e){if(v===0||!m)return;h=e.pageX-v,p=m.width(),m.width(p+h),m.width()!==p&&y&&g.width(g.width()-h),v=e.pageX}).bind("mouseup.tsresize",function(){b()}).find(".tablesorter-resizer,.tablesorter-resizer-grip").bind("mousedown",function(t){m=e(t.target).closest("th"),o=r.$headers.filter('[data-column="'+m.attr("data-column")+'"]'),o.length>1&&(m=m.add(o)),g=t.shiftKey?m.parent().find("th:not(.resizable-false)").filter(":last"):m.nextAll(":not(.resizable-false)").eq(0),v=t.pageX}),d.find("thead:first").bind("mouseup.tsresize mouseleave.tsresize",function(){b()}).bind("contextmenu.tsresize",function(){t.resizableReset(n);var r=e.isEmptyObject?e.isEmptyObject(f):f==={};return f={},r})},remove:function(e,n,r){n.$table.removeClass("hasResizable").find("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").find("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find(".tablesorter-resizer,.tablesorter-resizer-grip").remove(),t.resizableReset(e)}}),t.resizableReset=function(e){e.config.$headers.filter(":not(.resizable-false)").css("width",""),t.storage&&t.storage(e,"tablesorter-resizable",{})},t.addWidget({id:"saveSort",priority:20,options:{saveSort:!0},init:function(e,t,n,r){t.format(e,n,r,!0)},format:function(n,r,i,s){var o,u,a=r.$table,f=i.saveSort!==!1,l={sortList:r.sortList};r.debug&&(u=new Date),a.hasClass("hasSaveSort")?f&&n.hasInitialized&&t.storage&&(t.storage(n,"tablesorter-savesort",l),r.debug&&t.benchmark("saveSort widget: Saving last sort: "+r.sortList,u)):(a.addClass("hasSaveSort"),l="",t.storage&&(o=t.storage(n,"tablesorter-savesort"),l=o&&o.hasOwnProperty("sortList")&&e.isArray(o.sortList)?o.sortList:"",r.debug&&t.benchmark('saveSort: Last sort loaded: "'+l+'"',u),a.bind("saveSortReset",function(e){e.stopPropagation(),t.storage(n,"tablesorter-savesort","")})),s&&l&&l.length>0?r.sortList=l:n.hasInitialized&&l&&l.length>0&&a.trigger("sorton",[l]))},remove:function(e){t.storage&&t.storage(e,"tablesorter-savesort","")}})}(jQuery),!function(e){"use strict";var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed").remove()}var n=e(this),r=n.attr("data-target"),i;r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=e(r),t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.on(e.support.transition.end,s):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("alert");i||r.data("alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.button.defaults,n)};t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.data(),i=n.is("input")?"val":"html";e+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[e]||this.options[e]),setTimeout(function(){e=="loadingText"?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("button"),s=typeof n=="object"&&n;i||r.data("button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.defaults={loadingText:"loading..."},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle")})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.$element=e(t),this.options=e.extend({},e.fn.collapse.defaults,n),this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning||this.$element.hasClass("in"))return;t=this.dimension(),n=e.camelCase(["scroll",t].join("-")),r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide"),i||r.data("collapse",null)}this.$element[t](0),this.transition("addClass",e.Event("show"),"shown"),e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning||!this.$element.hasClass("in"))return;t=this.dimension(),this.reset(this.$element[t]()),this.transition("removeClass",e.Event("hide"),"hidden"),this.$element[t](0)},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[e!==null?"addClass":"removeClass"]("collapse"),this},transition:function(t,n,r){var i=this,s=function(){n.type=="show"&&i.reset(),i.transitioning=0,i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1,this.$element[t]("in"),e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=e.extend({},e.fn.collapse.defaults,r.data(),typeof n=="object"&&n);i||r.data("collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.defaults={toggle:!0},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed"),e(i).collapse(s)})}(window.jQuery),!function(e){"use strict";function r(){e(t).each(function(){i(e(this)).removeClass("open")})}function i(t){var n=t.attr("data-target"),r;n||(n=t.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,"")),r=n&&e(n);if(!r||!r.length)r=t.parent();return r}var t="[data-toggle=dropdown]",n=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};n.prototype={constructor:n,toggle:function(t){var n=e(this),s,o;if(n.is(".disabled, :disabled"))return;return s=i(n),o=s.hasClass("open"),r(),o||s.toggleClass("open"),n.focus(),!1},keydown:function(n){var r,s,o,u,a,f;if(!/(38|40|27)/.test(n.keyCode))return;r=e(this),n.preventDefault(),n.stopPropagation();if(r.is(".disabled, :disabled"))return;u=i(r),a=u.hasClass("open");if(!a||a&&n.keyCode==27)return n.which==27&&u.find(t).focus(),r.click();s=e("[role=menu] li:not(.divider):visible a",u);if(!s.length)return;f=s.index(s.filter(":focus")),n.keyCode==38&&f>0&&f--,n.keyCode==40&&f<s.length-1&&f++,~f||(f=0),s.eq(f).focus()}};var s=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var r=e(this),i=r.data("dropdown");i||r.data("dropdown",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.dropdown.Constructor=n,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.dropdown.data-api",r).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on(".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",t,n.prototype.toggle).on("keydown.dropdown.data-api",t+", [role=menu]",n.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n);if(this.isShown||n.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var n=this;t=e.Event("hide"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]!==e.target&&!t.$element.has(e.target).length&&t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&r;this.$backdrop=e('<div class="modal-backdrop '+r+'" />').appendTo(document.body),this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;i?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()):t&&t()}};var n=e.fn.modal;e.fn.modal=function(n){return this.each(function(){var r=e(this),i=r.data("modal"),s=e.extend({},e.fn.modal.defaults,r.data(),typeof n=="object"&&n);i||r.data("modal",i=new t(this,s)),typeof n=="string"?i[n]():s.show&&i.show()})},e.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(s).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s,o,u,a;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,o=this.options.trigger.split(" ");for(a=o.length;a--;)u=o[a],u=="click"?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):u!="manual"&&(i=u=="hover"?"mouseenter":"focus",s=u=="hover"?"mouseleave":"blur",this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this)));this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);this.timeout&&clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out",this.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},show:function(){var t,n,r,i,s,o,u=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(u);if(u.isDefaultPrevented())return;t=this.tip(),this.setContent(),this.options.animation&&t.addClass("fade"),s=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,t.detach().css({top:0,left:0,display:"block"}),this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element),n=this.getPosition(),r=t[0].offsetWidth,i=t[0].offsetHeight;switch(s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width}}this.applyPlacement(o,s),this.$element.trigger("shown")}},applyPlacement:function(e,t){var n=this.tip(),r=n[0].offsetWidth,i=n[0].offsetHeight,s,o,u,a;n.offset(e).addClass(t).addClass("in"),s=n[0].offsetWidth,o=n[0].offsetHeight,t=="top"&&o!=i&&(e.top=e.top+i-o,a=!0),t=="bottom"||t=="top"?(u=0,e.left<0&&(u=e.left*-2,e.left=0,n.offset(e),s=n[0].offsetWidth,o=n[0].offsetHeight),this.replaceArrow(u-r+s,s,"left")):this.replaceArrow(o-i,o,"top"),a&&n.offset(e)},replaceArrow:function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function i(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var t=this,n=this.tip(),r=e.Event("hide");this.$element.trigger(r);if(r.isDefaultPrevented())return;return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i():n.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;n.tip().hasClass("in")?n.hide():n.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;i||r.data("tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](n),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;return e=(typeof n.content=="function"?n.content.call(t[0]):n.content)||t.attr("data-content"),e},tip:function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;i||r.data("popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(window.jQuery),!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.attr("data-target"),i,s,o;r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;i=n.find(".active:last a")[0],o=e.Event("show",{relatedTarget:i}),t.trigger(o);if(o.isDefaultPrevented())return;s=e(r),this.activate(t.parent("li"),n),this.activate(s,s.parent(),function(){t.trigger({type:"shown",relatedTarget:i})})},activate:function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o):o(),i.removeClass("in")}};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("tab");i||r.data("tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n),this.$scrollElement=i.on("scroll.scroll-spy.data-api",r),this.selector=(this.options.target||(s=e(t).attr("href"
))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=e("body"),this.refresh(),this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]),this.targets=e([]),n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},activate:function(t){var n,r;this.activeTarget=t,e(this.selector).parent(".active").removeClass("active"),r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(r).parent("li").addClass("active"),n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;i||r.data("scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.defaults={offset:10},e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n),this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this)),this.$element=e(t),this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;typeof i!="object"&&(s=o=i),typeof o=="function"&&(o=i.top()),typeof s=="function"&&(s=i.bottom()),a=this.unpin!=null&&n+this.unpin<=r.top?!1:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":!1;if(this.affixed===a)return;this.affixed=a,this.unpin=a=="bottom"?r.top-n:null,this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;i||r.data("affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.defaults={offset:0},e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(window.jQuery),!function(e){var t=function(t,r){this.element=e(t),this.format=n.parseFormat(r.format||this.element.data("date-format")||"mm/dd/yyyy"),this.picker=e(n.template).appendTo("body").on({click:e.proxy(this.click,this)}),this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on"):!1,this.isInput?this.element.on({focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this)}):this.component?this.component.on("click",e.proxy(this.show,this)):this.element.on("click",e.proxy(this.show,this)),this.minViewMode=r.minViewMode||this.element.data("date-minviewmode")||0;if(typeof this.minViewMode=="string")switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0}this.viewMode=r.viewMode||this.element.data("date-viewmode")||0;if(typeof this.viewMode=="string")switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0}this.startViewMode=this.viewMode,this.weekStart=r.weekStart||this.element.data("date-weekstart")||0,this.weekEnd=this.weekStart===0?6:this.weekStart-1,this.onRender=r.onRender,this.fillDow(),this.fillMonths(),this.update(),this.showMode()};t.prototype={constructor:t,show:function(t){this.picker.show(),this.height=this.component?this.component.outerHeight():this.element.outerHeight(),this.place(),e(window).on("resize",e.proxy(this.place,this)),t&&(t.stopPropagation(),t.preventDefault()),!this.isInput;var n=this;e(document).on("mousedown",function(t){e(t.target).closest(".datepicker").length==0&&n.hide()}),this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide(),e(window).off("resize",this.place),this.viewMode=this.startViewMode,this.showMode(),this.isInput||e(document).off("mousedown",this.hide),this.element.trigger({type:"hide",date:this.date})},set:function(){var e=n.formatDate(this.date,this.format);this.isInput?this.element.prop("value",e):(this.component&&this.element.find("input").prop("value",e),this.element.data("date",e))},setValue:function(e){typeof e=="string"?this.date=n.parseDate(e,this.format):this.date=new Date(e),this.set(),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},place:function(){var e=this.component?this.component.offset():this.element.offset();this.picker.css({top:e.top+this.height,left:e.left})},update:function(e){this.date=n.parseDate(typeof e=="string"?e:this.isInput?this.element.prop("value"):this.element.data("date"),this.format),this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0),this.fill()},fillDow:function(){var e=this.weekStart,t="<tr>";while(e<this.weekStart+7)t+='<th class="dow">'+n.dates.daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){var e="",t=0;while(t<12)e+='<span class="month">'+n.dates.monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").append(e)},fill:function(){var e=new Date(this.viewDate),t=e.getFullYear(),r=e.getMonth(),i=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(n.dates.months[r]+" "+t);var s=new Date(t,r-1,28,0,0,0,0),o=n.getDaysInMonth(s.getFullYear(),s.getMonth());s.setDate(o),s.setDate(o-(s.getDay()-this.weekStart+7)%7);var u=new Date(s);u.setDate(u.getDate()+42),u=u.valueOf();var a=[],f,l,c;while(s.valueOf()<u){s.getDay()===this.weekStart&&a.push("<tr>"),f=this.onRender(s),l=s.getFullYear(),c=s.getMonth();if(c<r&&l===t||l<t)f+=" old";else if(c>r&&l===t||l>t)f+=" new";s.valueOf()===i&&(f+=" active"),a.push('<td class="day '+f+'">'+s.getDate()+"</td>"),s.getDay()===this.weekEnd&&a.push("</tr>"),s.setDate(s.getDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(a.join(""));var h=this.date.getFullYear(),p=this.picker.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");h===t&&p.eq(this.date.getMonth()).addClass("active"),a="",t=parseInt(t/10,10)*10;var d=this.picker.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");t-=1;for(var v=-1;v<11;v++)a+='<span class="year'+(v===-1||v===10?" old":"")+(h===t?" active":"")+'">'+t+"</span>",t+=1;d.html(a)},click:function(t){t.stopPropagation(),t.preventDefault();var r=e(t.target).closest("span, td, th");if(r.length===1)switch(r[0].nodeName.toLowerCase()){case"th":switch(r[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+n.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+n.modes[this.viewMode].navFnc].call(this.viewDate)+n.modes[this.viewMode].navStep*(r[0].className==="prev"?-1:1)),this.fill(),this.set()}break;case"span":if(r.is(".month")){var i=r.parent().find("span").index(r);this.viewDate.setMonth(i)}else{var s=parseInt(r.text(),10)||0;this.viewDate.setFullYear(s)}this.viewMode!==0&&(this.date=new Date(this.viewDate),this.element.trigger({type:"changeDate",date:this.date,viewMode:n.modes[this.viewMode].clsName})),this.showMode(-1),this.fill(),this.set();break;case"td":if(r.is(".day")&&!r.is(".disabled")){var o=parseInt(r.text(),10)||1,i=this.viewDate.getMonth();r.is(".old")?i-=1:r.is(".new")&&(i+=1);var s=this.viewDate.getFullYear();this.date=new Date(s,i,o,0,0,0,0),this.viewDate=new Date(s,i,Math.min(28,o),0,0,0,0),this.fill(),this.set(),this.element.trigger({type:"changeDate",date:this.date,viewMode:n.modes[this.viewMode].clsName})}}},mousedown:function(e){e.stopPropagation(),e.preventDefault()},showMode:function(e){e&&(this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+n.modes[this.viewMode].clsName).show()}},e.fn.datepicker=function(n,r){return this.each(function(){var i=e(this),s=i.data("datepicker"),o=typeof n=="object"&&n;s||i.data("datepicker",s=new t(this,e.extend({},e.fn.datepicker.defaults,o))),typeof n=="string"&&s[n](r)})},e.fn.datepicker.defaults={onRender:function(e){return""}},e.fn.datepicker.Constructor=t;var n={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,n.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},parseFormat:function(e){var t=e.match(/[.\/\-\s].*?/),n=e.split(/\W+/);if(!t||!n||n.length===0)throw new Error("Invalid date format.");return{separator:t,parts:n}},parseDate:function(e,t){var n=e.split(t.separator),e=new Date,r;e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0);if(n.length===t.parts.length){var i=e.getFullYear(),s=e.getDate(),o=e.getMonth();for(var u=0,a=t.parts.length;u<a;u++){r=parseInt(n[u],10)||1;switch(t.parts[u]){case"dd":case"d":s=r,e.setDate(r);break;case"mm":case"m":o=r-1,e.setMonth(r-1);break;case"yy":i=2e3+r,e.setFullYear(2e3+r);break;case"yyyy":i=r,e.setFullYear(r)}}e=new Date(i,o,s,0,0,0)}return e},formatDate:function(e,t){var n={d:e.getDate(),m:e.getMonth()+1,yy:e.getFullYear().toString().substring(2),yyyy:e.getFullYear()};n.dd=(n.d<10?"0":"")+n.d,n.mm=(n.m<10?"0":"")+n.m;var e=[];for(var r=0,i=t.parts.length;r<i;r++)e.push(n[t.parts[r]]);return e.join(t.separator)},headTemplate:'<thead><tr><th class="prev">&lsaquo;</th><th colspan="5" class="switch"></th><th class="next">&rsaquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};n.template='<div class="datepicker dropdown-menu"><div class="datepicker-days"><table class=" table-condensed">'+n.headTemplate+"<tbody></tbody>"+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+n.headTemplate+n.contTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+n.headTemplate+n.contTemplate+"</table>"+"</div>"+"</div>"}(window.jQuery);var Handlebars={};(function(e,t){e.VERSION="1.0.0",e.COMPILER_REVISION=4,e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},e.helpers={},e.partials={};var n=Object.prototype.toString,r="[object Function]",i="[object Object]";e.registerHelper=function(t,r,s){if(n.call(t)===i){if(s||r)throw new e.Exception("Arg not supported with multiple helpers");e.Utils.extend(this.helpers,t)}else s&&(r.not=s),this.helpers[t]=r},e.registerPartial=function(t,r){n.call(t)===i?e.Utils.extend(this.partials,t):this.partials[t]=r},e.registerHelper("helperMissing",function(e){if(arguments.length===2)return t;throw new Error("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,i){var s=i.inverse||function(){},o=i.fn,u=n.call(t);return u===r&&(t=t.call(this)),t===!0?o(this):t===!1||t==null?s(this):u==="[object Array]"?t.length>0?e.helpers.each(t,i):s(this):o(t)}),e.K=function(){},e.createFrame=Object.create||function(t){e.K.prototype=t;var n=new e.K;return e.K.prototype=null,n},e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,n){if(e.logger.level<=t){var r=e.logger.methodMap[t];typeof console!="undefined"&&console[r]&&console[r].call(console,n)}}},e.log=function(t,n){e.logger.log(t,n)},e.registerHelper("each",function(t,i){var s=i.fn,o=i.inverse,u=0,a="",f,l=n.call(t);l===r&&(t=t.call(this)),i.data&&(f=e.createFrame(i.data));if(t&&typeof t=="object")if(t instanceof Array)for(var c=t.length;u<c;u++)f&&(f.index=u),a+=s(t[u],{data:f});else for(var h in t)t.hasOwnProperty(h)&&(f&&(f.key=h),a+=s(t[h],{data:f}),u++);return u===0&&(a=o(this)),a}),e.registerHelper("if",function(t,i){var s=n.call(t);return s===r&&(t=t.call(this)),!t||e.Utils.isEmpty(t)?i.inverse(this):i.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn})}),e.registerHelper("with",function(t,i){var s=n.call(t);s===r&&(t=t.call(this));if(!e.Utils.isEmpty(t))return i.fn(t)}),e.registerHelper("log",function(t,n){var r=n.data&&n.data.level!=null?parseInt(n.data.level,10):1;e.log(r,t)});var s=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var n=0;n<s.length;n++)this[s[n]]=t[s[n]]},e.Exception.prototype=new Error,e.SafeString=function(e){this.string=e},e.SafeString.prototype.toString=function(){return this.string.toString()};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},u=/[&<>"'`]/g,a=/[&<>"'`]/,f=function(e){return o[e]||"&amp;"};e.Utils={extend:function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},escapeExpression:function(t){return t instanceof e.SafeString?t.toString():t==null||t===!1?"":(t=t.toString(),a.test(t)?t.replace(u,f):t)},isEmpty:function(e){return!e&&e!==0?!0:n.call(e)==="[object Array]"&&e.length===0?!0:!1}},e.VM={template:function(t){var n={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,n,r){var i=this.programs[t];return r?i=e.VM.program(t,n,r):i||(i=this.programs[t]=e.VM.program(t,n)),i},merge:function(t,n){var r=t||n;return t&&n&&(r={},e.Utils.extend(r,n),e.Utils.extend(r,t)),r},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(r,i){i=i||{};var s=t.call(n,e,r,i.helpers,i.partials,i.data),o=n.compilerInfo||[],u=o[0]||1,a=e.COMPILER_REVISION;if(u!==a){if(u<a){var f=e.REVISION_CHANGES[a],l=e.REVISION_CHANGES[u];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+f+") or downgrade your runtime to an older version ("+l+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+o[1]+")."}return s}},programWithDepth:function(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||n].concat(r))};return i.program=e,i.depth=r.length,i},program:function(e,t,n){var r=function(e,r){return r=r||{},t(e,r.data||n)};return r.program=e,r.depth=0,r},noop:function(){return""},invokePartial:function(n,r,i,s,o,u){var a={helpers:s,partials:o,data:u};if(n===t)throw new e.Exception("The partial "+r+" could not be found");if(n instanceof Function)return n(i,a);if(!e.compile)throw new e.Exception("The partial "+r+" could not be compiled when running in runtime-only mode");return o[r]=e.compile(n,{data:u!==t}),o[r](i,a)}},e.template=e.VM.template})(Handlebars),function(){var e=Handlebars.template,t=Handlebars.templates=Handlebars.templates||{};t.mail_list=e(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var s="",o,u="function",a=this.escapeExpression;return s+="                  <tr",(o=n.rowClass)?o=o.call(t,{hash:{},data:i}):(o=t.rowClass,o=typeof o===u?o.apply(t):o),s+=a(o)+' data-message-id="',(o=n.message_id)?o=o.call(t,{hash:{},data:i}):(o=t.message_id,o=typeof o===u?o.apply(t):o),s+=a(o)+'">\n                    <td class="mail-checkbox"><input type="checkbox" name="message_',(o=n.message_id)?o=o.call(t,{hash:{},data:i}):(o=t.message_id,o=typeof o===u?o.apply(t):o),s+=a(o)+'"></td>\n                    <td class="mail-from">',(o=n.senderText)?o=o.call(t,{hash:{},data:i}):(o=t.senderText,o=typeof o===u?o.apply(t):o),s+=a(o)+'</td>\n                    <td class="mail-to">',(o=n.toText)?o=o.call(t,{hash:{},data:i}):(o=t.toText,o=typeof o===u?o.apply(t):o),s+=a(o)+'</td>\n                    <td><a class="mail-link" href="#',(o=n.message_id)?o=o.call(t,{hash:{},data:i}):(o=t.message_id,o=typeof o===u?o.apply(t):o),s+=a(o)+'">',(o=n.subjectText)?o=o.call(t,{hash:{},data:i}):(o=t.subjectText,o=typeof o===u?o.apply(t):o),s+=a(o)+'</a></td>\n                    <td class="mail-date">',(o=n.sent_date)?o=o.call(t,{hash:{},data:i}):(o=t.sent_date,o=typeof o===u?o.apply(t):o),s+=a(o)+"</td>\n                  </tr>\n",s})}(),jQuery.ajaxSettings.traditional=!0;var EVEthing={util:{sorted_keys:function(e){var t=[];for(var n in e)t.push(n);return t.sort()},sorted_keys_by_value:function(e){var t=[];for(var n in e)t.push(n);return t.sort(function(t,n){return e[t]<e[n]?-1:e[t]>e[n]?1:0})}},misc:{setClock:function(){var e=new Date,t=e.getUTCHours();t<10&&(t="0"+t);var n=e.getUTCMinutes();n<10&&(n="0"+n),$("#utc-time").text(t+":"+n)},setup_tab_hash:function(){var e="tab_",t=document.location.hash;t&&$(".nav-tabs a[href="+t.replace("#","#"+e)+"]").tab("show"),$('a[data-toggle="tab"]').on("shown",function(t){window.location.hash=t.target.hash.replace("#"+e,"#")})}}};$(document).ready(function(){var e=window.location.pathname;$("#nav-list li a").each(function(){$(this).attr("href")==e&&$(this).parent().addClass("active")}),$("[rel=tooltip]").tooltip(),$(".dropdown-toggle").dropdown(),$(".skill-hover").popover({animation:!1,trigger:"hover",html:!0}),EVEthing.misc.setClock(),window.setInterval(EVEthing.misc.setClock,5e3)}),$.tablesorter.addParser({id:"human",is:function(e){return/^[0-9\,\.]+[KMB]?$/.test(e)},format:function(e){var e=e.replace(/\,/g,""),t=e.length-1,n=e.charAt(t);return n=="K"?e.substr(0,t)*1e3:n=="M"?e.substr(0,t)*1e6:n=="B"?e.substr(0,t)*1e9:e},type:"numeric"}),$.extend($.tablesorter.themes.bootstrap,{icons:"",sortNone:"icon-sort",sortAsc:"icon-caret-up",sortDesc:"icon-caret-down"}),parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},Handlebars.getTemplate=function(e){return(Handlebars.templates===undefined||Handlebars.templates[e]===undefined)&&$.ajax({url:"/static/handlebars/"+e+".handlebars",success:function(t){Handlebars.templates===undefined&&(Handlebars.templates={}),Handlebars.templates[e]=Handlebars.compile(t)},async:!1}),Handlebars.templates[e]},EVEthing.account={savedTD:null,savedHTML:null,masks:{2:"AssetList",8:"CharacterSheet",128:"IndustryJobs",4096:"MarketOrders",262144:"SkillQueue",524288:"Standings",2097152:"WalletJournal",4194304:"WalletTransactions",33554432:"AccountStatus",67108864:"Contracts",134217728:"Locations"},onload:function(){EVEthing.misc.setup_tab_hash(),$("#key-table").on("click",".js-edit-name, .js-edit-group-name",function(e){$("#key-table form").remove();var t=$(this).parents("tr").attr("data-id"),n=$(this).parent().text();EVEthing.account.savedTD&&($(EVEthing.account.savedTD).html(EVEthing.account.savedHTML),EVEthing.account.savedTD=null,EVEthing.account.savedHTML=null),EVEthing.account.savedTD=$(this).parent(),EVEthing.account.savedHTML=EVEthing.account.savedTD.html();if($(this).hasClass("js-edit-group-name"))var r="group_name",i="name";else var r="name",i="group_name";var s=[];$(this).parent().html(s.join("")),$("#magic_keyname").focus()}),$("#key-table").on("click",".js-delete",function(e){var t=$(this).parents("tr").attr("data-id"),n=$.trim($("td:nth-child(5)",$(this).parents("tr")).text());$("#delete-keyid-input").val(t),$("#delete-keyid").text(t),$("#delete-keyname").text(n)}),$("#key-table").on("click",".js-purge",function(e){var t=$(this).parents("tr").attr("data-id"),n=$.trim($("td:nth-child(5)",$(this).parents("tr")).text());$("#purge-keyid-input").val(t),$("#purge-keyid").text(t),$("#purge-keyname").text(n)}),$(".edit-skillplan").on("click",function(e){var t=$(this).parents("tr").attr("data-id"),n=$("td:nth-child(2)",$(this).parents("tr")).text(),r=$(this).parents("tr").attr("data-vis");$("#edit-skillplan-id").val(t),$("#edit-skillplan-name").val(n),$("#edit-skillplan-visibility").val(r)}),$(".delete-skillplan").on("click",function(e){var t=$(this).parents("tr").attr("data-id"),n=$("td:nth-child(2)",$(this).parents("tr")).text();$("#delete-skillplan-id").val(t),$("#delete-skillplan-name").text(n)}),$("#build-table").on("change",".apikey-build",EVEthing.account.build_apikey),EVEthing.account.build_apikey()},build_apikey:function(){$("#apikey-required").empty();var e=0;$(".apikey-build:checked").each(function(){masks=$(this).attr("data-masks").split(";");for(i in masks)mask=parseInt(masks[i]),(e&mask)==0&&(e+=mask,$("#apikey-required").append("<li>"+EVEthing.account.masks[mask]+"</li>"))}),$("#apikey-link").attr("href","https://community.eveonline.com/support/api-key/CreatePredefined?accessMask="+e),e==0&&$("#apikey-required").append("<li>None</li>")}},EVEthing.assets={onload:function(){EVEthing.filters.bind_events(),EVEthing.filters.load_filters(EVEthing.assets.filters),$("#sidenav").affix({offset:EVEthing.assets.sidenav_offset})},filter_onload:function(){$(".asset-expand").on("click",function(){var e=$(this);e.hasClass("icon-chevron-right")?(e.addClass("icon-chevron-down").removeClass("icon-chevron-right"),$(e.attr("data-target")).show()):(e.addClass("icon-chevron-right").removeClass("icon-chevron-down"),$(e.attr("data-target")).hide())}),$(".asset-eft").on("click",function(){var e=$(this),t=$("i:nth-child(1)",e.parent()).attr("data-target"),n=$.trim($(".asset-ship-type",e.parent()).text()),r=$.trim($(".asset-ship-name",e.parent()).text());r||(r="From Assets");var i=null,s="["+n+", "+r+"]\n";$(t).each(function(){var e=$.trim($("td:nth-child(4)",$(this)).text());if(e.substr(-4)=="Slot"){i&&i!=e&&(s+="\n"),i=e;var t=$.trim($("td:nth-child(2)",$(this)).text());s+=t+"\n"}}),$("#eft-textarea").val(s),$("#eft-modal").modal("show")}),$("#eft-modal").on("shown",function(){$("#eft-textarea").select()})},sidenav_offset:{top:function(){var e=$(window).height(),t=$("#sidenav").height();return e>=t+75?$("#total").offset().top:999999}}},EVEthing.blueprints={onload:function(){$("#checkall").on("click",function(){$(".js-check").prop("checked",this.checked?"checked":!1)}),$(".bp-edit").on("click",function(){$tr=$(this).parents("tr"),$("#bp-edit-bpi_id").attr("value",$tr.find("td").eq(0).text()),$("#bp-edit-name").val($tr.find("td").eq(1).text()),$("#bp-edit-ml").val($tr.find("td").eq(3).text()),$("#bp-edit-pl").val($tr.find("td").eq(4).text()),$("#edit-blueprint").modal("show")}),$(".bp-delete").on("click",function(){$tr=$(this).parents("tr"),$("#bp-del-bpi_id").attr("value",$tr.find("td").eq(0).text()),$("#bp-del-id").text($tr.find("td").eq(0).text()),$("#bp-del-name").text($tr.find("td").eq(1).text()),$("#bp-del-type").text($tr.find("td").eq(2).text()),$("#bp-del-ml").text($tr.find("td").eq(3).text()),$("#bp-del-pl").text($tr.find("td").eq(4).text()),$("#del-blueprint").modal("show")})}},EVEthing.bpcalc={onload:function(){$("#build-table").tablesorter({headers:{1:{sorter:!1},2:{sorter:"human"},3:{sorter:"human"},4:{sorter:!1},5:{sorter:"human"},7:{sorter:!1},8:{sorter:"human"},10:{sorter:!1},11:{sorter:!1},12:{sorter:!1},13:{sorter:!1},14:{sorter:!1},15:{sorter:!1}},sortList:[[8,1]]})},filter_profit:function(){var e=[],t=$("#profit").attr("value");$("#build-table tbody tr").each(function(n,r){var i=$(r).children()[9],s=parseFloat($(i).text().split("%")[0]);s>=t&&e.push("bpi="+$(r).attr("data_bpi"))});var n=parseUri(window.location.href),r=n.queryKey.days;window.location=n.path+"?days="+r+"&"+e.join("&")},filter_movement:function(){var e=[],t=$("#movement").attr("value");$("#build-table tbody tr").each(function(n,r){var i=$(r).children()[14],s=parseFloat($(i).text().split("%")[0]);s<t&&e.push("bpi="+$(r).attr("data_bpi"))});var n=parseUri(window.location.href),r=n.queryKey.days;window.location=n.path+"?days="+r+"&"+e.join("&")},filter_slots:function(){var e=[],t=$("#slots").val();$("#build-table tbody tr").each(function(n,r){n<t&&e.push("bpi="+$(r).attr("data_bpi"))});var n=parseUri(window.location.href),r=n.queryKey.days;window.location=n.path+"?days="+r+"&"+e.join("&")},filter_checked:function(){var e=[];$("#build-table tbody tr td input").each(function(t,n){n.checked||e.push("bpi="+$(n).closest("tr").attr("data_bpi"))});var t=parseUri(window.location.href),n=t.queryKey.days;window.location=t.path+"?days="+n+"&"+e.join("&")}},EVEthing.character={anon_checked:null,sidenav_top:0,onload:function(){EVEthing.misc.setup_tab_hash(),$("#skillplans-toggle").on("click",function(){$("#skillplans-personal").toggle(),$("#skillplans-global").toggle()}),$("#settings-toggle").on("click",function(){$("#settings-box").toggle()}),$("#public-checkbox").change(EVEthing.character.public_checkbox_change),EVEthing.character.public_checkbox_change(),$("#anon-toggle").change(EVEthing.character.anon_toggle),EVEthing.character.anon_toggle($("#anon-toggle")),$("#settings-form").on("submit",EVEthing.character.settings_submit),$("#sidenav").affix({offset:EVEthing.character.sidenav_offset})},sidenav_offset:{top:function(){var e=window.innerHeight,t=$("#sidenav").height();return e>=t+75?$("#sidenav-offset").offset().top-50:999999}},public_checkbox_change:function(){this.checked?$(".disable-toggle").removeAttr("disabled"):$(".disable-toggle").attr("disabled","disabled")},anon_toggle:function(){if($("#anon-toggle").is(":checked")){var e=$("#anon-key").val();if(e!==""){var t='<a href="'+EVEthing.character.anon_url.replace("zzzz",e)+'">Anonymized link</a>';$("#anon-key-label").html(t)}else $("#anon-key-label").html('<i class="icon-anchor"></i> Save to get new link')}else $("#anon-key-label").empty()},settings_submit:function(e){return e.preventDefault&&e.preventDefault(),$("#settings-status").html('<i class="icon-spinner icon-spin"></i> Saving...'),$.post($(this).attr("action"),$(this).serialize(),function(e){typeof e=="object"?($("#anon-key").val(e.anon_key),$("#settings-status").html('<i class="icon-ok"></i> Saved!'),EVEthing.character.anon_toggle()):$("#settings-status").html('<i class="icon-remove"></i> Error!')}),!1}},EVEthing.filters={comparisons:{eq:"==",ne:"!=",gt:">",gte:">=",lt:"<",lte:"<=","in":"contains",bt:"between"},bind_events:function(){$("#filters").on("click",".js-add",function(){$("#filters").append(EVEthing.filters.build()),$(".date").datepicker()}),$("#filters").on("click",".js-delete",function(){$(this).parent().remove(),$(".filter-type").length==0&&$("#filters").append(EVEthing.filters.build())}),$("#filters").on("change",".filter-type",function(){var e=$(this);e.siblings("select, input").remove(),e.after(EVEthing.filters.build_comparison(e.val(),undefined));var t=e.next();t.after(EVEthing.filters.build_value(e.val(),t.val(),"")),$(".date").datepicker()}),$("#filters").on("change",".filter-comp",function(){var e=$(this).prev(),t=$(this),n=t.next(),r=t.val();if(r==="in"&&!n.is("input")||r==="bt"||r!=="in"&&r!=="bt"&&!n.is("select"))n.remove(),t.after(EVEthing.filters.build_value(e.val(),t.val(),"")),$(".date").datepicker()}),$("#filters").on("changeDate",".date",function(e){var t=$("span:first",$(this).parent().parent()),n=[];$.each($('input[type="text"]',t),function(e,t){n.push($(t).val())}),$('input[type="hidden"]',t).val(n.join())}),$(".date").datepicker()},load_filters:function(e){var t=0;$.each(e,function(e,n){for(var r=0;r<n.length;r++)$("#filters").append(EVEthing.filters.build(e,n[r][0],n[r][1])),t++}),t===0&&$("#filters").append(EVEthing.filters.build())},build:function(e,t,n){var r='<div class="control-group" style="margin: 0;">';return r+='<select name="ft" class="filter-type input-medium">',r+='<option value=""></option>',$.each(EVEthing.util.sorted_keys(EVEthing.filters.expected),function(t,n){n===e?r+='<option value="'+n+'" selected>'+EVEthing.filters.expected[n].label+"</option>":r+='<option value="'+n+'">'+EVEthing.filters.expected[n].label+"</option>"}),r+="</select>",e&&(r+=EVEthing.filters.build_comparison(e,t),r+=EVEthing.filters.build_value(e,t,n)),r+='&nbsp;<i class="js-add icon-plus clickable filter-icon"></i>',r+='<i class="js-delete icon-trash clickable filter-icon"></i>',r+="</div>",r},build_comparison:function(e,t){html=' <select name="fc" class="filter-comp input-small">';for(var n in EVEthing.filters.expected[e].comps){var r=EVEthing.filters.expected[e].comps[n];r==t?html+='<option value="'+r+'" selected>'+EVEthing.filters.comparisons[r]+"</option>":html+='<option value="'+r+'">'+EVEthing.filters.comparisons[r]+"</option>"}return html+="</select>",html},build_value:function(e,t,n){html=" ";if(t=="in")html+='<input name="fv" class="filter-value span2" type="text" value="'+n+'">';else if(e=="date"){dates=n.split(",");for(var r=dates.length;r<2;r++)dates.push("");html+="<span>",html+='<div class="input-append date" data-date="'+dates[0]+'" data-date-format="yyyy-mm-dd">',html+='<input type="text" class="input-small" value="'+dates[0]+'" readonly>',html+='<span class="add-on"><i class="icon-calendar"></i></span></div>',t=="bt"&&(html+=" and ",html+='<div class="input-append date" data-date="'+dates[1]+'" data-date-format="yyyy-mm-dd">',html+='<input type="text" class="input-small" value="'+dates[1]+'" readonly>',html+='<span class="add-on"><i class="icon-calendar"></i></span></div>'),html+='<input type="hidden" name="fv" value="">',html+="</span>"}else EVEthing.filters.data[e]?(html+='<select name="fv" class="filter-value span2">',$.each(EVEthing.util.sorted_keys_by_value(EVEthing.filters.data[e]),function(t,r){var i=EVEthing.filters.data[e][r];r==n?html+='<option value="'+r+'" selected>'+i+"</option>":html+='<option value="'+r+'">'+i+"</option>"}),html+="</select>"):html+='<input name="fv" class="filter-value span2" type="text" value="'+n+'">';return html}},EVEthing.home={replacements:{"character-name":"Character Name","apikey-name":"API name","corporation-name":"Corporation Name [TICKR]","character-location":"Hoth -- X-Wing","wallet-division":"Hookers & Blow","user-name":"Mr. User"},onload:function(){$("[rel=tooltip]").each(function(){$(this).data("tooltip").options.placement="right"}),$("body").on("click",".js-screenshot",EVEthing.home.screenshot_mode)},screenshot_mode:function(){$(".sensitive").each(function(){var e=$(this),t=e.attr("oldname");if(t===undefined){e.attr("oldname",e.text());var n=e.attr("class").split(/\s+/);for(var r=0;r<n.length;r++){var i=EVEthing.home.replacements[n[r]];if(i!==undefined){e.text(i);break}}}else e.text(t),e.removeAttr("oldname")});var e=Array();$(".row-fluid").each(function(){var t=$(this);$(".well",t).each(function(){var t=$(this),n=!1;$("[rel=tooltip]",t).each(function(){var t=$(this);n==0&&e[t.attr("class")]===undefined&&(n=!0,e[t.attr("class")]=!0,t.attr("shown")===undefined?(t.tooltip("show"),t.attr("shown","yup")):(t.tooltip("hide"),t.removeAttr("shown")))})})})}},EVEthing.industry={onload:function(){EVEthing.misc.setup_tab_hash()}},EVEthing.mail={onload:function(){$("#mail-side").on("click",".js-filter",function(){setTimeout(EVEthing.mail.build_table,1)}),$("#mail-side").on("change","select",EVEthing.mail.build_table),$("#mail-mark-read-button").on("click",EVEthing.mail.mark_read_click),$("#mail-list-check-all").on("click",EVEthing.mail.mail_check_all_click),$("#mail-list-table").on("click",".mail-link",EVEthing.mail.mail_link_click),$(window).on("resize",EVEthing.mail.resize),EVEthing.mail.resize();var e='<option value="0" selected>-ALL-</option><option value="-" disabled>——————————</option>'
;$.each(EVEthing.util.sorted_keys_by_value(EVEthing.mail.characters),function(t,n){e+='<option value="'+n+'">'+EVEthing.mail.characters[n]+"</option>"}),$("#filter-character").html(e),$("#mail-list-table").tablesorter({theme:"bootstrap",headerTemplate:"{content} {icon}",widgets:["uitheme"],headers:{0:{sorter:!1}},sortList:[[4,1]]}),EVEthing.mail.onload_hash(),$.get(EVEthing.mail.headers_url,function(e){EVEthing.mail.data=e,EVEthing.mail.data.message_map={};for(var t=0;t<e.messages.length;t++){message=e.messages[t],EVEthing.mail.data.message_map[message.message_id]=message;if(message.to_list_id>0){var n=EVEthing.mail.data.mailing_lists[message.to_list_id]||"Unknown list";message.to_list='<i class="icon-list"></i> '+n}else if(message.to_corp_or_alliance_id>0){var r=EVEthing.mail.data.corporations[message.to_corp_or_alliance_id];if(r!==undefined)message.to_corporation='<i class="icon-group"></i> '+r.name;else{var i=EVEthing.mail.data.alliances[message.to_corp_or_alliance_id];i!==undefined?message.to_alliance='<i class="icon-hospital"></i> '+i.name:message.to_alliance='<i class="icon-hospital"></i> Unknown alliance'}}else message.to_characters.length>0?message.to_characters.length>1?message.to_character='<i class="icon-asterisk"></i> Multiple characters':message.to_character=EVEthing.mail.data.characters[message.to_characters[0]]||"*UNKNOWN*":message.to_character=EVEthing.mail.data.characters[message.character_id]||"*UNKNOWN*"}$("#mail-list-loading").remove(),EVEthing.mail.build_table()}),Handlebars.registerHelper("rowClass",function(){return this.read?new Handlebars.SafeString(' class="success"'):new Handlebars.SafeString(' class="error"')}),Handlebars.registerHelper("toText",function(){return new Handlebars.SafeString(this.to_list||this.to_alliance||this.to_corporation||this.to_character)}),Handlebars.registerHelper("senderText",function(){return EVEthing.mail.data.characters[this.sender_id]||"*UNKNOWN*"}),Handlebars.registerHelper("subjectText",function(){return this.title||"*BLANK SUBJECT*"})},onload_hash:function(){var e=document.location.hash.replace("#","").split(";");if(e.length===2){var t=e[0].split("");t.length===6&&(t[0]==="f"?$("#filter-unread").removeClass("active"):$("#filter-unread").addClass("active"),t[1]==="f"?$("#filter-read").removeClass("active"):$("#filter-read").addClass("active"),$("#filter-to-character").prop("checked",t[2]==="f"?!1:"checked"),$("#filter-to-corporation").prop("checked",t[3]==="f"?!1:"checked"),$("#filter-to-alliance").prop("checked",t[4]==="f"?!1:"checked"),$("#filter-to-mailing-list").prop("checked",t[5]==="f"?!1:"checked"),$("#filter-character").val(e[1]))}},resize:function(e){var t=($("#wrap").height()-$("#wrap .navbar").height()-$("#footer").height()-40)/2,n={"min-height":t+"px","max-height":t+"px"};$(".mail-list").css(n),$(".mail-message").css(n)},build_table:function(){var e=Handlebars.getTemplate("mail_list"),t=$("#filter-unread").hasClass("active"),n=$("#filter-read").hasClass("active"),r=$("#filter-to-character").is(":checked"),i=$("#filter-to-corporation").is(":checked"),s=$("#filter-to-alliance").is(":checked"),o=$("#filter-to-mailing-list").is(":checked"),u=parseInt($("#filter-character").val()),a=0,f="";for(var l=0;l<EVEthing.mail.data.messages.length;l++){var c=EVEthing.mail.data.messages[l],h=!0,p=!1;t&&!c.read&&(p=!0),n&&c.read&&(p=!0),h=p;if(h===!1)continue;u>0&&c.character_id!==u&&c.to_characters.indexOf(u)<0&&(h=!1);if(h===!1)continue;keep_to=!1;if(r&&c.to_character||i&&c.to_corporation||s&&c.to_alliance||o&&c.to_list)keep_to=!0;h===!0&&(h=keep_to),h===!0&&(a++,f+=e(c))}$("#mail-list-table tbody").html(f),a===0?$("#mail-list-filtered").show():$("#mail-list-filtered").hide(),$("#mail-list-check-all").prop("checked",!1),$("#mail-list-table").trigger("update"),document.location.hash=[t?"t":"f",n?"t":"f",r?"t":"f",i?"t":"f",s?"t":"f",o?"t":"f",";",u].join("")},mark_read_click:function(){var e=$("#mail-mark-read-form");$.post(e.attr("action"),e.serialize(),function(e){$.each($("#mail-list-table tbody input:checked"),function(e,t){var n=$(t).closest("tr").attr("data-message-id");EVEthing.mail.data.message_map[n].read=!0}),EVEthing.mail.build_table()})},mail_check_all_click:function(){$("#mail-list-check-all").is(":checked")?$("#mail-list-table tbody input").prop("checked","checked"):$("#mail-list-table tbody input").prop("checked",!1)},mail_link_click:function(e){e.preventDefault&&e.preventDefault();var t=$(this).closest("tr"),n=parseInt($(this).attr("href").replace("#",""));for(var r=0;r<EVEthing.mail.data.messages.length;r++){message=EVEthing.mail.data.messages[r];if(message.message_id===n){$("#mail-message-from").html(EVEthing.mail.data.characters[message.sender_id]||"*UNKNOWN*"),$("#mail-message-subject").html(message.title),$("#mail-message-date").html(message.sent_date);var i=message.to_list||message.to_alliance||message.to_corporation;if(i===undefined){var s=[];for(var r=0;r<message.to_characters.length;r++){var o=message.to_characters[r];EVEthing.mail.characters[o]!==undefined?s.push("<strong>"+EVEthing.mail.characters[o]+"</strong>"):s.push(EVEthing.mail.data.characters[o]||"*UNKNOWN*")}i=s.join(", ")}$("#mail-message-to").html(i);if(message.body!==undefined)$("#mail-message-body").html(message.body);else{$("#mail-message-body").html('<i class="icon-spinner icon-spin icon-4x"></i>');var u=EVEthing.mail.body_url.replace("0000",n);$.get(u,function(e){e.body?(t.removeClass("warning"),message.body=e.body.replace(/\n/g,"<br>\n"),message.read=!0,$("#mail-message-body").html(message.body),EVEthing.mail.build_table()):$("#mail-message.body").html("<strong>ERROR:</strong> "+e.error)})}break}}return!1}},EVEthing.orders={onload:function(){$("[rel=tooltip]").each(function(){$(this).data("tooltip").options.placement="right"})}},EVEthing.transactions={onload:function(){var e=document.location.search;$("a").each(function(){var e=$(this).attr("href");if(e!==undefined&&e.substr(0,5)==="?page"){var t=parseQueryString();t.page=e.split(/=/)[1],$(this).attr("href","?"+$.param(t))}}),EVEthing.filters.bind_events(),EVEthing.filters.load_filters(EVEthing.transactions.filters)}},EVEthing.wallet_journal={onload:function(){var e=document.location.search;$("a").each(function(){var e=$(this).attr("href");if(e!==undefined&&e.substr(0,5)==="?page"){var t=parseQueryString();t.page=e.split(/=/)[1],$(this).attr("href","?"+$.param(t))}}),EVEthing.filters.bind_events(),EVEthing.filters.load_filters(EVEthing.wallet_journal.filters),$("#aggregate-form").submit(function(){var e=$(this).attr("action"),t=$("#filter-form, #aggregate-form").serialize();return window.location.href=e+"?"+t,!1})}};