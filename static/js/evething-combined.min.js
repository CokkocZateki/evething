!function(e){"use strict";e.extend({tablesorter:new function(){var t=this;t.version="2.10.8";t.parsers=[];t.widgets=[];t.defaults={theme:"default",widthFixed:false,showProcessing:false,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:true,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:true,delayInit:false,serverSideSorting:false,headers:{},ignoreCase:true,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:false,sortReset:false,sortRestart:false,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:true,initialized:null,tableClass:"tablesorter",cssAsc:"tablesorter-headerAsc",cssChildRow:"tablesorter-childRow",cssDesc:"tablesorter-headerDesc",cssHeader:"tablesorter-header",cssHeaderRow:"tablesorter-headerRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",cssProcessing:"tablesorter-processing",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:false,headerList:[],empties:{},strings:{},parsers:[]};function i(e){if(typeof console!=="undefined"&&typeof console.log!=="undefined"){console.log(e)}else{alert(e)}}function a(e,t){i(e+" ("+((new Date).getTime()-t.getTime())+"ms)")}t.log=i;t.benchmark=a;function s(t,i,a){if(!i){return""}var s=t.config,r=s.textExtraction,n="";if(r==="simple"){if(s.supportsTextContent){n=i.textContent}else{n=e(i).text()}}else{if(typeof r==="function"){n=r(i,t,a)}else if(typeof r==="object"&&r.hasOwnProperty(a)){n=r[a](i,t,a)}else{n=s.supportsTextContent?i.textContent:e(i).text()}}return e.trim(n)}function r(e,a,r,n){var o,l=t.parsers.length,c=false,h="",f=true;while(h===""&&f){r++;if(a[r]){c=a[r].cells[n];h=s(e,c,n);if(e.config.debug){i("Checking if value was empty on row "+r+", column: "+n+': "'+h+'"')}}else{f=false}}while(--l>=0){o=t.parsers[l];if(o&&o.id!=="text"&&o.is&&o.is(h,e,c)){return o}}return t.getParserById("text")}function n(e){var a=e.config,s=a.$tbodies=a.$table.children("tbody:not(."+a.cssInfoBlock+")"),n,o,l,c,h,f,d,u="";if(s.length===0){return a.debug?i("*Empty table!* Not building a parser cache"):""}n=s[0].rows;if(n[0]){o=[];l=n[0].cells.length;for(c=0;c<l;c++){h=a.$headers.filter(":not([colspan])");h=h.add(a.$headers.filter('[colspan="1"]')).filter('[data-column="'+c+'"]:last');f=a.headers[c];d=t.getParserById(t.getData(h,f,"sorter"));a.empties[c]=t.getData(h,f,"empty")||a.emptyTo||(a.emptyToBottom?"bottom":"top");a.strings[c]=t.getData(h,f,"string")||a.stringTo||"max";if(!d){d=r(e,n,-1,c)}if(a.debug){u+="column:"+c+"; parser:"+d.id+"; string:"+a.strings[c]+"; empty: "+a.empties[c]+"\n"}o.push(d)}}if(a.debug){i(u)}a.parsers=o}function o(r){var n=r.tBodies,o=r.config,l,c,h=o.parsers,f,d,u,p,m,g,v,y,b=[];o.cache={};if(!h){return o.debug?i("*Empty table!* Not building a cache"):""}if(o.debug){y=new Date}if(o.showProcessing){t.isProcessing(r,true)}for(m=0;m<n.length;m++){o.cache[m]={row:[],normalized:[]};if(!e(n[m]).hasClass(o.cssInfoBlock)){l=n[m]&&n[m].rows.length||0;c=n[m].rows[0]&&n[m].rows[0].cells.length||0;for(u=0;u<l;++u){g=e(n[m].rows[u]);v=[];if(g.hasClass(o.cssChildRow)){o.cache[m].row[o.cache[m].row.length-1]=o.cache[m].row[o.cache[m].row.length-1].add(g);continue}o.cache[m].row.push(g);for(p=0;p<c;++p){f=s(r,g[0].cells[p],p);d=h[p].format(f,r,g[0].cells[p],p);v.push(d);if((h[p].type||"").toLowerCase()==="numeric"){b[p]=Math.max(Math.abs(d)||0,b[p]||0)}}v.push(o.cache[m].normalized.length);o.cache[m].normalized.push(v)}o.cache[m].colMax=b}}if(o.showProcessing){t.isProcessing(r)}if(o.debug){a("Building cache for "+l+" rows",y)}}function l(i,s){var r=i.config,n=i.tBodies,o=[],l=r.cache,c,h,f,d,u,p,m,g,v,y,b,w;if(!l[0]){return}if(r.debug){w=new Date}for(v=0;v<n.length;v++){u=e(n[v]);if(u.length&&!u.hasClass(r.cssInfoBlock)){p=t.processTbody(i,u,true);c=l[v].row;h=l[v].normalized;f=h.length;d=f?h[0].length-1:0;for(m=0;m<f;m++){b=h[m][d];o.push(c[b]);if(!r.appender||!r.removeRows){y=c[b].length;for(g=0;g<y;g++){p.append(c[b][g])}}}t.processTbody(i,p,false)}}if(r.appender){r.appender(i,o)}if(r.debug){a("Rebuilt table",w)}if(!s){t.applyWidget(i)}e(i).trigger("sortEnd",i)}function c(t){var i=[],a={},s=0,r=e(t).find("thead:eq(0), tfoot").children("tr"),n,o,l,c,h,f,d,u,p,m,g,v;for(n=0;n<r.length;n++){f=r[n].cells;for(o=0;o<f.length;o++){h=f[o];d=h.parentNode.rowIndex;u=d+"-"+h.cellIndex;p=h.rowSpan||1;m=h.colSpan||1;if(typeof i[d]==="undefined"){i[d]=[]}for(l=0;l<i[d].length+1;l++){if(typeof i[d][l]==="undefined"){g=l;break}}a[u]=g;s=Math.max(g,s);e(h).attr({"data-column":g});for(l=d;l<d+p;l++){if(typeof i[l]==="undefined"){i[l]=[]}v=i[l];for(c=g;c<g+m;c++){v[c]="x"}}}}t.config.columns=s;return a}function h(e){return/^d/i.test(e)||e===1}function f(s){var r=c(s),n,o,l,f,d,p,m,g=s.config;g.headerList=[];g.headerContent=[];if(g.debug){m=new Date}f=g.cssIcon?'<i class="'+g.cssIcon+'"></i>':"";g.$headers=e(s).find(g.selectorHeaders).each(function(i){o=e(this);n=g.headers[i];if(t.getData(o,g.headers[i],"sorter")==="false"){return}g.headerContent[i]=this.innerHTML;d=g.headerTemplate.replace(/\{content\}/g,this.innerHTML).replace(/\{icon\}/g,f);if(g.onRenderTemplate){l=g.onRenderTemplate.apply(o,[i,d]);if(l&&typeof l==="string"){d=l}}this.innerHTML='<div class="tablesorter-header-inner">'+d+"</div>";if(g.onRenderHeader){g.onRenderHeader.apply(o,[i])}this.column=r[this.parentNode.rowIndex+"-"+this.cellIndex];this.order=h(t.getData(o,n,"sortInitialOrder")||g.sortInitialOrder)?[1,0,2]:[0,1,2];this.count=-1;this.lockedOrder=false;p=t.getData(o,n,"lockedOrder")||false;if(typeof p!=="undefined"&&p!==false){this.order=this.lockedOrder=h(p)?[1,1,1]:[0,0,0]}o.addClass(g.cssHeader);g.headerList[i]=this;o.parent().addClass(g.cssHeaderRow);o.attr("tabindex",0)});u(s);if(g.debug){a("Built headers:",m);i(g.$headers)}}function d(e,t,i){var a=e.config;a.$table.find(a.selectorRemove).remove();n(e);o(e);E(a.$table,t,i)}function u(i){var a,s=i.config;s.$headers.each(function(i,r){a=t.getData(r,s.headers[i],"sorter")==="false";r.sortDisabled=a;e(r)[a?"addClass":"removeClass"]("sorter-false")})}function p(t){var i,a,s,r,n=t.config,o=n.sortList,l=[n.cssAsc,n.cssDesc],c=e(t).find("tfoot tr").children().removeClass(l.join(" "));n.$headers.removeClass(l.join(" "));r=o.length;for(a=0;a<r;a++){if(o[a][1]!==2){i=n.$headers.not(".sorter-false").filter('[data-column="'+o[a][0]+'"]'+(r===1?":last":""));if(i.length){for(s=0;s<i.length;s++){if(!i[s].sortDisabled){i.eq(s).addClass(l[o[a][1]]);if(c.length){c.filter('[data-column="'+o[a][0]+'"]').eq(s).addClass(l[o[a][1]])}}}}}}}function m(t){if(t.config.widthFixed&&e(t).find("colgroup").length===0){var i=e("<colgroup>"),a=e(t).width();e(t.tBodies[0]).find("tr:first").children("td").each(function(){i.append(e("<col>").css("width",parseInt(e(this).width()/a*1e3,10)/10+"%"))});e(t).prepend(i)}}function g(t,i){var a,s,r,n=t.config,o=i||n.sortList;n.sortList=[];e.each(o,function(t,i){a=[parseInt(i[0],10),parseInt(i[1],10)];r=n.headerList[a[0]];if(r){n.sortList.push(a);s=e.inArray(a[1],r.order);r.count=s>=0?s:a[1]%(n.sortReset?3:2)}})}function v(e,t){return e&&e[t]?e[t].type||"":""}function y(i,a,s){var r,n,o,c,h,f=i.config,d=!s[f.sortMultiSortKey],u=e(i);u.trigger("sortStart",i);a.count=s[f.sortResetKey]?2:(a.count+1)%(f.sortReset?3:2);if(f.sortRestart){n=a;f.$headers.each(function(){if(this!==n&&(d||!e(this).is("."+f.cssDesc+",."+f.cssAsc))){this.count=-1}})}n=a.column;if(d){f.sortList=[];if(f.sortForce!==null){r=f.sortForce;for(o=0;o<r.length;o++){if(r[o][0]!==n){f.sortList.push(r[o])}}}c=a.order[a.count];if(c<2){f.sortList.push([n,c]);if(a.colSpan>1){for(o=1;o<a.colSpan;o++){f.sortList.push([n+o,c])}}}}else{if(f.sortAppend&&f.sortList.length>1){if(t.isValueInArray(f.sortAppend[0][0],f.sortList)){f.sortList.pop()}}if(t.isValueInArray(n,f.sortList)){for(o=0;o<f.sortList.length;o++){h=f.sortList[o];c=f.headerList[h[0]];if(h[0]===n){h[1]=c.order[c.count];if(h[1]===2){f.sortList.splice(o,1);c.count=-1}}}}else{c=a.order[a.count];if(c<2){f.sortList.push([n,c]);if(a.colSpan>1){for(o=1;o<a.colSpan;o++){f.sortList.push([n+o,c])}}}}}if(f.sortAppend!==null){r=f.sortAppend;for(o=0;o<r.length;o++){if(r[o][0]!==n){f.sortList.push(r[o])}}}u.trigger("sortBegin",i);setTimeout(function(){p(i);b(i);l(i)},1)}function b(t){var i=0,s=t.config,r=s.sortList,n=r.length,o=t.tBodies.length,l,c,h,f,d,u,p,m,g,y;if(s.serverSideSorting||!s.cache[0]){return}if(s.debug){l=new Date}for(h=0;h<o;h++){d=s.cache[h].colMax;u=s.cache[h].normalized;p=u.length;y=u&&u[0]?u[0].length-1:0;u.sort(function(a,o){for(c=0;c<n;c++){f=r[c][0];g=r[c][1];m=/n/i.test(v(s.parsers,f))?"Numeric":"Text";m+=g===0?"":"Desc";if(/Numeric/.test(m)&&s.strings[f]){if(typeof s.string[s.strings[f]]==="boolean"){i=(g===0?1:-1)*(s.string[s.strings[f]]?-1:1)}else{i=s.strings[f]?s.string[s.strings[f]]||0:0}}var l=e.tablesorter["sort"+m](t,a[f],o[f],f,d[f],i);if(l){return l}}return a[y]-o[y]})}if(s.debug){a("Sorting on "+r.toString()+" and dir "+g+" time",l)}}function w(e,t){e.trigger("updateComplete");if(typeof t==="function"){t(e[0])}}function E(e,t,i){if(t!==false&&!e[0].isProcessing){e.trigger("sorton",[e[0].config.sortList,function(){w(e,i)}])}else{w(e,i)}}function _(i){var a=i.config,r=a.$table,c,h;a.$headers.find(a.selectorSort).add(a.$headers.filter(a.selectorSort)).unbind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter",function(t,s){if((t.which||t.button)!==1&&!/sort|keypress/.test(t.type)||t.type==="keypress"&&t.which!==13){return false}if(t.type==="mouseup"&&s!==true&&(new Date).getTime()-h>250){return false}if(t.type==="mousedown"){h=(new Date).getTime();return t.target.tagName==="INPUT"?"":!a.cancelSelection}if(a.delayInit&&!a.cache){o(i)}var r=/TH|TD/.test(this.tagName)?e(this):e(this).parents("th, td").filter(":first"),n=r[0];if(!n.sortDisabled){y(i,n,t)}});if(a.cancelSelection){a.$headers.attr("unselectable","on").bind("selectstart",false).css({"user-select":"none",MozUserSelect:"none"})}r.unbind("sortReset update updateRows updateCell updateAll addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(".tablesorter ")).bind("sortReset.tablesorter",function(e){e.stopPropagation();a.sortList=[];p(i);b(i);l(i)}).bind("updateAll.tablesorter",function(e,a,s){e.stopPropagation();t.refreshWidgets(i,true,true);t.restoreHeaders(i);f(i);_(i);d(i,a,s)}).bind("update.tablesorter updateRows.tablesorter",function(e,t,a){e.stopPropagation();u(i);d(i,t,a)}).bind("updateCell.tablesorter",function(t,n,o,l){t.stopPropagation();r.find(a.selectorRemove).remove();var c,h,f,d=r.find("tbody"),u=d.index(e(n).parents("tbody").filter(":first")),p=e(n).parents("tr").filter(":first");n=e(n)[0];if(d.length&&u>=0){h=d.eq(u).find("tr").index(p);f=n.cellIndex;c=a.cache[u].normalized[h].length-1;a.cache[u].row[i.config.cache[u].normalized[h][c]]=p;a.cache[u].normalized[h][f]=a.parsers[f].format(s(i,n,f),i,n,f);E(r,o,l)}}).bind("addRows.tablesorter",function(e,t,o,l){e.stopPropagation();var h,f=t.filter("tr").length,d=[],u=t[0].cells.length,p=r.find("tbody").index(t.parents("tbody").filter(":first"));if(!a.parsers){n(i)}for(h=0;h<f;h++){for(c=0;c<u;c++){d[c]=a.parsers[c].format(s(i,t[h].cells[c],c),i,t[h].cells[c],c)}d.push(a.cache[p].row.length);a.cache[p].row.push([t[h]]);a.cache[p].normalized.push(d);d=[]}E(r,o,l)}).bind("sorton.tablesorter",function(e,t,a,s){e.stopPropagation();r.trigger("sortStart",this);g(i,t);p(i);r.trigger("sortBegin",this);b(i);l(i,s);if(typeof a==="function"){a(i)}}).bind("appendCache.tablesorter",function(e,t,a){e.stopPropagation();l(i,a);if(typeof t==="function"){t(i)}}).bind("applyWidgetId.tablesorter",function(e,s){e.stopPropagation();t.getWidgetById(s).format(i,a,a.widgetOptions)}).bind("applyWidgets.tablesorter",function(e,a){e.stopPropagation();t.applyWidget(i,a)}).bind("refreshWidgets.tablesorter",function(e,a,s){e.stopPropagation();t.refreshWidgets(i,a,s)}).bind("destroy.tablesorter",function(e,a,s){e.stopPropagation();t.destroy(i,a,s)})}t.construct=function(a){return this.each(function(){if(!this.tHead||this.tBodies.length===0||this.hasInitialized===true){return this.config&&this.config.debug?i("stopping initialization! No thead, tbody or tablesorter has already been initialized"):""}var s=e(this),r=this,l,c="",h=e.metadata;r.hasInitialized=false;r.isProcessing=true;r.config={};l=e.extend(true,r.config,t.defaults,a);e.data(r,"tablesorter",l);if(l.debug){e.data(r,"startoveralltimer",new Date)}l.supportsTextContent=e("<span>x</span>")[0].textContent==="x";l.supportsDataObject=parseFloat(e.fn.jquery)>=1.4;l.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:true,bottom:false};if(!/tablesorter\-/.test(s.attr("class"))){c=l.theme!==""?" tablesorter-"+l.theme:""}l.$table=s.addClass(l.tableClass+c);l.$tbodies=s.children("tbody:not(."+l.cssInfoBlock+")");f(r);m(r);n(r);if(!l.delayInit){o(r)}_(r);if(l.supportsDataObject&&typeof s.data().sortlist!=="undefined"){l.sortList=s.data().sortlist}else if(h&&s.metadata()&&s.metadata().sortlist){l.sortList=s.metadata().sortlist}t.applyWidget(r,true);if(l.sortList.length>0){s.trigger("sorton",[l.sortList,{},!l.initWidgets])}else if(l.initWidgets){t.applyWidget(r)}if(l.showProcessing){s.unbind("sortBegin.tablesorter sortEnd.tablesorter").bind("sortBegin.tablesorter sortEnd.tablesorter",function(e){t.isProcessing(r,e.type==="sortBegin")})}r.hasInitialized=true;r.isProcessing=false;if(l.debug){t.benchmark("Overall initialization time",e.data(r,"startoveralltimer"))}s.trigger("tablesorter-initialized",r);if(typeof l.initialized==="function"){l.initialized(r)}})};t.isProcessing=function(i,a,s){i=e(i);var r=i[0].config,n=s||i.find("."+r.cssHeader);if(a){if(r.sortList.length>0){n=n.filter(function(){return this.sortDisabled?false:t.isValueInArray(parseFloat(e(this).attr("data-column")),r.sortList)})}n.addClass(r.cssProcessing)}else{n.removeClass(r.cssProcessing)}};t.processTbody=function(t,i,a){var s;if(a){t.isProcessing=true;i.before('<span class="tablesorter-savemyplace"/>');s=e.fn.detach?i.detach():i.remove();return s}s=e(t).find("span.tablesorter-savemyplace");i.insertAfter(s);s.remove();t.isProcessing=false};t.clearTableBody=function(t){e(t)[0].config.$tbodies.empty()};t.restoreHeaders=function(t){var i=t.config;i.$table.find(i.selectorHeaders).each(function(t){if(e(this).find(".tablesorter-header-inner").length){e(this).html(i.headerContent[t])}})};t.destroy=function(i,a,s){i=e(i)[0];if(!i.hasInitialized){return}t.refreshWidgets(i,true,true);var r=e(i),n=i.config,o=r.find("thead:first"),l=o.find("tr."+n.cssHeaderRow).removeClass(n.cssHeaderRow),c=r.find("tfoot:first > tr").children("th, td");o.find("tr").not(l).remove();r.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(".tablesorter "));n.$headers.add(c).removeClass(n.cssHeader+" "+n.cssAsc+" "+n.cssDesc).removeAttr("data-column");l.find(n.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter keypress.tablesorter");t.restoreHeaders(i);if(a!==false){r.removeClass(n.tableClass+" tablesorter-"+n.theme)}i.hasInitialized=false;if(typeof s==="function"){s(i)}};t.regex=[/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,/^0x[0-9a-f]+$/i];t.sortText=function(e,i,a,s){if(i===a){return 0}var r=e.config,n=r.string[r.empties[s]||r.emptyTo],o=t.regex,l,c,h,f,d,u,p,m;if(i===""&&n!==0){return typeof n==="boolean"?n?-1:1:-n||-1}if(a===""&&n!==0){return typeof n==="boolean"?n?1:-1:n||1}if(typeof r.textSorter==="function"){return r.textSorter(i,a,e,s)}l=i.replace(o[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0");h=a.replace(o[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0");c=parseInt(i.match(o[2]),16)||l.length!==1&&i.match(o[1])&&Date.parse(i);f=parseInt(a.match(o[2]),16)||c&&a.match(o[1])&&Date.parse(a)||null;if(f){if(c<f){return-1}if(c>f){return 1}}m=Math.max(l.length,h.length);for(p=0;p<m;p++){d=isNaN(l[p])?l[p]||0:parseFloat(l[p])||0;u=isNaN(h[p])?h[p]||0:parseFloat(h[p])||0;if(isNaN(d)!==isNaN(u)){return isNaN(d)?1:-1}if(typeof d!==typeof u){d+="";u+=""}if(d<u){return-1}if(d>u){return 1}}return 0};t.sortTextDesc=function(e,i,a,s){if(i===a){return 0}var r=e.config,n=r.string[r.empties[s]||r.emptyTo];if(i===""&&n!==0){return typeof n==="boolean"?n?-1:1:n||1}if(a===""&&n!==0){return typeof n==="boolean"?n?1:-1:-n||-1}if(typeof r.textSorter==="function"){return r.textSorter(a,i,e,s)}return t.sortText(e,a,i)};t.getTextValue=function(e,t,i){if(t){var a,s=e?e.length:0,r=t+i;for(a=0;a<s;a++){r+=e.charCodeAt(a)}return i*r}return 0};t.sortNumeric=function(e,i,a,s,r,n){if(i===a){return 0}var o=e.config,l=o.string[o.empties[s]||o.emptyTo];if(i===""&&l!==0){return typeof l==="boolean"?l?-1:1:-l||-1}if(a===""&&l!==0){return typeof l==="boolean"?l?1:-1:l||1}if(isNaN(i)){i=t.getTextValue(i,r,n)}if(isNaN(a)){a=t.getTextValue(a,r,n)}return i-a};t.sortNumericDesc=function(e,i,a,s,r,n){if(i===a){return 0}var o=e.config,l=o.string[o.empties[s]||o.emptyTo];if(i===""&&l!==0){return typeof l==="boolean"?l?-1:1:l||1}if(a===""&&l!==0){return typeof l==="boolean"?l?1:-1:-l||-1}if(isNaN(i)){i=t.getTextValue(i,r,n)}if(isNaN(a)){a=t.getTextValue(a,r,n)}return a-i};t.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"};t.replaceAccents=function(e){var i,a="[",s=t.characterEquivalents;if(!t.characterRegex){t.characterRegexArray={};for(i in s){if(typeof i==="string"){a+=s[i];t.characterRegexArray[i]=new RegExp("["+s[i]+"]","g")}}t.characterRegex=new RegExp(a+"]")}if(t.characterRegex.test(e)){for(i in s){if(typeof i==="string"){e=e.replace(t.characterRegexArray[i],i)}}}return e};t.isValueInArray=function(e,t){var i,a=t.length;for(i=0;i<a;i++){if(t[i][0]===e){return true}}return false};t.addParser=function(e){var i,a=t.parsers.length,s=true;for(i=0;i<a;i++){if(t.parsers[i].id.toLowerCase()===e.id.toLowerCase()){s=false}}if(s){t.parsers.push(e)}};t.getParserById=function(e){var i,a=t.parsers.length;for(i=0;i<a;i++){if(t.parsers[i].id.toLowerCase()===e.toString().toLowerCase()){return t.parsers[i]}}return false};t.addWidget=function(e){t.widgets.push(e)};t.getWidgetById=function(e){var i,a,s=t.widgets.length;for(i=0;i<s;i++){a=t.widgets[i];if(a&&a.hasOwnProperty("id")&&a.id.toLowerCase()===e.toLowerCase()){return a}}};t.applyWidget=function(i,s){i=e(i)[0];var r=i.config,n=r.widgetOptions,o=[],l,c,h,f;if(r.debug){l=new Date}if(r.widgets.length){r.widgets=e.grep(r.widgets,function(t,i){return e.inArray(t,r.widgets)===i});e.each(r.widgets||[],function(e,i){f=t.getWidgetById(i);if(f&&f.id){if(!f.priority){f.priority=10}o[e]=f}});o.sort(function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1});e.each(o,function(t,a){if(a){if(s){if(a.hasOwnProperty("options")){n=i.config.widgetOptions=e.extend(true,{},a.options,n)}if(a.hasOwnProperty("init")){a.init(i,a,r,n)}}else if(!s&&a.hasOwnProperty("format")){a.format(i,r,n,false)}}})}if(r.debug){h=r.widgets.length;a("Completed "+(s===true?"initializing ":"applying ")+h+" widget"+(h!==1?"s":""),l)}};t.refreshWidgets=function(a,s,r){a=e(a)[0];var n,o=a.config,l=o.widgets,c=t.widgets,h=c.length;for(n=0;n<h;n++){if(c[n]&&c[n].id&&(s||e.inArray(c[n].id,l)<0)){if(o.debug){i("Refeshing widgets: Removing "+c[n].id)}if(c[n].hasOwnProperty("remove")){c[n].remove(a,o,o.widgetOptions)}}}if(r!==true){t.applyWidget(a,s)}};t.getData=function(t,i,a){var s="",r=e(t),n,o;if(!r.length){return""}n=e.metadata?r.metadata():false;o=" "+(r.attr("class")||"");if(typeof r.data(a)!=="undefined"||typeof r.data(a.toLowerCase())!=="undefined"){s+=r.data(a)||r.data(a.toLowerCase())}else if(n&&typeof n[a]!=="undefined"){s+=n[a]}else if(i&&typeof i[a]!=="undefined"){s+=i[a]}else if(o!==" "&&o.match(" "+a+"-")){s=o.match(new RegExp("\\s"+a+"-([\\w-]+)"))[1]||""}return e.trim(s)};t.formatFloat=function(t,i){if(typeof t!=="string"||t===""){return t}var a,s=i&&i.config?i.config.usNumberFormat!==false:typeof i!=="undefined"?i:true;if(s){t=t.replace(/,/g,"")}else{t=t.replace(/[\s|\.]/g,"").replace(/,/g,".")}if(/^\s*\([.\d]+\)/.test(t)){t=t.replace(/^\s*\(/,"-").replace(/\)/,"")}a=parseFloat(t);return isNaN(a)?e.trim(t):a};t.isDigit=function(e){return isNaN(e)?/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,"")):true}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct});t.addParser({id:"text",is:function(){return true},format:function(i,a){var s=a.config;if(i){i=e.trim(s.ignoreCase?i.toLocaleLowerCase():i);i=s.sortLocaleCompare?t.replaceAccents(i):i}return i},type:"text"});t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(i,a){var s=t.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),a);return i&&typeof s==="number"?s:i?e.trim(i&&a.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"});t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[,. ]/g,""))},format:function(i,a){var s=t.formatFloat((i||"").replace(/[^\w,. \-()]/g,""),a);return i&&typeof s==="number"?s:i?e.trim(i&&a.config.ignoreCase?i.toLocaleLowerCase():i):i},type:"numeric"});t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,i){var a,s=e?e.split("."):"",r="",n=s.length;for(a=0;a<n;a++){r+=("00"+s[a]).slice(-3)}return e?t.formatFloat(r,i):e},type:"numeric"});t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},type:"text"});t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e,i){return e?t.formatFloat(e!==""?new Date(e.replace(/-/g,"/")).getTime()||"":"",i):e},type:"numeric"});t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&e.length<15},format:function(e,i){return e?t.formatFloat(e.replace(/%/g,""),i):e},type:"numeric"});t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)},format:function(e,i){return e?t.formatFloat(new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",i):e},type:"numeric"});t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,i,a,s){if(e){var r=i.config,n=r.headerList[s],o=n.dateFormat||t.getData(n,r.headers[s],"dateFormat")||r.dateFormat;e=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/");if(o==="mmddyyyy"){e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2")}else if(o==="ddmmyyyy"){e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1")}else if(o==="yyyymmdd"){e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3")}}return e?t.formatFloat(new Date(e).getTime()||"",i):e},type:"numeric"});t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,i){return e?t.formatFloat(new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",i):e},type:"numeric"});t.addParser({id:"metadata",is:function(){return false},format:function(t,i,a){var s=i.config,r=!s.parserMetadataName?"sortValue":s.parserMetadataName;return e(a).metadata()[r]},type:"numeric"});t.addWidget({id:"zebra",priority:90,format:function(i,a,s){var r,n,o,l,c,h,f,d,u=new RegExp(a.cssChildRow,"i"),p=a.$tbodies;if(a.debug){h=new Date}for(f=0;f<p.length;f++){r=p.eq(f);d=r.children("tr").length;if(d>1){l=0;n=r.children("tr:visible");n.each(function(){o=e(this);if(!u.test(this.className)){l++}c=l%2===0;o.removeClass(s.zebra[c?1:0]).addClass(s.zebra[c?0:1])})}}if(a.debug){t.benchmark("Applying Zebra widget",h)}},remove:function(t,i,a){var s,r,n=i.$tbodies,o=(a.zebra||["even","odd"]).join(" ");for(s=0;s<n.length;s++){r=e.tablesorter.processTbody(t,n.eq(s),true);r.children().removeClass(o);e.tablesorter.processTbody(t,r,false)}}})}(jQuery);!function(e){"use strict";var t=e.tablesorter=e.tablesorter||{};t.themes={bootstrap:{table:"table table-bordered table-striped",header:"bootstrap-header",footerRow:"",footerCells:"",icons:"",sortNone:"bootstrap-icon-unsorted",sortAsc:"icon-chevron-up",sortDesc:"icon-chevron-down",active:"",hover:"",filterRow:"",even:"",odd:""},jui:{table:"ui-widget ui-widget-content ui-corner-all",header:"ui-widget-header ui-corner-all ui-state-default",footerRow:"",footerCells:"",icons:"ui-icon",sortNone:"ui-icon-carat-2-n-s",sortAsc:"ui-icon-carat-1-n",sortDesc:"ui-icon-carat-1-s",active:"ui-state-active",hover:"ui-state-hover",filterRow:"",even:"ui-widget-content",odd:"ui-state-default"}};t.storage=function(t,i,a){var s,r,n=false,o={},l=t.id||e(".tablesorter").index(e(t)),c=window.location.pathname;if("localStorage"in window){try{window.localStorage.setItem("_tmptest","temp");n=true;window.localStorage.removeItem("_tmptest")}catch(h){}}if(e.parseJSON){if(n){o=e.parseJSON(localStorage[i]||"{}")}else{r=document.cookie.split(/[;\s|=]/);s=e.inArray(i,r)+1;o=s!==0?e.parseJSON(r[s]||"{}"):{}}}if((a||a==="")&&window.JSON&&JSON.hasOwnProperty("stringify")){if(!o[c]){o[c]={}}o[c][l]=a;if(n){localStorage[i]=JSON.stringify(o)}else{s=new Date;s.setTime(s.getTime()+31536e6);document.cookie=i+"="+JSON.stringify(o).replace(/\"/g,'"')+"; expires="+s.toGMTString()+"; path=/"}}else{return o&&o[c]?o[c][l]:{}}};t.addHeaderResizeEvent=function(t,i,a){var s={timer:250},r=e.extend({},s,a),n=t.config,o=n.widgetOptions,l,c=function(){o.resize_flag=true;l=[];n.$headers.each(function(){var t=e.data(this,"savedSizes"),i=this.offsetWidth,a=this.offsetHeight;if(i!==t[0]||a!==t[1]){e.data(this,"savedSizes",[i,a]);l.push(this)}});if(l.length){n.$table.trigger("resize",[l])}o.resize_flag=false};clearInterval(o.resize_timer);if(i){o.resize_flag=false;return false}n.$headers.each(function(){e.data(this,"savedSizes",[this.offsetWidth,this.offsetHeight])});o.resize_timer=setInterval(function(){if(o.resize_flag){return}c()},r.timer)};t.addWidget({id:"uitheme",priority:10,options:{uitheme:"jui"},format:function(i,a,s){var r,n,o,l,c=t.themes,h=a.$table,f=a.theme!=="default"?a.theme:s.uitheme||"jui",d=c[c[f]?f:c[s.uitheme]?s.uitheme:"jui"],u=a.$headers,p="tr."+(s.stickyHeaders||"tablesorter-stickyHeader"),m=d.sortNone+" "+d.sortDesc+" "+d.sortAsc;if(a.debug){r=new Date}if(!h.hasClass("tablesorter-"+f)||a.theme===f||!i.hasInitialized){if(d.even!==""){s.zebra[0]+=" "+d.even}if(d.odd!==""){s.zebra[1]+=" "+d.odd}c=h.removeClass(a.theme===""?"":"tablesorter-"+a.theme).addClass("tablesorter-"+f+" "+d.table).find("tfoot");if(c.length){c.find("tr").addClass(d.footerRow).children("th, td").addClass(d.footerCells)}u.addClass(d.header).filter(":not(.sorter-false)").bind("mouseenter.tsuitheme mouseleave.tsuitheme",function(t){e(this)[t.type==="mouseenter"?"addClass":"removeClass"](d.hover)});if(!u.find(".tablesorter-wrapper").length){u.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>')}if(a.cssIcon){u.find("."+a.cssIcon).addClass(d.icons)}if(h.hasClass("hasFilters")){u.find(".tablesorter-filter-row").addClass(d.filterRow)}}e.each(u,function(t){o=e(this);l=a.cssIcon?o.find("."+a.cssIcon):o;if(this.sortDisabled){o.removeClass(m);l.removeClass(m+" tablesorter-icon "+d.icons)}else{c=h.hasClass("hasStickyHeaders")?h.find(p).find("th").eq(t).add(o):o;n=o.hasClass(a.cssAsc)?d.sortAsc:o.hasClass(a.cssDesc)?d.sortDesc:o.hasClass(a.cssHeader)?d.sortNone:"";o[n===d.sortNone?"removeClass":"addClass"](d.active);l.removeClass(m).addClass(n)}});if(a.debug){t.benchmark("Applying "+f+" theme",r)}},remove:function(e,i,a){var s=i.$table,r=typeof a.uitheme==="object"?"jui":a.uitheme||"jui",n=typeof a.uitheme==="object"?a.uitheme:t.themes[t.themes.hasOwnProperty(r)?r:"jui"],o=s.children("thead").children(),l=n.sortNone+" "+n.sortDesc+" "+n.sortAsc;s.removeClass("tablesorter-"+r+" "+n.table).find(i.cssHeader).removeClass(n.header);o.unbind("mouseenter.tsuitheme mouseleave.tsuitheme").removeClass(n.hover+" "+l+" "+n.active).find(".tablesorter-filter-row").removeClass(n.filterRow);o.find(".tablesorter-icon").removeClass(n.icons)}});t.addWidget({id:"columns",priority:30,options:{columns:["primary","secondary","tertiary"]},format:function(i,a,s){var r,n,o,l,c,h,f,d,u,p,m=a.$table,g=a.$tbodies,v=a.sortList,y=v.length,b=a.widgetColumns&&a.widgetColumns.hasOwnProperty("css")?a.widgetColumns.css||b:s&&s.hasOwnProperty("columns")?s.columns||b:b;h=b.length-1;f=b.join(" ");if(a.debug){c=new Date}for(u=0;u<g.length;u++){r=t.processTbody(i,g.eq(u),true);n=r.children("tr");p=n.length;n.each(function(){l=e(this);if(this.style.display!=="none"){o=l.children().removeClass(f);if(v&&v[0]){o.eq(v[0][0]).addClass(b[0]);if(y>1){for(d=1;d<y;d++){o.eq(v[d][0]).addClass(b[d]||b[h])}}}}});t.processTbody(i,r,false)}n=s.columns_thead!==false?"thead tr":"";if(s.columns_tfoot!==false){n+=(n===""?"":",")+"tfoot tr"}if(n.length){l=m.find(n).children().removeClass(f);if(v&&v[0]){l.filter('[data-column="'+v[0][0]+'"]').addClass(b[0]);if(y>1){for(d=1;d<y;d++){l.filter('[data-column="'+v[d][0]+'"]').addClass(b[d]||b[h])}}}}if(a.debug){t.benchmark("Applying Columns widget",c)}},remove:function(i,a,s){var r,n,o=a.$tbodies,l=(s.columns||["primary","secondary","tertiary"]).join(" ");a.$headers.removeClass(l);a.$table.children("tfoot").children("tr").children("th, td").removeClass(l);for(r=0;r<o.length;r++){n=t.processTbody(i,o.eq(r),true);n.children("tr").each(function(){e(this).children().removeClass(l)});t.processTbody(i,n,false)}}});t.addWidget({id:"filter",priority:50,options:{filter_childRows:false,filter_columnFilters:true,filter_cssFilter:"tablesorter-filter",filter_filteredRow:"filtered",filter_formatter:null,filter_functions:null,filter_hideFilters:false,filter_ignoreCase:true,filter_liveSearch:true,filter_onlyAvail:"filter-onlyAvail",filter_reset:null,filter_searchDelay:300,filter_startsWith:false,filter_useParsedData:false,filter_serversideFiltering:false,filter_defaultAttrib:"data-value",filter_regex:{regex:/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})?$/,child:/tablesorter-childRow/,filtered:/filtered/,type:/undefined|number/,exact:/(^[\"|\'|=])|([\"|\'|=]$)/g,nondigit:/[^\w,. \-()]/g,operators:/[<>=]/g}},format:function(i,a,s){if(a.parsers&&!a.$table.hasClass("hasFilters")){var r,n,o,l,c,h,f,d,u,p,m,g,v,y,b,w,E,_,$,k=t.formatFloat,C="",x=a.$headers,R=s.filter_cssFilter,S=a.$table.addClass("hasFilters"),V=S.find("tbody"),T=a.parsers.length,A,D,O,H=function(r){var n=e.isArray(r),o=n?r:t.getFilters(i),l=(o||[]).join("");if(n){t.setFilters(S,o)}if(s.filter_hideFilters){S.find(".tablesorter-filter-row").trigger(l===""?"mouseleave":"mouseenter")}if(C===l&&r!==false){return}S.trigger("filterStart",[o]);if(a.showProcessing){setTimeout(function(){P(r,o,l);return false},30)}else{P(r,o,l);return false}},P=function(l,h,u){var p,m,g,v,y,_,$,R,D,O,H;if(a.debug){R=new Date}for(o=0;o<V.length;o++){if(V.eq(o).hasClass(a.cssInfoBlock)){continue}p=t.processTbody(i,V.eq(o),true);m=p.children("tr:not(."+a.cssChildRow+")");_=m.length;if(u===""||s.filter_serversideFiltering){p.children().show().removeClass(s.filter_filteredRow)}else{H=true;y=S.data("lastSearch")||[];e.each(h,function(e,t){H=(t||"").indexOf(y[e]||"")===0&&H&&!/(\s+or\s+|\|)/g.test(t||"")});if(H&&m.filter(":visible").length===0){H=false}for(n=0;n<_;n++){y=m[n].className;if(s.filter_regex.child.test(y)||H&&s.filter_regex.filtered.test(y)){continue
}y=true;v=m.eq(n).nextUntil("tr:not(."+a.cssChildRow+")");E=v.length&&s.filter_childRows?v.text():"";E=s.filter_ignoreCase?E.toLocaleLowerCase():E;g=m.eq(n).children("td");for(r=0;r<T;r++){if(h[r]){if(s.filter_useParsedData||A[r]){f=a.cache[o].normalized[n][r]}else{f=e.trim(g.eq(r).text())}d=!s.filter_regex.type.test(typeof f)&&s.filter_ignoreCase?f.toLocaleLowerCase():f;$=y;c=s.filter_ignoreCase?h[r].toLocaleLowerCase():h[r];if(s.filter_functions&&s.filter_functions[r]){if(s.filter_functions[r]===true){$=x.filter('[data-column="'+r+'"]:last').hasClass("filter-match")?d.search(c)>=0:h[r]===f}else if(typeof s.filter_functions[r]==="function"){$=s.filter_functions[r](f,a.cache[o].normalized[n][r],h[r],r)}else if(typeof s.filter_functions[r][h[r]]==="function"){$=s.filter_functions[r][h[r]](f,a.cache[o].normalized[n][r],h[r],r)}}else if(s.filter_regex.regex.test(c)){b=s.filter_regex.regex.exec(c);try{$=new RegExp(b[1],b[2]).test(d)}catch(P){$=false}}else if(c.replace(s.filter_regex.exact,"")==d){$=true}else if(/^\!/.test(c)){c=c.replace("!","");w=d.search(e.trim(c));$=c===""?true:!(s.filter_startsWith?w===0:w>=0)}else if(/^[<>]=?/.test(c)){w=k(c.replace(s.filter_regex.nondigit,"").replace(s.filter_regex.operators,""),i);if(A[r]||a.parsers[r].type==="numeric"){b=a.parsers[r].format(""+c.replace(s.filter_regex.operators,""),i,x.eq(r),r);w=b!==""&&!isNaN(b)?b:w}b=(A[r]||a.parsers[r].type==="numeric")&&!isNaN(w)&&a.cache[o].normalized[n]?a.cache[o].normalized[n][r]:isNaN(d)?k(d.replace(s.filter_regex.nondigit,""),i):k(d,i);if(/>/.test(c)){$=/>=/.test(c)?b>=w:b>w}if(/</.test(c)){$=/<=/.test(c)?b<=w:b<w}if(w===""){$=true}}else if(/\s+(AND|&&)\s+/g.test(h[r])){w=c.split(/(?:\s+(?:and|&&)\s+)/g);$=d.search(e.trim(w[0]))>=0;D=w.length-1;while($&&D){$=$&&d.search(e.trim(w[D]))>=0;D--}}else if(/\s+(-|to)\s+/.test(c)){w=c.split(/(?: - | to )/);D=k(w[0].replace(s.filter_regex.nondigit,""),i);O=k(w[1].replace(s.filter_regex.nondigit,""),i);if(A[r]||a.parsers[r].type==="numeric"){b=a.parsers[r].format(""+w[0],i,x.eq(r),r);D=b!==""&&!isNaN(b)?b:D;b=a.parsers[r].format(""+w[1],i,x.eq(r),r);O=b!==""&&!isNaN(b)?b:O}b=(A[r]||a.parsers[r].type==="numeric")&&!isNaN(D)&&!isNaN(O)?a.cache[o].normalized[n][r]:isNaN(d)?k(d.replace(s.filter_regex.nondigit,""),i):k(d,i);if(D>O){$=D;D=O;O=$}$=b>=D&&b<=O||D===""||O===""?true:false}else if(/[\?|\*]/.test(c)||/\s+OR\s+/.test(h[r])){w=c.replace(/\s+OR\s+/gi,"|");if(!x.filter('[data-column="'+r+'"]:last').hasClass("filter-match")&&/\|/.test(w)){w="^("+w+")$"}$=new RegExp(w.replace(/\?/g,"\\S{1}").replace(/\*/g,"\\S*")).test(d)}else{f=(d+E).indexOf(c);$=!s.filter_startsWith&&f>=0||s.filter_startsWith&&f===0}y=$?y?true:false:false}}m[n].style.display=y?"":"none";m.eq(n)[y?"removeClass":"addClass"](s.filter_filteredRow);if(v.length){v[y?"show":"hide"]()}}}t.processTbody(i,p,false)}C=u;S.data("lastSearch",h);if(a.debug){t.benchmark("Completed filter widget search",R)}S.trigger("applyWidgets");S.trigger("filterEnd")},I=function(r,c,h){var f,d,u=[],p;r=parseInt(r,10);d=x.filter('[data-column="'+r+'"]:last');f='<option value="">'+(d.data("placeholder")||d.attr("data-placeholder")||"")+"</option>";for(o=0;o<V.length;o++){l=a.cache[o].row.length;for(n=0;n<l;n++){if(h&&a.cache[o].row[n][0].className.match(s.filter_filteredRow)){continue}if(s.filter_useParsedData){u.push(""+a.cache[o].normalized[n][r])}else{d=a.cache[o].row[n][0].cells[r];if(d){u.push(e.trim(a.supportsTextContent?d.textContent:e(d).text()))}}}}u=e.grep(u,function(t,i){return e.inArray(t,u)===i});u=t.sortText?u.sort(function(e,a){return t.sortText(i,e,a,r)}):u.sort(true);p=S.find("thead").find("select."+R+'[data-column="'+r+'"]').val();for(o=0;o<u.length;o++){d=u[o].replace(/\"/g,"&quot;");f+=u[o]!==""?'<option value="'+d+'"'+(p===d?' selected="selected"':"")+">"+u[o]+"</option>":""}S.find("thead").find("select."+R+'[data-column="'+r+'"]')[c?"html":"append"](f)},M=function(e){for(r=0;r<T;r++){E=x.filter('[data-column="'+r+'"]:last');if((E.hasClass("filter-select")||s.filter_functions&&s.filter_functions[r]===true)&&!E.hasClass("filter-false")){if(!s.filter_functions){s.filter_functions={}}s.filter_functions[r]=true;I(r,e,E.hasClass(s.filter_onlyAvail))}}},N=function(e){if(typeof e==="undefined"||e===true){clearTimeout(O);O=setTimeout(function(){H(e)},s.filter_liveSearch?s.filter_searchDelay:10)}else{H(e)}};if(a.debug){D=new Date}s.filter_regex.child=new RegExp(a.cssChildRow);s.filter_regex.filtered=new RegExp(s.filter_filteredRow);if(s.filter_columnFilters!==false&&x.filter(".filter-false").length!==x.length){E='<tr class="tablesorter-filter-row">';for(r=0;r<T;r++){E+="<td></td>"}a.$filters=e(E+="</tr>").appendTo(S.find("thead").eq(0)).find("td");for(r=0;r<T;r++){_=false;y=x.filter('[data-column="'+r+'"]:last');p=s.filter_functions&&s.filter_functions[r]&&typeof s.filter_functions[r]!=="function"||y.hasClass("filter-select");if(t.getData){_=t.getData(y[0],a.headers[r],"filter")==="false"}else{_=a.headers[r]&&a.headers[r].hasOwnProperty("filter")&&a.headers[r].filter===false||y.hasClass("filter-false")}if(p){E=e("<select>").appendTo(a.$filters.eq(r))}else{if(s.filter_formatter&&e.isFunction(s.filter_formatter[r])){E=s.filter_formatter[r](a.$filters.eq(r),r);if(E&&E.length===0){E=a.$filters.eq(r).children("input")}if(E&&(E.parent().length===0||E.parent().length&&E.parent()[0]!==a.$filters[r])){a.$filters.eq(r).append(E)}}else{E=e('<input type="search">').appendTo(a.$filters.eq(r))}if(E){E.attr("placeholder",y.data("placeholder")||y.attr("data-placeholder")||"")}}if(E){E.addClass(R).attr("data-column",r);if(_){E.addClass("disabled")[0].disabled=true}}}}S.bind("addRows updateCell update updateRows updateComplete appendCache filterReset filterEnd search ".split(" ").join(".tsfilter "),function(e,t){if(!/(search|filterReset|filterEnd)/.test(e.type)){e.stopPropagation();M(true)}if(e.type==="filterReset"){S.find("."+R).val("")}if(e.type==="filterEnd"){M(true)}else{t=e.type==="search"?t:e.type==="updateComplete"?S.data("lastSearch"):"";N(t)}return false}).find("input."+R).bind("keyup search",function(e,t){if(e.which===27){this.value=""}else if(typeof s.filter_liveSearch==="number"&&this.value.length<s.filter_liveSearch&&this.value!==""||e.type==="keyup"&&(e.which<32&&e.which!==8&&s.filter_liveSearch===true&&e.which!==13||e.which>=37&&e.which<=40||e.which!==13&&s.filter_liveSearch===false)){return}N(t)});A=x.map(function(i){return t.getData?t.getData(x.filter('[data-column="'+i+'"]:last'),a.headers[i],"filter")==="parsed":e(this).hasClass("filter-parsed")}).get();if(s.filter_reset&&e(s.filter_reset).length){e(s.filter_reset).bind("click.tsfilter",function(){S.trigger("filterReset")})}if(s.filter_functions){for($ in s.filter_functions){if(s.filter_functions.hasOwnProperty($)&&typeof $==="string"){E=x.filter('[data-column="'+$+'"]:last');h="";if(s.filter_functions[$]===true&&!E.hasClass("filter-false")){I($)}else if(typeof $==="string"&&!E.hasClass("filter-false")){for(m in s.filter_functions[$]){if(typeof m==="string"){h+=h===""?'<option value="">'+(E.data("placeholder")||E.attr("data-placeholder")||"")+"</option>":"";h+='<option value="'+m+'">'+m+"</option>"}}S.find("thead").find("select."+R+'[data-column="'+$+'"]').append(h)}}}}M(true);S.find("select."+R).bind("change search",function(e,t){H(t)});if(s.filter_hideFilters){S.find(".tablesorter-filter-row").addClass("hideme").bind("mouseenter mouseleave",function(t){var i,a=t;g=e(this);clearTimeout(u);u=setTimeout(function(){if(/enter|over/.test(a.type)){g.removeClass("hideme")}else{if(e(document.activeElement).closest("tr")[0]!==g[0]){i=S.find("."+s.filter_cssFilter).map(function(){return e(this).val()||""}).get().join("");if(i===""){g.addClass("hideme")}}}},200)}).find("input, select").bind("focus blur",function(t){v=e(this).closest("tr");clearTimeout(u);u=setTimeout(function(){if(S.find("."+s.filter_cssFilter).map(function(){return e(this).val()||""}).get().join("")===""){v[t.type==="focus"?"removeClass":"addClass"]("hideme")}},200)})}if(a.showProcessing){S.bind("filterStart.tsfilter filterEnd.tsfilter",function(i,s){var r=s?S.find("."+a.cssHeader).filter("[data-column]").filter(function(){return s[e(this).data("column")]!==""}):"";t.isProcessing(S[0],i.type==="filterStart",s?r:"")})}if(a.debug){t.benchmark("Applying Filter widget",D)}S.bind("tablesorter-initialized",function(){h=t.getFilters(i);for(r=0;r<h.length;r++){h[r]=x.filter('[data-column="'+r+'"]:last').attr(s.filter_defaultAttrib)||h[r]}t.setFilters(i,h,true)});S.trigger("filterInit");H()}},remove:function(i,a,s){var r,n,o=a.$table,l=a.$tbodies;o.removeClass("hasFilters").unbind("addRows updateCell update updateComplete appendCache search filterStart filterEnd ".split(" ").join(".tsfilter ")).find(".tablesorter-filter-row").remove();for(r=0;r<l.length;r++){n=t.processTbody(i,l.eq(r),true);n.children().removeClass(s.filter_filteredRow).show();t.processTbody(i,n,false)}if(s.filterreset){e(s.filter_reset).unbind("click.tsfilter")}}});t.getFilters=function(t){var i=t?e(t)[0].config:{};if(i&&i.widgetOptions&&!i.widgetOptions.filter_columnFilters){return e(t).data("lastSearch")}return i&&i.$filters?i.$filters.find("."+i.widgetOptions.filter_cssFilter).map(function(t,i){return e(i).val()}).get()||[]:false};t.setFilters=function(t,i,a){var s=e(t),r=s.length?s[0].config:{},n=r&&r.$filters?r.$filters.find("."+r.widgetOptions.filter_cssFilter).each(function(t,a){e(a).val(i[t]||"")}).trigger("change.tsfilter")||false:false;if(a){s.trigger("search",[i,false])}return!!n};t.addWidget({id:"stickyHeaders",priority:60,options:{stickyHeaders:"tablesorter-stickyHeader",stickyHeaders_offset:0,stickyHeaders_cloneId:"-sticky",stickyHeaders_addResizeEvent:true,stickyHeaders_includeCaption:true,stickyHeaders_zIndex:2},format:function(i,a,s){if(a.$table.hasClass("hasStickyHeaders")){return}var r=a.$table,n=e(window),o=r.children("thead:first"),l=o.children("tr:not(.sticky-false)").children(),c=".tablesorter-header-inner",h=r.find("tfoot"),f="."+(s.filter_cssFilter||"tablesorter-filter"),d=isNaN(s.stickyHeaders_offset)?e(s.stickyHeaders_offset):"",u=d.length?d.height()||0:parseInt(s.stickyHeaders_offset,10)||0,p=s.stickyHeaders_zIndex?s.stickyHeaders_zIndex:2,m=s.$sticky=r.clone().addClass("containsStickyHeaders").css({position:"fixed",margin:0,top:u,visibility:"hidden",zIndex:p}),g=m.children("thead:first").addClass(s.stickyHeaders),v,y="",b=0,w=false,E=function(){u=d.length?d.height()||0:parseInt(s.stickyHeaders_offset,10)||0;var t=navigator.userAgent;b=0;if(r.css("border-collapse")!=="collapse"&&!/(webkit|msie)/i.test(t)){b=parseInt(l.eq(0).css("border-left-width"),10)*2}m.css({left:o.offset().left-n.scrollLeft()-b,width:r.width()});v.filter(":visible").each(function(t){var i=l.filter(":visible").eq(t);e(this).css({width:i.width()-b,height:i.height()}).find(c).width(i.find(c).width())})};if(m.attr("id")){m[0].id+=s.stickyHeaders_cloneId}m.find("thead:gt(0), tr.sticky-false, tbody, tfoot").remove();if(!s.stickyHeaders_includeCaption){m.find("caption").remove()}v=g.children().children();m.css({height:0,width:0,padding:0,margin:0,border:0});v.find(".tablesorter-resizer").remove();r.addClass("hasStickyHeaders").bind("sortEnd.tsSticky",function(){l.filter(":visible").each(function(t){var i=v.filter(":visible").eq(t);i.attr("class",e(this).attr("class")).removeClass(a.cssProcessing);if(a.cssIcon){i.find("."+a.cssIcon).attr("class",e(this).find("."+a.cssIcon).attr("class"))}})}).bind("pagerComplete.tsSticky",function(){E()});l.find(a.selectorSort).add(a.$headers.filter(a.selectorSort)).each(function(t){var i=e(this),s=g.children("tr.tablesorter-headerRow").children().eq(t).bind("mouseup",function(e){i.trigger(e,true)});if(a.cancelSelection){s.attr("unselectable","on").bind("selectstart",false).css({"user-select":"none",MozUserSelect:"none"})}});r.after(m);n.bind("scroll.tsSticky resize.tsSticky",function(e){if(!r.is(":visible")){return}var t="tablesorter-sticky-",i=r.offset(),a=s.stickyHeaders_includeCaption?0:r.find("caption").outerHeight(true),l=n.scrollTop()+u-a,c=r.height()-(m.height()+(h.height()||0)),f=l>i.top&&l<i.top+c?"visible":"hidden";m.removeClass(t+"visible "+t+"hidden").addClass(t+f).css({left:o.offset().left-n.scrollLeft()-b,visibility:f});if(f!==y||e.type==="resize"){E();y=f}});if(s.stickyHeaders_addResizeEvent){t.addHeaderResizeEvent(i)}r.bind("filterEnd",function(){if(w){return}g.find(".tablesorter-filter-row").children().each(function(t){e(this).find(f).val(a.$filters.find(f).eq(t).val())})});v.find(f).bind("keyup search change",function(t){if(t.which<32&&t.which!==8||t.which>=37&&t.which<=40){return}w=true;var i=e(this),r=i.attr("data-column");a.$filters.find(f).eq(r).val(i.val()).trigger("search");setTimeout(function(){w=false},s.filter_searchDelay)});r.trigger("stickyHeadersInit")},remove:function(i,a,s){a.$table.removeClass("hasStickyHeaders").unbind("sortEnd.tsSticky pagerComplete.tsSticky").find("."+s.stickyHeaders).remove();if(s.$sticky&&s.$sticky.length){s.$sticky.remove()}if(!e(".hasStickyHeaders").length){e(window).unbind("scroll.tsSticky resize.tsSticky")}t.addHeaderResizeEvent(i,false)}});t.addWidget({id:"resizable",priority:40,options:{resizable:true,resizable_addLastColumn:false},format:function(i,a,s){if(a.$table.hasClass("hasResizable")){return}a.$table.addClass("hasResizable");var r,n,o,l,c={},h,f,d,u,p=a.$table,m=0,g=null,v=null,y=Math.abs(p.parent().width()-p.width())<20,b=function(){if(t.storage&&g){c[g.index()]=g.width();c[v.index()]=v.width();g.width(c[g.index()]);v.width(c[v.index()]);if(s.resizable!==false){t.storage(i,"tablesorter-resizable",c)}}m=0;g=v=null;e(window).trigger("resize")};c=t.storage&&s.resizable!==false?t.storage(i,"tablesorter-resizable"):{};if(c){for(l in c){if(!isNaN(l)&&l<a.$headers.length){a.$headers.eq(l).width(c[l])}}}r=p.children("thead:first").children("tr");r.children().each(function(){n=e(this);o=n.attr("data-column");l=t.getData(n,a.headers[o],"resizable")==="false";r.children().filter('[data-column="'+o+'"]').toggleClass("resizable-false",l)});r.each(function(){h=e(this).children(":not(.resizable-false)");if(!e(this).find(".tablesorter-wrapper").length){h.wrapInner('<div class="tablesorter-wrapper" style="position:relative;height:100%;width:100%"></div>')}if(!s.resizable_addLastColumn){h=h.slice(0,-1)}f=f?f.add(h):h});f.each(function(){r=e(this);l=parseInt(r.css("padding-right"),10)+10;n='<div class="tablesorter-resizer" style="cursor:w-resize;position:absolute;z-index:1;right:-'+l+'px;top:0;height:100%;width:20px;"></div>';r.find(".tablesorter-wrapper").append(n)}).bind("mousemove.tsresize",function(e){if(m===0||!g){return}d=e.pageX-m;u=g.width();g.width(u+d);if(g.width()!==u&&y){v.width(v.width()-d)}m=e.pageX}).bind("mouseup.tsresize",function(){b()}).find(".tablesorter-resizer,.tablesorter-resizer-grip").bind("mousedown",function(t){g=e(t.target).closest("th");n=a.$headers.filter('[data-column="'+g.attr("data-column")+'"]');if(n.length>1){g=g.add(n)}v=t.shiftKey?g.parent().find("th:not(.resizable-false)").filter(":last"):g.nextAll(":not(.resizable-false)").eq(0);m=t.pageX});p.find("thead:first").bind("mouseup.tsresize mouseleave.tsresize",function(){b()}).bind("contextmenu.tsresize",function(){t.resizableReset(i);var a=e.isEmptyObject?e.isEmptyObject(c):c==={};c={};return a})},remove:function(e,i,a){i.$table.removeClass("hasResizable").find("thead").unbind("mouseup.tsresize mouseleave.tsresize contextmenu.tsresize").find("tr").children().unbind("mousemove.tsresize mouseup.tsresize").find(".tablesorter-resizer,.tablesorter-resizer-grip").remove();t.resizableReset(e)}});t.resizableReset=function(e){e.config.$headers.filter(":not(.resizable-false)").css("width","");if(t.storage){t.storage(e,"tablesorter-resizable",{})}};t.addWidget({id:"saveSort",priority:20,options:{saveSort:true},init:function(e,t,i,a){t.format(e,i,a,true)},format:function(i,a,s,r){var n,o,l=a.$table,c=s.saveSort!==false,h={sortList:a.sortList};if(a.debug){o=new Date}if(l.hasClass("hasSaveSort")){if(c&&i.hasInitialized&&t.storage){t.storage(i,"tablesorter-savesort",h);if(a.debug){t.benchmark("saveSort widget: Saving last sort: "+a.sortList,o)}}}else{l.addClass("hasSaveSort");h="";if(t.storage){n=t.storage(i,"tablesorter-savesort");h=n&&n.hasOwnProperty("sortList")&&e.isArray(n.sortList)?n.sortList:"";if(a.debug){t.benchmark('saveSort: Last sort loaded: "'+h+'"',o)}l.bind("saveSortReset",function(e){e.stopPropagation();t.storage(i,"tablesorter-savesort","")})}if(r&&h&&h.length>0){a.sortList=h}else if(i.hasInitialized&&h&&h.length>0){l.trigger("sorton",[h])}}},remove:function(e){if(t.storage){t.storage(e,"tablesorter-savesort","")}}})}(jQuery);!function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.prototype.close=function(t){var i=e(this),a=i.attr("data-target"),s;if(!a){a=i.attr("href");a=a&&a.replace(/.*(?=#[^\s]*$)/,"")}s=e(a);t&&t.preventDefault();s.length||(s=i.hasClass("alert")?i:i.parent());s.trigger(t=e.Event("close"));if(t.isDefaultPrevented())return;s.removeClass("in");function r(){s.trigger("closed").remove()}e.support.transition&&s.hasClass("fade")?s.on(e.support.transition.end,r):r()};var a=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var a=e(this),s=a.data("alert");if(!s)a.data("alert",s=new i(this));if(typeof t=="string")s[t].call(a)})};e.fn.alert.Constructor=i;e.fn.alert.noConflict=function(){e.fn.alert=a;return this};e(document).on("click.alert.data-api",t,i.prototype.close)}(window.jQuery);!function(e){"use strict";var t=function(t,i){this.$element=e(t);this.options=e.extend({},e.fn.button.defaults,i)};t.prototype.setState=function(e){var t="disabled",i=this.$element,a=i.data(),s=i.is("input")?"val":"html";e=e+"Text";a.resetText||i.data("resetText",i[s]());i[s](a[e]||this.options[e]);setTimeout(function(){e=="loadingText"?i.addClass(t).attr(t,t):i.removeClass(t).removeAttr(t)},0)};t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active");this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=function(i){return this.each(function(){var a=e(this),s=a.data("button"),r=typeof i=="object"&&i;if(!s)a.data("button",s=new t(this,r));if(i=="toggle")s.toggle();else if(i)s.setState(i)})};e.fn.button.defaults={loadingText:"loading..."};e.fn.button.Constructor=t;e.fn.button.noConflict=function(){e.fn.button=i;return this};e(document).on("click.button.data-api","[data-toggle^=button]",function(t){var i=e(t.target);if(!i.hasClass("btn"))i=i.closest(".btn");i.button("toggle")})}(window.jQuery);!function(e){"use strict";var t=function(t,i){this.$element=e(t);this.options=e.extend({},e.fn.collapse.defaults,i);if(this.options.parent){this.$parent=e(this.options.parent)}this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,i,a,s;if(this.transitioning||this.$element.hasClass("in"))return;t=this.dimension();i=e.camelCase(["scroll",t].join("-"));a=this.$parent&&this.$parent.find("> .accordion-group > .in");if(a&&a.length){s=a.data("collapse");if(s&&s.transitioning)return;a.collapse("hide");s||a.data("collapse",null)}this.$element[t](0);this.transition("addClass",e.Event("show"),"shown");e.support.transition&&this.$element[t](this.$element[0][i])},hide:function(){var t;if(this.transitioning||!this.$element.hasClass("in"))return;t=this.dimension();this.reset(this.$element[t]());this.transition("removeClass",e.Event("hide"),"hidden");this.$element[t](0)},reset:function(e){var t=this.dimension();this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth;this.$element[e!==null?"addClass":"removeClass"]("collapse");return this},transition:function(t,i,a){var s=this,r=function(){if(i.type=="show")s.reset();s.transitioning=0;s.$element.trigger(a)};this.$element.trigger(i);if(i.isDefaultPrevented())return;this.transitioning=1;this.$element[t]("in");e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,r):r()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var i=e.fn.collapse;e.fn.collapse=function(i){return this.each(function(){var a=e(this),s=a.data("collapse"),r=e.extend({},e.fn.collapse.defaults,a.data(),typeof i=="object"&&i);if(!s)a.data("collapse",s=new t(this,r));if(typeof i=="string")s[i]()})};e.fn.collapse.defaults={toggle:true};e.fn.collapse.Constructor=t;e.fn.collapse.noConflict=function(){e.fn.collapse=i;return this};e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var i=e(this),a,s=i.attr("data-target")||t.preventDefault()||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),r=e(s).data("collapse")?"toggle":i.data();i[e(s).hasClass("in")?"addClass":"removeClass"]("collapsed");e(s).collapse(r)})}(window.jQuery);!function(e){"use strict";var t="[data-toggle=dropdown]",i=function(t){var i=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){i.parent().removeClass("open")})};i.prototype={constructor:i,toggle:function(t){var i=e(this),r,n;if(i.is(".disabled, :disabled"))return;r=s(i);n=r.hasClass("open");a();if(!n){r.toggleClass("open")}i.focus();return false},keydown:function(i){var a,r,n,o,l,c;if(!/(38|40|27)/.test(i.keyCode))return;a=e(this);i.preventDefault();i.stopPropagation();if(a.is(".disabled, :disabled"))return;o=s(a);l=o.hasClass("open");if(!l||l&&i.keyCode==27){if(i.which==27)o.find(t).focus();return a.click()}r=e("[role=menu] li:not(.divider):visible a",o);if(!r.length)return;c=r.index(r.filter(":focus"));if(i.keyCode==38&&c>0)c--;if(i.keyCode==40&&c<r.length-1)c++;if(!~c)c=0;r.eq(c).focus()}};function a(){e(t).each(function(){s(e(this)).removeClass("open")})}function s(t){var i=t.attr("data-target"),a;if(!i){i=t.attr("href");i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")}a=i&&e(i);if(!a||!a.length)a=t.parent();return a}var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var a=e(this),s=a.data("dropdown");if(!s)a.data("dropdown",s=new i(this));if(typeof t=="string")s[t].call(a)})};e.fn.dropdown.Constructor=i;e.fn.dropdown.noConflict=function(){e.fn.dropdown=r;return this};e(document).on("click.dropdown.data-api",a).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on(".dropdown-menu",function(e){e.stopPropagation()}).on("click.dropdown.data-api",t,i.prototype.toggle).on("keydown.dropdown.data-api",t+", [role=menu]",i.prototype.keydown)}(window.jQuery);!function(e){"use strict";var t=function(t,i){this.options=i;this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var t=this,i=e.Event("show");this.$element.trigger(i);if(this.isShown||i.isDefaultPrevented())return;this.isShown=true;this.escape();this.backdrop(function(){var i=e.support.transition&&t.$element.hasClass("fade");if(!t.$element.parent().length){t.$element.appendTo(document.body)}t.$element.show();if(i){t.$element[0].offsetWidth}t.$element.addClass("in").attr("aria-hidden",false);t.enforceFocus();i?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")})},hide:function(t){t&&t.preventDefault();var i=this;t=e.Event("hide");this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=false;this.escape();e(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){if(t.$element[0]!==e.target&&!t.$element.has(e.target).length){t.$element.focus()}})},escape:function(){var e=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(t){t.which==27&&e.hide()})}else if(!this.isShown){this.$element.off("keyup.dismiss.modal")}},hideWithTransition:function(){var t=this,i=setTimeout(function(){t.$element.off(e.support.transition.end);t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(i);t.hideModal()})},hideModal:function(){var e=this;this.$element.hide();this.backdrop(function(){e.removeBackdrop();e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(t){var i=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=e.support.transition&&a;this.$backdrop=e('<div class="modal-backdrop '+a+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this));if(s)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!t)return;s?this.$backdrop.one(e.support.transition.end,t):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t):t()}else if(t){t()}}};var i=e.fn.modal;e.fn.modal=function(i){return this.each(function(){var a=e(this),s=a.data("modal"),r=e.extend({},e.fn.modal.defaults,a.data(),typeof i=="object"&&i);if(!s)a.data("modal",s=new t(this,r));if(typeof i=="string")s[i]();else if(r.show)s.show()})};e.fn.modal.defaults={backdrop:true,keyboard:true,show:true};e.fn.modal.Constructor=t;e.fn.modal.noConflict=function(){e.fn.modal=i;return this};e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),a=i.attr("href"),s=e(i.attr("data-target")||a&&a.replace(/.*(?=#[^\s]+$)/,"")),r=s.data("modal")?"toggle":e.extend({remote:!/#/.test(a)&&a},s.data(),i.data());t.preventDefault();s.modal(r).one("hide",function(){i.focus()})})}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,i,a){var s,r,n,o,l;this.type=t;this.$element=e(i);this.options=this.getOptions(a);this.enabled=true;n=this.options.trigger.split(" ");for(l=n.length;l--;){o=n[l];if(o=="click"){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else if(o!="manual"){s=o=="hover"?"mouseenter":"focus";r=o=="hover"?"mouseleave":"blur";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this));this.$element.on(r+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){t=e.extend({},e.fn[this.type].defaults,this.$element.data(),t);if(t.delay&&typeof t.delay=="number"){t.delay={show:t.delay,hide:t.delay}}return t},enter:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);if(!i.options.delay||!i.options.delay.show)return i.show();clearTimeout(this.timeout);i.hoverState="in";this.timeout=setTimeout(function(){if(i.hoverState=="in")i.show()},i.options.delay.show)},leave:function(t){var i=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout)clearTimeout(this.timeout);if(!i.options.delay||!i.options.delay.hide)return i.hide();i.hoverState="out";this.timeout=setTimeout(function(){if(i.hoverState=="out")i.hide()},i.options.delay.hide)},show:function(){var t,i,a,s,r,n,o=e.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(o);if(o.isDefaultPrevented())return;t=this.tip();this.setContent();if(this.options.animation){t.addClass("fade")}r=typeof this.options.placement=="function"?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement;t.detach().css({top:0,left:0,display:"block"});this.options.container?t.appendTo(this.options.container):t.insertAfter(this.$element);i=this.getPosition();a=t[0].offsetWidth;s=t[0].offsetHeight;switch(r){case"bottom":n={top:i.top+i.height,left:i.left+i.width/2-a/2};break;case"top":n={top:i.top-s,left:i.left+i.width/2-a/2};break;case"left":n={top:i.top+i.height/2-s/2,left:i.left-a};break;case"right":n={top:i.top+i.height/2-s/2,left:i.left+i.width};break}this.applyPlacement(n,r);this.$element.trigger("shown")}},applyPlacement:function(e,t){var i=this.tip(),a=i[0].offsetWidth,s=i[0].offsetHeight,r,n,o,l;i.offset(e).addClass(t).addClass("in");r=i[0].offsetWidth;n=i[0].offsetHeight;if(t=="top"&&n!=s){e.top=e.top+s-n;l=true}if(t=="bottom"||t=="top"){o=0;if(e.left<0){o=e.left*-2;e.left=0;i.offset(e);r=i[0].offsetWidth;n=i[0].offsetHeight}this.replaceArrow(o-a+r,r,"left")}else{this.replaceArrow(n-s,n,"top")}if(l)i.offset(e)},replaceArrow:function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t);e.removeClass("fade in top bottom left right")},hide:function(){var t=this,i=this.tip(),a=e.Event("hide");this.$element.trigger(a);if(a.isDefaultPrevented())return;i.removeClass("in");function s(){var t=setTimeout(function(){i.off(e.support.transition.end).detach()},500);i.one(e.support.transition.end,function(){clearTimeout(t);i.detach()})}e.support.transition&&this.$tip.hasClass("fade")?s():i.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof e.attr("data-original-title")!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},getTitle:function(){var e,t=this.$element,i=this.options;e=t.attr("data-original-title")||(typeof i.title=="function"?i.title.call(t[0]):i.title);return e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var i=t?e(t.currentTarget)[this.type](this._options).data(this.type):this;i.tip().hasClass("in")?i.hide():i.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var a=e(this),s=a.data("tooltip"),r=typeof i=="object"&&i;if(!s)a.data("tooltip",s=new t(this,r));if(typeof i=="string")s[i]()})};e.fn.tooltip.Constructor=t;e.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};e.fn.tooltip.noConflict=function(){e.fn.tooltip=i;return this}}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t);e.find(".popover-content")[this.options.html?"html":"text"](i);e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,i=this.options;e=(typeof i.content=="function"?i.content.call(t[0]):i.content)||t.attr("data-content");return e},tip:function(){if(!this.$tip){this.$tip=e(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var a=e(this),s=a.data("popover"),r=typeof i=="object"&&i;
if(!s)a.data("popover",s=new t(this,r));if(typeof i=="string")s[i]()})};e.fn.popover.Constructor=t;e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});e.fn.popover.noConflict=function(){e.fn.popover=i;return this}}(window.jQuery);!function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype={constructor:t,show:function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),a=t.attr("data-target"),s,r,n;if(!a){a=t.attr("href");a=a&&a.replace(/.*(?=#[^\s]*$)/,"")}if(t.parent("li").hasClass("active"))return;s=i.find(".active:last a")[0];n=e.Event("show",{relatedTarget:s});t.trigger(n);if(n.isDefaultPrevented())return;r=e(a);this.activate(t.parent("li"),i);this.activate(r,r.parent(),function(){t.trigger({type:"shown",relatedTarget:s})})},activate:function(t,i,a){var s=i.find("> .active"),r=a&&e.support.transition&&s.hasClass("fade");function n(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active");t.addClass("active");if(r){t[0].offsetWidth;t.addClass("in")}else{t.removeClass("fade")}if(t.parent(".dropdown-menu")){t.closest("li.dropdown").addClass("active")}a&&a()}r?s.one(e.support.transition.end,n):n();s.removeClass("in")}};var i=e.fn.tab;e.fn.tab=function(i){return this.each(function(){var a=e(this),s=a.data("tab");if(!s)a.data("tab",s=new t(this));if(typeof i=="string")s[i]()})};e.fn.tab.Constructor=t;e.fn.tab.noConflict=function(){e.fn.tab=i;return this};e(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault();e(this).tab("show")})}(window.jQuery);!function(e){"use strict";function t(t,i){var a=e.proxy(this.process,this),s=e(t).is("body")?e(window):e(t),r;this.options=e.extend({},e.fn.scrollspy.defaults,i);this.$scrollElement=s.on("scroll.scroll-spy.data-api",a);this.selector=(this.options.target||(r=e(t).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=e("body");this.refresh();this.process()}t.prototype={constructor:t,refresh:function(){var t=this,i;this.offsets=e([]);this.targets=e([]);i=this.$body.find(this.selector).map(function(){var i=e(this),a=i.data("target")||i.attr("href"),s=/^#\w/.test(a)&&e(a);return s&&s.length&&[[s.position().top+(!e.isWindow(t.$scrollElement.get(0))&&t.$scrollElement.scrollTop()),a]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=t-this.$scrollElement.height(),a=this.offsets,s=this.targets,r=this.activeTarget,n;if(e>=i){return r!=(n=s.last()[0])&&this.activate(n)}for(n=a.length;n--;){r!=s[n]&&e>=a[n]&&(!a[n+1]||e<=a[n+1])&&this.activate(s[n])}},activate:function(t){var i,a;this.activeTarget=t;e(this.selector).parent(".active").removeClass("active");a=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]';i=e(a).parent("li").addClass("active");if(i.parent(".dropdown-menu").length){i=i.closest("li.dropdown").addClass("active")}i.trigger("activate")}};var i=e.fn.scrollspy;e.fn.scrollspy=function(i){return this.each(function(){var a=e(this),s=a.data("scrollspy"),r=typeof i=="object"&&i;if(!s)a.data("scrollspy",s=new t(this,r));if(typeof i=="string")s[i]()})};e.fn.scrollspy.Constructor=t;e.fn.scrollspy.defaults={offset:10};e.fn.scrollspy.noConflict=function(){e.fn.scrollspy=i;return this};e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery);!function(e){"use strict";var t=function(t,i){this.options=e.extend({},e.fn.affix.defaults,i);this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this));this.$element=e(t);this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),i=this.$window.scrollTop(),a=this.$element.offset(),s=this.options.offset,r=s.bottom,n=s.top,o="affix affix-top affix-bottom",l;if(typeof s!="object")r=n=s;if(typeof n=="function")n=s.top();if(typeof r=="function")r=s.bottom();l=this.unpin!=null&&i+this.unpin<=a.top?false:r!=null&&a.top+this.$element.height()>=t-r?"bottom":n!=null&&i<=n?"top":false;if(this.affixed===l)return;this.affixed=l;this.unpin=l=="bottom"?a.top-i:null;this.$element.removeClass(o).addClass("affix"+(l?"-"+l:""))};var i=e.fn.affix;e.fn.affix=function(i){return this.each(function(){var a=e(this),s=a.data("affix"),r=typeof i=="object"&&i;if(!s)a.data("affix",s=new t(this,r));if(typeof i=="string")s[i]()})};e.fn.affix.Constructor=t;e.fn.affix.defaults={offset:0};e.fn.affix.noConflict=function(){e.fn.affix=i;return this};e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),i=t.data();i.offset=i.offset||{};i.offsetBottom&&(i.offset.bottom=i.offsetBottom);i.offsetTop&&(i.offset.top=i.offsetTop);t.affix(i)})})}(window.jQuery);!function(e){var t=function(t,a){this.element=e(t);this.format=i.parseFormat(a.format||this.element.data("date-format")||"mm/dd/yyyy");this.picker=e(i.template).appendTo("body").on({click:e.proxy(this.click,this)});this.isInput=this.element.is("input");this.component=this.element.is(".date")?this.element.find(".add-on"):false;if(this.isInput){this.element.on({focus:e.proxy(this.show,this),keyup:e.proxy(this.update,this)})}else{if(this.component){this.component.on("click",e.proxy(this.show,this))}else{this.element.on("click",e.proxy(this.show,this))}}this.minViewMode=a.minViewMode||this.element.data("date-minviewmode")||0;if(typeof this.minViewMode==="string"){switch(this.minViewMode){case"months":this.minViewMode=1;break;case"years":this.minViewMode=2;break;default:this.minViewMode=0;break}}this.viewMode=a.viewMode||this.element.data("date-viewmode")||0;if(typeof this.viewMode==="string"){switch(this.viewMode){case"months":this.viewMode=1;break;case"years":this.viewMode=2;break;default:this.viewMode=0;break}}this.startViewMode=this.viewMode;this.weekStart=a.weekStart||this.element.data("date-weekstart")||0;this.weekEnd=this.weekStart===0?6:this.weekStart-1;this.onRender=a.onRender;this.fillDow();this.fillMonths();this.update();this.showMode()};t.prototype={constructor:t,show:function(t){this.picker.show();this.height=this.component?this.component.outerHeight():this.element.outerHeight();this.place();e(window).on("resize",e.proxy(this.place,this));if(t){t.stopPropagation();t.preventDefault()}if(!this.isInput){}var i=this;e(document).on("mousedown",function(t){if(e(t.target).closest(".datepicker").length==0){i.hide()}});this.element.trigger({type:"show",date:this.date})},hide:function(){this.picker.hide();e(window).off("resize",this.place);this.viewMode=this.startViewMode;this.showMode();if(!this.isInput){e(document).off("mousedown",this.hide)}this.element.trigger({type:"hide",date:this.date})},set:function(){var e=i.formatDate(this.date,this.format);if(!this.isInput){if(this.component){this.element.find("input").prop("value",e)}this.element.data("date",e)}else{this.element.prop("value",e)}},setValue:function(e){if(typeof e==="string"){this.date=i.parseDate(e,this.format)}else{this.date=new Date(e)}this.set();this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},place:function(){var e=this.component?this.component.offset():this.element.offset();this.picker.css({top:e.top+this.height,left:e.left})},update:function(e){this.date=i.parseDate(typeof e==="string"?e:this.isInput?this.element.prop("value"):this.element.data("date"),this.format);this.viewDate=new Date(this.date.getFullYear(),this.date.getMonth(),1,0,0,0,0);this.fill()},fillDow:function(){var e=this.weekStart;var t="<tr>";while(e<this.weekStart+7){t+='<th class="dow">'+i.dates.daysMin[e++%7]+"</th>"}t+="</tr>";this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){var e="";var t=0;while(t<12){e+='<span class="month">'+i.dates.monthsShort[t++]+"</span>"}this.picker.find(".datepicker-months td").append(e)},fill:function(){var e=new Date(this.viewDate),t=e.getFullYear(),a=e.getMonth(),s=this.date.valueOf();this.picker.find(".datepicker-days th:eq(1)").text(i.dates.months[a]+" "+t);var r=new Date(t,a-1,28,0,0,0,0),n=i.getDaysInMonth(r.getFullYear(),r.getMonth());r.setDate(n);r.setDate(n-(r.getDay()-this.weekStart+7)%7);var o=new Date(r);o.setDate(o.getDate()+42);o=o.valueOf();var l=[];var c,h,f;while(r.valueOf()<o){if(r.getDay()===this.weekStart){l.push("<tr>")}c=this.onRender(r);h=r.getFullYear();f=r.getMonth();if(f<a&&h===t||h<t){c+=" old"}else if(f>a&&h===t||h>t){c+=" new"}if(r.valueOf()===s){c+=" active"}l.push('<td class="day '+c+'">'+r.getDate()+"</td>");if(r.getDay()===this.weekEnd){l.push("</tr>")}r.setDate(r.getDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(l.join(""));var d=this.date.getFullYear();var u=this.picker.find(".datepicker-months").find("th:eq(1)").text(t).end().find("span").removeClass("active");if(d===t){u.eq(this.date.getMonth()).addClass("active")}l="";t=parseInt(t/10,10)*10;var p=this.picker.find(".datepicker-years").find("th:eq(1)").text(t+"-"+(t+9)).end().find("td");t-=1;for(var m=-1;m<11;m++){l+='<span class="year'+(m===-1||m===10?" old":"")+(d===t?" active":"")+'">'+t+"</span>";t+=1}p.html(l)},click:function(t){t.stopPropagation();t.preventDefault();var a=e(t.target).closest("span, td, th");if(a.length===1){switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"switch":this.showMode(1);break;case"prev":case"next":this.viewDate["set"+i.modes[this.viewMode].navFnc].call(this.viewDate,this.viewDate["get"+i.modes[this.viewMode].navFnc].call(this.viewDate)+i.modes[this.viewMode].navStep*(a[0].className==="prev"?-1:1));this.fill();this.set();break}break;case"span":if(a.is(".month")){var s=a.parent().find("span").index(a);this.viewDate.setMonth(s)}else{var r=parseInt(a.text(),10)||0;this.viewDate.setFullYear(r)}if(this.viewMode!==0){this.date=new Date(this.viewDate);this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})}this.showMode(-1);this.fill();this.set();break;case"td":if(a.is(".day")&&!a.is(".disabled")){var n=parseInt(a.text(),10)||1;var s=this.viewDate.getMonth();if(a.is(".old")){s-=1}else if(a.is(".new")){s+=1}var r=this.viewDate.getFullYear();this.date=new Date(r,s,n,0,0,0,0);this.viewDate=new Date(r,s,Math.min(28,n),0,0,0,0);this.fill();this.set();this.element.trigger({type:"changeDate",date:this.date,viewMode:i.modes[this.viewMode].clsName})}break}}},mousedown:function(e){e.stopPropagation();e.preventDefault()},showMode:function(e){if(e){this.viewMode=Math.max(this.minViewMode,Math.min(2,this.viewMode+e))}this.picker.find(">div").hide().filter(".datepicker-"+i.modes[this.viewMode].clsName).show()}};e.fn.datepicker=function(i,a){return this.each(function(){var s=e(this),r=s.data("datepicker"),n=typeof i==="object"&&i;if(!r){s.data("datepicker",r=new t(this,e.extend({},e.fn.datepicker.defaults,n)))}if(typeof i==="string")r[i](a)})};e.fn.datepicker.defaults={onRender:function(e){return""}};e.fn.datepicker.Constructor=t;var i={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],dates:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,i.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},parseFormat:function(e){var t=e.match(/[.\/\-\s].*?/),i=e.split(/\W+/);if(!t||!i||i.length===0){throw new Error("Invalid date format.")}return{separator:t,parts:i}},parseDate:function(e,t){var i=e.split(t.separator),e=new Date,a;e.setHours(0);e.setMinutes(0);e.setSeconds(0);e.setMilliseconds(0);if(i.length===t.parts.length){var s=e.getFullYear(),r=e.getDate(),n=e.getMonth();for(var o=0,l=t.parts.length;o<l;o++){a=parseInt(i[o],10)||1;switch(t.parts[o]){case"dd":case"d":r=a;e.setDate(a);break;case"mm":case"m":n=a-1;e.setMonth(a-1);break;case"yy":s=2e3+a;e.setFullYear(2e3+a);break;case"yyyy":s=a;e.setFullYear(a);break}}e=new Date(s,n,r,0,0,0)}return e},formatDate:function(e,t){var i={d:e.getDate(),m:e.getMonth()+1,yy:e.getFullYear().toString().substring(2),yyyy:e.getFullYear()};i.dd=(i.d<10?"0":"")+i.d;i.mm=(i.m<10?"0":"")+i.m;var e=[];for(var a=0,s=t.parts.length;a<s;a++){e.push(i[t.parts[a]])}return e.join(t.separator)},headTemplate:"<thead>"+"<tr>"+'<th class="prev">&lsaquo;</th>'+'<th colspan="5" class="switch"></th>'+'<th class="next">&rsaquo;</th>'+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>'};i.template='<div class="datepicker dropdown-menu">'+'<div class="datepicker-days">'+'<table class=" table-condensed">'+i.headTemplate+"<tbody></tbody>"+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+i.headTemplate+i.contTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+i.headTemplate+i.contTemplate+"</table>"+"</div>"+"</div>"}(window.jQuery);!function(e,t,i){var a=0,s=["ms","moz","webkit","o"],r;for(r=0;r<s.length&&!e[t];++r){e[t]=e[s[r]+"RequestAnimationFrame"];e[i]=e[s[r]+"CancelAnimationFrame"]||e[s[r]+"CancelRequestAnimationFrame"]}if(!e[t]){e[t]=function(t){var i=(new Date).getTime(),s=Math.max(0,16-(i-a)),r=e.setTimeout(function(){t(i+s)},s);a=i+s;return r}}if(!e[i]){e[i]=function(t){e.clearTimeout(t)}}}(this,"requestAnimationFrame","cancelAnimationFrame");var Handlebars={};!function(e,t){e.VERSION="1.0.0";e.COMPILER_REVISION=4;e.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};e.helpers={};e.partials={};var i=Object.prototype.toString,a="[object Function]",s="[object Object]";e.registerHelper=function(t,a,r){if(i.call(t)===s){if(r||a){throw new e.Exception("Arg not supported with multiple helpers")}e.Utils.extend(this.helpers,t)}else{if(r){a.not=r}this.helpers[t]=a}};e.registerPartial=function(t,a){if(i.call(t)===s){e.Utils.extend(this.partials,t)}else{this.partials[t]=a}};e.registerHelper("helperMissing",function(e){if(arguments.length===2){return t}else{throw new Error("Missing helper: '"+e+"'")}});e.registerHelper("blockHelperMissing",function(t,s){var r=s.inverse||function(){},n=s.fn;var o=i.call(t);if(o===a){t=t.call(this)}if(t===true){return n(this)}else if(t===false||t==null){return r(this)}else if(o==="[object Array]"){if(t.length>0){return e.helpers.each(t,s)}else{return r(this)}}else{return n(t)}});e.K=function(){};e.createFrame=Object.create||function(t){e.K.prototype=t;var i=new e.K;e.K.prototype=null;return i};e.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(t,i){if(e.logger.level<=t){var a=e.logger.methodMap[t];if(typeof console!=="undefined"&&console[a]){console[a].call(console,i)}}}};e.log=function(t,i){e.logger.log(t,i)};e.registerHelper("each",function(t,s){var r=s.fn,n=s.inverse;var o=0,l="",c;var h=i.call(t);if(h===a){t=t.call(this)}if(s.data){c=e.createFrame(s.data)}if(t&&typeof t==="object"){if(t instanceof Array){for(var f=t.length;o<f;o++){if(c){c.index=o}l=l+r(t[o],{data:c})}}else{for(var d in t){if(t.hasOwnProperty(d)){if(c){c.key=d}l=l+r(t[d],{data:c});o++}}}}if(o===0){l=n(this)}return l});e.registerHelper("if",function(t,s){var r=i.call(t);if(r===a){t=t.call(this)}if(!t||e.Utils.isEmpty(t)){return s.inverse(this)}else{return s.fn(this)}});e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{fn:i.inverse,inverse:i.fn})});e.registerHelper("with",function(t,s){var r=i.call(t);if(r===a){t=t.call(this)}if(!e.Utils.isEmpty(t))return s.fn(t)});e.registerHelper("log",function(t,i){var a=i.data&&i.data.level!=null?parseInt(i.data.level,10):1;e.log(a,t)});var r=["description","fileName","lineNumber","message","name","number","stack"];e.Exception=function(e){var t=Error.prototype.constructor.apply(this,arguments);for(var i=0;i<r.length;i++){this[r[i]]=t[r[i]]}};e.Exception.prototype=new Error;e.SafeString=function(e){this.string=e};e.SafeString.prototype.toString=function(){return this.string.toString()};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var o=/[&<>"'`]/g;var l=/[&<>"'`]/;var c=function(e){return n[e]||"&amp;"};e.Utils={extend:function(e,t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}},escapeExpression:function(t){if(t instanceof e.SafeString){return t.toString()}else if(t==null||t===false){return""}t=t.toString();if(!l.test(t)){return t}return t.replace(o,c)},isEmpty:function(e){if(!e&&e!==0){return true}else if(i.call(e)==="[object Array]"&&e.length===0){return true}else{return false}}};e.VM={template:function(t){var i={escapeExpression:e.Utils.escapeExpression,invokePartial:e.VM.invokePartial,programs:[],program:function(t,i,a){var s=this.programs[t];if(a){s=e.VM.program(t,i,a)}else if(!s){s=this.programs[t]=e.VM.program(t,i)}return s},merge:function(t,i){var a=t||i;if(t&&i){a={};e.Utils.extend(a,i);e.Utils.extend(a,t)}return a},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(a,s){s=s||{};var r=t.call(i,e,a,s.helpers,s.partials,s.data);var n=i.compilerInfo||[],o=n[0]||1,l=e.COMPILER_REVISION;if(o!==l){if(o<l){var c=e.REVISION_CHANGES[l],h=e.REVISION_CHANGES[o];throw"Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+c+") or downgrade your runtime to an older version ("+h+")."}else{throw"Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+n[1]+")."}}return r}},programWithDepth:function(e,t,i){var a=Array.prototype.slice.call(arguments,3);var s=function(e,s){s=s||{};return t.apply(this,[e,s.data||i].concat(a))};s.program=e;s.depth=a.length;return s},program:function(e,t,i){var a=function(e,a){a=a||{};return t(e,a.data||i)};a.program=e;a.depth=0;return a},noop:function(){return""},invokePartial:function(i,a,s,r,n,o){var l={helpers:r,partials:n,data:o};if(i===t){throw new e.Exception("The partial "+a+" could not be found")}else if(i instanceof Function){return i(s,l)}else if(!e.compile){throw new e.Exception("The partial "+a+" could not be compiled when running in runtime-only mode")}else{n[a]=e.compile(i,{data:o!==t});return n[a](s,l)}}};e.template=e.VM.template}(Handlebars);!function(){var e=Handlebars.template,t=Handlebars.templates=Handlebars.templates||{};t["home_character"]=e(function(e,t,i,a,s){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);s=s||{};var r="",n,o,l,c=i.helperMissing,h=this.escapeExpression,f=this,d="function";function u(e,t){var a="",s,r,n;a+="\n    ";s=i["if"].call(e,(s=e&&e.profile,s==null||s===false?s:s.HOME_SHOW_SEPARATORS),{hash:{},inverse:f.noop,fn:f.program(2,p,t),data:t});if(s||s===0){a+=s}a+='\n    <div class="sensitive character-location';s=i.unless.call(e,(s=e&&e.profile,s==null||s===false?s:s.HOME_SHOW_SEPARATORS),{hash:{},inverse:f.noop,fn:f.program(4,m,t),data:t});if(s||s===0){a+=s}a+='">\n      <span class="location-hover" rel="tooltip" title="'+h((r=i.systems_details||e&&e.systems_details,n={hash:{},data:t},r?r.call(e,(s=(s=e&&e.character,s==null||s===false?s:s.details),s==null||s===false?s:s.last_known_location),n):c.call(e,"systems_details",(s=(s=e&&e.character,s==null||s===false?s:s.details),s==null||s===false?s:s.last_known_location),n)))+'">'+h((s=(s=(s=e&&e.character,s==null||s===false?s:s.details),s==null||s===false?s:s.last_known_location),typeof s===d?s.apply(e):s))+"</span>\n      ";s=i["if"].call(e,(s=(s=e&&e.character,s==null||s===false?s:s.details),s==null||s===false?s:s.ship_item_id),{hash:{},inverse:f.noop,fn:f.program(6,g,t),data:t});if(s||s===0){a+=s}a+="\n    </div>\n    ";return a}function p(e,t){return"<hr>"}function m(e,t){return" margin-half-top"}function g(e,t){var a="",s,r,n;a+="\n      -- "+h((r=i.lookup||e&&e.lookup,n={hash:{},data:t},r?r.call(e,e&&e.ships,(s=(s=e&&e.character,s==null||s===false?s:s.details),s==null||s===false?s:s.ship_item_id),n):c.call(e,"lookup",e&&e.ships,(s=(s=e&&e.character,s==null||s===false?s:s.details),s==null||s===false?s:s.ship_item_id),n)))+"\n      ";return a}function v(e,t){var a="",s,r,n;a+="\n    ";s=i["if"].call(e,(s=e&&e.profile,s==null||s===false?s:s.HOME_SHOW_SEPARATORS),{hash:{},inverse:f.noop,fn:f.program(2,p,t),data:t});if(s||s===0){a+=s}a+="\n    <div";s=i.unless.call(e,(s=e&&e.profile,s==null||s===false?s:s.HOME_SHOW_SEPARATORS),{hash:{},inverse:f.noop,fn:f.program(9,y,t),data:t});if(s||s===0){a+=s}a+='>\n      <span class="skill-hover" rel="popover" title="'+h((s=(s=(s=(s=(s=e&&e.character,s==null||s===false?s:s.skill_queue),s==null||s===false?s:s[0]),s==null||s===false?s:s.skill),s==null||s===false?s:s.name),typeof s===d?s.apply(e):s))+'" data-content="';s=(s=(s=(s=(s=(s=e&&e.character,s==null||s===false?s:s.skill_queue),s==null||s===false?s:s[0]),s==null||s===false?s:s.skill),s==null||s===false?s:s.html),typeof s===d?s.apply(e):s);if(s||s===0){a+=s}a+='">'+h((s=(s=(s=(s=(s=e&&e.character,s==null||s===false?s:s.skill_queue),s==null||s===false?s:s[0]),s==null||s===false?s:s.skill),s==null||s===false?s:s.name),typeof s===d?s.apply(e):s))+" ";s=i["if"].call(e,(s=(s=(s=e&&e.character,s==null||s===false?s:s.skill_queue),s==null||s===false?s:s[0]),s==null||s===false?s:s.to_level),{hash:{},inverse:f.noop,fn:f.program(11,b,t),data:t});if(s||s===0){a+=s}a+='</span>\n      <span class="small">(Rank '+h((s=(s=(s=(s=(s=e&&e.character,s==null||s===false?s:s.skill_queue),s==null||s===false?s:s[0]),s==null||s===false?s:s.skill),s==null||s===false?s:s.rank),typeof s===d?s.apply(e):s))+')</span>\n      <br>\n      <em class="small skillduration">'+h((r=i.shortduration||e&&e.shortduration,n={hash:{},data:t},r?r.call(e,(s=(s=(s=e&&e.character,s==null||s===false?s:s.skill_queue),s==null||s===false?s:s[0]),s==null||s===false?s:s.duration),n):c.call(e,"shortduration",(s=(s=(s=e&&e.character,s==null||s===false?s:s.skill_queue),s==null||s===false?s:s[0]),s==null||s===false?s:s.duration),n)))+" @ "+h((r=i.comma||e&&e.comma,n={hash:{},data:t},r?r.call(e,(s=(s=(s=e&&e.character,s==null||s===false?s:s.skill_queue),s==null||s===false?s:s[0]),s==null||s===false?s:s.sp_per_hour),n):c.call(e,"comma",(s=(s=(s=e&&e.character,s==null||s===false?s:s.skill_queue),s==null||s===false?s:s[0]),s==null||s===false?s:s.sp_per_hour),n)))+' SP/hr</em>\n      <em class="small pull-right queueduration">Queue: '+h((r=i.shortduration||e&&e.shortduration,n={hash:{},data:t},r?r.call(e,(s=e&&e.character,s==null||s===false?s:s.skill_queue_duration),n):c.call(e,"shortduration",(s=e&&e.character,s==null||s===false?s:s.skill_queue_duration),n)))+'</em>\n      <div class="progress';s=i["if"].call(e,(s=e&&e.character,s==null||s===false?s:s.skill_queue_low),{hash:{},inverse:f.noop,fn:f.program(13,w,t),data:t});if(s||s===0){a+=s}a+='">\n        <div class="bar" style="width: '+h((s=(s=(s=(s=e&&e.character,s==null||s===false?s:s.skill_queue),s==null||s===false?s:s[0]),s==null||s===false?s:s.complete_percent),typeof s===d?s.apply(e):s))+'%">'+h((s=(s=(s=(s=e&&e.character,s==null||s===false?s:s.skill_queue),s==null||s===false?s:s[0]),s==null||s===false?s:s.complete_percent),typeof s===d?s.apply(e):s))+"%</div>\n      </div>\n    </div>\n    ";return a}function y(e,t){return' class="margin-half-top"'}function b(e,t){var a,s,r;return h((s=i.roman||e&&e.roman,r={hash:{},data:t},s?s.call(e,(a=(a=(a=e&&e.character,a==null||a===false?a:a.skill_queue),a==null||a===false?a:a[0]),a==null||a===false?a:a.to_level),r):c.call(e,"roman",(a=(a=(a=e&&e.character,a==null||a===false?a:a.skill_queue),a==null||a===false?a:a[0]),a==null||a===false?a:a.to_level),r)))}function w(e,t){return" progress-danger"}function E(e,t){return'<hr class="home-notifications hide">'}r+='  <div class="well-small well home-character">\n    <div>\n      <span class="large">\n        <a href="character/'+h((n=(n=t&&t.character,n==null||n===false?n:n.name),typeof n===d?n.apply(t):n))+'" class="sensitive character-name">'+h((n=(n=t&&t.character,n==null||n===false?n:n.name),typeof n===d?n.apply(t):n))+'</a>\n      </span>\n      <span class="small pull-right sensitive apikey-name">['+h((n=(n=(n=t&&t.character,n==null||n===false?n:n.apikey),n==null||n===false?n:n.name),typeof n===d?n.apply(t):n))+"]</span>\n    </div>\n\n    <div>\n      <span>"+h((o=i.comma||t&&t.comma,l={hash:{},data:s},o?o.call(t,(n=(n=t&&t.character,n==null||n===false?n:n.details),n==null||n===false?n:n.wallet_balance),l):c.call(t,"comma",(n=(n=t&&t.character,n==null||n===false?n:n.details),n==null||n===false?n:n.wallet_balance),l)))+' ISK</span>\n      <span class="small pull-right total-sp">'+h((o=i.comma||t&&t.comma,l={hash:{},data:s},o?o.call(t,(n=(n=t&&t.character,n==null||n===false?n:n.details),n==null||n===false?n:n.total_sp),l):c.call(t,"comma",(n=(n=t&&t.character,n==null||n===false?n:n.details),n==null||n===false?n:n.total_sp),l)))+" SP</span>\n    </div>\n\n    ";n=i["if"].call(t,(n=t&&t.profile,n==null||n===false?n:n.HOME_SHOW_LOCATIONS),{hash:{},inverse:f.noop,fn:f.program(1,u,s),data:s});if(n||n===0){r+=n}r+="\n\n    ";n=i["if"].call(t,(n=t&&t.character,n==null||n===false?n:n.skill_queue),{hash:{},inverse:f.noop,fn:f.program(8,v,s),data:s});if(n||n===0){r+=n}r+="\n    ";n=i["if"].call(t,(n=t&&t.profile,n==null||n===false?n:n.HOME_SHOW_SEPARATORS),{hash:{},inverse:f.noop,fn:f.program(15,E,s),data:s});if(n||n===0){r+=n}r+='\n    <ul class="home-notifications">\n        <li class="no-game-time hide"><i class="icon-time" rel="tooltip" title="Game time has expired!"></i><span>Expired</span></li>\n        <li class="low-game-time hide"><i class="icon-time" rel="tooltip" title="Remaining game time is low!"></i><span></span></li>\n        <li class="key-expiring hide"><i class="icon-key" rel="tooltip" title="API key is close to expiring!"></i></li>\n        <li class="empty-skill-queue hide"><i class="icon-list-ol" rel="tooltip" title="Skill queue is empty!"></i><span>Empty!</span></li>\n        <li class="low-skill-queue hide"><i class="icon-list-ol" rel="tooltip" title="Skill queue is not full!"></i><span></span></li>\n        <li class="implants hide"><i class="icon-lightbulb" rel="tooltip" title="Missing stat implants for currently training skill!"></i><span></span></li>\n        <li class="clone hide"><i class="icon-user-md" rel="tooltip" title="Insufficient clone!"></i><span></span></li>\n    </ul>\n  </div>\n';return r});t["mail_list"]=e(function(e,t,i,a,s){this.compilerInfo=[4,">= 1.0.0"];i=this.merge(i,e.helpers);s=s||{};var r="",n,o,l="function",c=this.escapeExpression;r+="                  <tr";if(o=i.rowClass){n=o.call(t,{hash:{},data:s})}else{o=t&&t.rowClass;n=typeof o===l?o.call(t,{hash:{},data:s}):o}r+=c(n)+' data-message-id="';if(o=i.message_id){n=o.call(t,{hash:{},data:s})}else{o=t&&t.message_id;n=typeof o===l?o.call(t,{hash:{},data:s}):o}r+=c(n)+'">\n                    <td class="mail-checkbox"><input type="checkbox" name="message_';if(o=i.message_id){n=o.call(t,{hash:{},data:s})}else{o=t&&t.message_id;n=typeof o===l?o.call(t,{hash:{},data:s}):o}r+=c(n)+'"></td>\n                    <td class="mail-from">';if(o=i.senderText){n=o.call(t,{hash:{},data:s})}else{o=t&&t.senderText;n=typeof o===l?o.call(t,{hash:{},data:s}):o}r+=c(n)+'</td>\n                    <td class="mail-to">';if(o=i.toText){n=o.call(t,{hash:{},data:s})}else{o=t&&t.toText;n=typeof o===l?o.call(t,{hash:{},data:s}):o}r+=c(n)+'</td>\n                    <td><a class="mail-link" href="#';if(o=i.message_id){n=o.call(t,{hash:{},data:s})}else{o=t&&t.message_id;n=typeof o===l?o.call(t,{hash:{},data:s}):o}r+=c(n)+'">';if(o=i.subjectText){n=o.call(t,{hash:{},data:s})}else{o=t&&t.subjectText;n=typeof o===l?o.call(t,{hash:{},data:s}):o}r+=c(n)+'</a></td>\n                    <td class="mail-date">';if(o=i.sent_date){n=o.call(t,{hash:{},data:s})}else{o=t&&t.sent_date;n=typeof o===l?o.call(t,{hash:{},data:s}):o}r+=c(n)+"</td>\n                  </tr>\n";return r})}();jQuery.ajaxSettings.traditional=true;var EVEthing={util:{sorted_keys:function(e){var t=[];for(var i in e)t.push(i);return t.sort()},sorted_keys_by_value:function(e){var t=[];for(var i in e)t.push(i);return t.sort(function(t,i){if(e[t]<e[i])return-1;if(e[t]>e[i])return 1;return 0})}},misc:{setClock:function(){var e=new Date;var t=e.getUTCHours();if(t<10)t="0"+t;var i=e.getUTCMinutes();if(i<10)i="0"+i;$("#utc-time").text(t+":"+i)},setup_tab_hash:function(){var e="tab_";var t=document.location.hash;if(t){$(".nav-tabs a[href="+t.replace("#","#"+e)+"]").tab("show")}$('a[data-toggle="tab"]').on("shown",function(t){window.location.hash=t.target.hash.replace("#"+e,"#")})}}};$(document).ready(function(){var e=window.location.pathname;$("#nav-list li a").each(function(){if($(this).attr("href")==e){$(this).parent().addClass("active")}});$("[rel=tooltip]").tooltip();$(".dropdown-toggle").dropdown();$(".skill-hover").popover({animation:false,trigger:"hover",html:true});EVEthing.misc.setClock();window.setInterval(EVEthing.misc.setClock,5e3)});$.tablesorter.addParser({id:"human",is:function(e){return/^[0-9\,\.]+[KMB]?$/.test(e)},format:function(e){var e=e.replace(/\,/g,"");var t=e.length-1;var i=e.charAt(t);if(i=="K"){return e.substr(0,t)*1e3}else if(i=="M"){return e.substr(0,t)*1e6}else if(i=="B"){return e.substr(0,t)*1e9}else{return e}},type:"numeric"});$.extend($.tablesorter.themes.bootstrap,{icons:"",sortNone:"icon-sort",sortAsc:"icon-caret-up",sortDesc:"icon-caret-down"});function parseUri(e){var t=parseUri.options,i=t.parser[t.strictMode?"strict":"loose"].exec(e),a={},s=14;while(s--)a[t.key[s]]=i[s]||"";a[t.q.name]={};a[t.key[12]].replace(t.q.parser,function(e,i,s){if(i)a[t.q.name][i]=s});return a}parseUri.options={strictMode:false,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}};function parseQueryString(){var e=(window.location.search||"?").substr(1),t={};e.replace(/([^&=]+)=?([^&]*)(?:&+|$)/g,function(e,i,a){(t[i]=t[i]||[]).push(a)});return t}Handlebars.getTemplate=function(e){if(Handlebars.templates===undefined||Handlebars.templates[e]===undefined){$.ajax({url:"/static/handlebars/"+e+".handlebars",success:function(t){if(Handlebars.templates===undefined){Handlebars.templates={}}Handlebars.templates[e]=Handlebars.compile(t)},async:false})}return Handlebars.templates[e]};EVEthing.account={savedTD:null,savedHTML:null,masks:{2:"AssetList",8:"CharacterSheet",128:"IndustryJobs",4096:"MarketOrders",262144:"SkillQueue",524288:"Standings",2097152:"WalletJournal",4194304:"WalletTransactions",33554432:"AccountStatus",67108864:"Contracts",134217728:"Locations"},onload:function(){EVEthing.misc.setup_tab_hash();$("#key-table").on("click",".js-edit-name, .js-edit-group-name",function(e){$("#key-table form").remove();var t=$(this).parents("tr").attr("data-id");var i=$(this).parent().text();if(EVEthing.account.savedTD){$(EVEthing.account.savedTD).html(EVEthing.account.savedHTML);
EVEthing.account.savedTD=null;EVEthing.account.savedHTML=null}EVEthing.account.savedTD=$(this).parent();EVEthing.account.savedHTML=EVEthing.account.savedTD.html();if($(this).hasClass("js-edit-group-name")){var a="group_name";var s="name"}else{var a="name";var s="group_name"}var r=[];$(this).parent().html(r.join(""));$("#magic_keyname").focus()});$("#key-table").on("click",".js-delete",function(e){var t=$(this).parents("tr").attr("data-id");var i=$.trim($("td:nth-child(5)",$(this).parents("tr")).text());$("#delete-keyid-input").val(t);$("#delete-keyid").text(t);$("#delete-keyname").text(i)});$("#key-table").on("click",".js-purge",function(e){var t=$(this).parents("tr").attr("data-id");var i=$.trim($("td:nth-child(5)",$(this).parents("tr")).text());$("#purge-keyid-input").val(t);$("#purge-keyid").text(t);$("#purge-keyname").text(i)});$(".edit-skillplan").on("click",function(e){var t=$(this).parents("tr").attr("data-id");var i=$("td:nth-child(2)",$(this).parents("tr")).text();var a=$(this).parents("tr").attr("data-vis");$("#edit-skillplan-id").val(t);$("#edit-skillplan-name").val(i);$("#edit-skillplan-visibility").val(a)});$(".delete-skillplan").on("click",function(e){var t=$(this).parents("tr").attr("data-id");var i=$("td:nth-child(2)",$(this).parents("tr")).text();$("#delete-skillplan-id").val(t);$("#delete-skillplan-name").text(i)});$("#build-table").on("change",".apikey-build",EVEthing.account.build_apikey);EVEthing.account.build_apikey();EVEthing.account.HOME_GROUP_DATALIST=$("datalist#home_groups");EVEthing.account.build_home_group_list();$('tbody.characters input[type="text"]').change(EVEthing.account.build_home_group_list);$.tablesorter.addParser({id:"inputValueParser",is:function(e,t,i){return $(i).find("input").length>0},format:function(e,t,i,a){var s=$($(i).find("input")[0]);if(s.attr("type")=="checkbox"){return s[0].checked==true?"0":"1"}return s.val()},parsed:true,type:"text"});$("table.characters").tablesorter({uitheme:"bootstrap"})},HOME_GROUP_DATALIST:null,build_home_group_list:function(){EVEthing.account.HOME_GROUP_DATALIST.empty();var e={};var t=$('tbody.characters input[type="text"]');for(var i=0;i<t.length;i++){var a=$(t[i]).val();if(!(a in e)){e[a]=true}}e=Object.keys(e);e.sort();for(var i in e){EVEthing.account.HOME_GROUP_DATALIST.append($('<option value="'+e[i]+'" />'))}},build_apikey:function(){$("#apikey-required").empty();var e=0;$(".apikey-build:checked").each(function(){masks=$(this).attr("data-masks").split(";");for(i in masks){mask=parseInt(masks[i]);if((e&mask)==0){e+=mask;$("#apikey-required").append("<li>"+EVEthing.account.masks[mask]+"</li>")}}});$("#apikey-link").attr("href","https://community.eveonline.com/support/api-key/CreatePredefined?accessMask="+e);if(e==0){$("#apikey-required").append("<li>None</li>")}}};EVEthing.assets={onload:function(){EVEthing.filters.bind_events();EVEthing.filters.load_filters(EVEthing.assets.filters);$("#sidenav").affix({offset:EVEthing.assets.sidenav_offset})},filter_onload:function(){$(".asset-expand").on("click",function(){var e=$(this);if(e.hasClass("icon-chevron-right")){e.addClass("icon-chevron-down").removeClass("icon-chevron-right");$(e.attr("data-target")).show()}else{e.addClass("icon-chevron-right").removeClass("icon-chevron-down");$(e.attr("data-target")).hide()}});$(".asset-eft").on("click",function(){var e=$(this);var t=$("i:nth-child(1)",e.parent()).attr("data-target");var i=$.trim($(".asset-ship-type",e.parent()).text());var a=$.trim($(".asset-ship-name",e.parent()).text());if(!a){a="From Assets"}var s=null;var r="["+i+", "+a+"]\n";$(t).each(function(){var e=$.trim($("td:nth-child(4)",$(this)).text());if(e.substr(-4)=="Slot"){if(s&&s!=e){r+="\n"}s=e;var t=$.trim($("td:nth-child(2)",$(this)).text());r+=t+"\n"}});$("#eft-textarea").val(r);$("#eft-modal").modal("show")});$("#eft-modal").on("shown",function(){$("#eft-textarea").select()})},sidenav_offset:{top:function(){var e=$(window).height();var t=$("#sidenav").height();if(e>=t+75){return $("#total").offset().top}else{return 999999}}}};EVEthing.blueprints={onload:function(){$("#checkall").on("click",function(){$(".js-check").prop("checked",this.checked?"checked":false)});$(".bp-edit").on("click",function(){$tr=$(this).parents("tr");$("#bp-edit-bpi_id").attr("value",$tr.find("td").eq(0).text());$("#bp-edit-name").val($tr.find("td").eq(1).text());$("#bp-edit-ml").val($tr.find("td").eq(3).text());$("#bp-edit-pl").val($tr.find("td").eq(4).text());$("#edit-blueprint").modal("show")});$(".bp-delete").on("click",function(){$tr=$(this).parents("tr");$("#bp-del-bpi_id").attr("value",$tr.find("td").eq(0).text());$("#bp-del-id").text($tr.find("td").eq(0).text());$("#bp-del-name").text($tr.find("td").eq(1).text());$("#bp-del-type").text($tr.find("td").eq(2).text());$("#bp-del-ml").text($tr.find("td").eq(3).text());$("#bp-del-pl").text($tr.find("td").eq(4).text());$("#del-blueprint").modal("show")})}};EVEthing.bpcalc={onload:function(){$("#build-table").tablesorter({headers:{1:{sorter:false},2:{sorter:"human"},3:{sorter:"human"},4:{sorter:false},5:{sorter:"human"},7:{sorter:false},8:{sorter:"human"},10:{sorter:false},11:{sorter:false},12:{sorter:false},13:{sorter:false},14:{sorter:false},15:{sorter:false}},sortList:[[8,1]]})},filter_profit:function(){var e=[];var t=$("#profit").attr("value");$("#build-table tbody tr").each(function(i,a){var s=$(a).children()[9];var r=parseFloat($(s).text().split("%")[0]);if(r>=t)e.push("bpi="+$(a).attr("data_bpi"))});var i=parseUri(window.location.href);var a=i.queryKey.days;window.location=i.path+"?days="+a+"&"+e.join("&")},filter_movement:function(){var e=[];var t=$("#movement").attr("value");$("#build-table tbody tr").each(function(i,a){var s=$(a).children()[14];var r=parseFloat($(s).text().split("%")[0]);if(r<t){e.push("bpi="+$(a).attr("data_bpi"))}});var i=parseUri(window.location.href);var a=i.queryKey.days;window.location=i.path+"?days="+a+"&"+e.join("&")},filter_slots:function(){var e=[];var t=$("#slots").val();$("#build-table tbody tr").each(function(i,a){if(i<t){e.push("bpi="+$(a).attr("data_bpi"))}});var i=parseUri(window.location.href);var a=i.queryKey.days;window.location=i.path+"?days="+a+"&"+e.join("&")},filter_checked:function(){var e=[];$("#build-table tbody tr td input").each(function(t,i){if(!i.checked){e.push("bpi="+$(i).closest("tr").attr("data_bpi"))}});var t=parseUri(window.location.href);var i=t.queryKey.days;window.location=t.path+"?days="+i+"&"+e.join("&")}};EVEthing.character={anon_checked:null,sidenav_top:0,onload:function(){EVEthing.misc.setup_tab_hash();$("#skillplans-toggle").on("click",function(){$("#skillplans-personal").toggle();$("#skillplans-global").toggle()});$("#settings-toggle").on("click",function(){$("#settings-box").toggle()});$("#public-checkbox").change(EVEthing.character.public_checkbox_change);EVEthing.character.public_checkbox_change();$("#anon-toggle").change(EVEthing.character.anon_toggle);EVEthing.character.anon_toggle($("#anon-toggle"));$("#settings-form").on("submit",EVEthing.character.settings_submit);$("#sidenav").affix({offset:EVEthing.character.sidenav_offset})},sidenav_offset:{top:function(){var e=window.innerHeight;var t=$("#sidenav").height();if(e>=t+75){return $("#sidenav-offset").offset().top-50}else{return 999999}}},public_checkbox_change:function(){if(this.checked){$(".disable-toggle").removeAttr("disabled")}else{$(".disable-toggle").attr("disabled","disabled")}},anon_toggle:function(){if($("#anon-toggle").is(":checked")){var e=$("#anon-key").val();if(e!==""){var t='<a href="'+EVEthing.character.anon_url.replace("zzzz",e)+'">Anonymized link</a>';$("#anon-key-label").html(t)}else{$("#anon-key-label").html('<i class="icon-anchor"></i> Save to get new link')}}else{$("#anon-key-label").empty()}},settings_submit:function(e){if(e.preventDefault){e.preventDefault()}$("#settings-status").html('<i class="icon-spinner icon-spin"></i> Saving...');$.post($(this).attr("action"),$(this).serialize(),function(e){if(typeof e==="object"){$("#anon-key").val(e.anon_key);$("#settings-status").html('<i class="icon-ok"></i> Saved!');EVEthing.character.anon_toggle()}else{$("#settings-status").html('<i class="icon-remove"></i> Error!')}});return false}};EVEthing.filters={comparisons:{eq:"==",ne:"!=",gt:">",gte:">=",lt:"<",lte:"<=","in":"contains",bt:"between"},bind_events:function(){$("#filters").on("click",".js-add",function(){$("#filters").append(EVEthing.filters.build());$(".date").datepicker()});$("#filters").on("click",".js-delete",function(){$(this).parent().remove();if($(".filter-type").length==0){$("#filters").append(EVEthing.filters.build())}});$("#filters").on("change",".filter-type",function(){var e=$(this);e.siblings("select, input").remove();e.after(EVEthing.filters.build_comparison(e.val(),undefined));var t=e.next();t.after(EVEthing.filters.build_value(e.val(),t.val(),""));$(".date").datepicker()});$("#filters").on("change",".filter-comp",function(){var e=$(this).prev();var t=$(this);var i=t.next();var a=t.val();if(a==="in"&&!i.is("input")||a==="bt"||a!=="in"&&a!=="bt"&&!i.is("select")){i.remove();t.after(EVEthing.filters.build_value(e.val(),t.val(),""));$(".date").datepicker()}});$("#filters").on("changeDate",".date",function(e){var t=$("span:first",$(this).parent().parent());var i=[];$.each($('input[type="text"]',t),function(e,t){i.push($(t).val())});$('input[type="hidden"]',t).val(i.join())});$(".date").datepicker()},load_filters:function(e){var t=0;$.each(e,function(e,i){for(var a=0;a<i.length;a++){$("#filters").append(EVEthing.filters.build(e,i[a][0],i[a][1]));t++}});if(t===0){$("#filters").append(EVEthing.filters.build())}},build:function(e,t,i){var a='<div class="control-group" style="margin: 0;">';a+='<select name="ft" class="filter-type input-medium">';a+='<option value=""></option>';$.each(EVEthing.util.sorted_keys(EVEthing.filters.expected),function(t,i){if(i===e){a+='<option value="'+i+'" selected>'+EVEthing.filters.expected[i].label+"</option>"}else{a+='<option value="'+i+'">'+EVEthing.filters.expected[i].label+"</option>"}});a+="</select>";if(e){a+=EVEthing.filters.build_comparison(e,t);a+=EVEthing.filters.build_value(e,t,i)}a+='&nbsp;<i class="js-add icon-plus clickable filter-icon"></i>';a+='<i class="js-delete icon-trash clickable filter-icon"></i>';a+="</div>";return a},build_comparison:function(e,t){html=' <select name="fc" class="filter-comp input-small">';for(var i in EVEthing.filters.expected[e].comps){var a=EVEthing.filters.expected[e].comps[i];if(a==t){html+='<option value="'+a+'" selected>'+EVEthing.filters.comparisons[a]+"</option>"}else{html+='<option value="'+a+'">'+EVEthing.filters.comparisons[a]+"</option>"}}html+="</select>";return html},build_value:function(e,t,i){html=" ";if(t=="in"){html+='<input name="fv" class="filter-value span2" type="text" value="'+i+'">'}else if(e=="date"){dates=i.split(",");for(var a=dates.length;a<2;a++){dates.push("")}html+="<span>";html+='<div class="input-append date" data-date="'+dates[0]+'" data-date-format="yyyy-mm-dd">';html+='<input type="text" class="input-small" value="'+dates[0]+'" readonly>';html+='<span class="add-on"><i class="icon-calendar"></i></span></div>';if(t=="bt"){html+=" and ";html+='<div class="input-append date" data-date="'+dates[1]+'" data-date-format="yyyy-mm-dd">';html+='<input type="text" class="input-small" value="'+dates[1]+'" readonly>';html+='<span class="add-on"><i class="icon-calendar"></i></span></div>'}html+='<input type="hidden" name="fv" value="">';html+="</span>"}else if(EVEthing.filters.data[e]){html+='<select name="fv" class="filter-value span2">';$.each(EVEthing.util.sorted_keys_by_value(EVEthing.filters.data[e]),function(t,a){var s=EVEthing.filters.data[e][a];if(a==i){html+='<option value="'+a+'" selected>'+s+"</option>"}else{html+='<option value="'+a+'">'+s+"</option>"}});html+="</select>"}else{html+='<input name="fv" class="filter-value span2" type="text" value="'+i+'">'}return html}};"use strict";Handlebars.registerHelper("lookup",function(e,t){if(e.hasOwnProperty(t))return e[t];return t});Handlebars.registerHelper("systems_details",function(e){if(EVEthing.home.SYSTEMS.hasOwnProperty(e)){return e+" - "+EVEthing.home.SYSTEMS[e]["constellation"]+" - "+EVEthing.home.SYSTEMS[e]["region"]}return""});Handlebars.registerHelper("roman",function(e){if(!+e)return false;var t=String(+e).split(""),i=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],a="",s=3;while(s--)a=(i[+t.pop()+s*10]||"")+a;return Array(+t.join("")+1).join("M")+a});Handlebars.registerHelper("comma",function(e){var t=e.toString().split(".");t[0]=t[0].replace(/\B(?=(\d{3})+(?!\d))/g,",");return t.join(".")});function __duration(e){var t=Math.floor(e/60);e=e%60;var i=Math.floor(t/60);t=t%60;var a=Math.floor(i/24);i=i%24;var s=[];if(a!=0)s[s.length]=a+"d";if(i!=0)s[s.length]=i+"h";if(t!=0)s[s.length]=t+"m";if(e!=0)s[s.length]=e+"s";return s}Handlebars.registerHelper("duration",function(e){return __duration(e).join(" ")});Handlebars.registerHelper("shortduration",function(e){var t=__duration(e);var i=[];if(t.length>2){i[0]=t[0];i[1]=t[1]}else{i=t}return i.join(" ")});if(typeof EVEthing==="undefined")EVEthing={};EVEthing.home={ONE_DAY:24*60*60,EXPIRE_WARNING:10*24*60*60,REPLACEMENTS:{"character-name":"Character Name","apikey-name":"API name","corporation-name":"Corporation Name [TICKR]","character-location":"Hoth -- X-Wing","wallet-division":"Hookers & Blow","user-name":"Mr. User"},SP_PER_LEVEL:{0:0,1:250,2:1415,3:8e3,4:45255,5:256e3},PROFILE:{CHAR_COL_SPAN:3,HOME_SHOW_LOCATIONS:true,HOME_SHOW_SEPARATORS:true,HOME_SORT_ORDER:"apiname"},SORT_PROFILE_TO_FUNC_MAP:{apiname:"api_name",charname:"char_name",corpname:"corp_name",totalsp:"total_sp",wallet:"wallet_balance"},SHIPS:{},CORPORATIONS:{},ALLIANCES:{},SYSTEMS:{},CHARACTERS:{},EVENTS:[],CHARACTER_TEMPLATE:Handlebars.getTemplate("home_character"),CHARACTER_ORDER:[],REFRESH_HINTS:{skill_queue:{},account:{},details:{}}};EVEthing.home.onload=function(){$("body").on("click",".js-screenshot",EVEthing.home.screenshot_mode);EVEthing.home.initialLoad();window.requestAnimationFrame(function(){EVEthing.home.animate(Math.round((new Date).getTime()/1e3)-10)})};EVEthing.home.animate=function(e){var t=Math.round((new Date).getTime()/1e3);if(t-e<1){window.requestAnimationFrame(function(){EVEthing.home.animate(e)})}else{window.requestAnimationFrame(function(){EVEthing.home.animate(t)});var i=0;for(var a in EVEthing.home.CHARACTERS){if(EVEthing.home.CHARACTERS.hasOwnProperty(a)){var s=EVEthing.home.CHARACTERS[a].animate(t);i=i+s["total_sp"]}}$('output[name="total_sp"]').val(Handlebars.helpers.comma(i)+" ISK");for(var a in EVEthing.home.EVENTS){if(EVEthing.home.EVENTS.hasOwnProperty(a))EVEthing.home.EVENTS[a].animate(t)}}};EVEthing.home.draw_characters=function(){if(EVEthing.home.CHARACTER_ORDER.length!=EVEthing.home.CHARACTERS.length)EVEthing.home.sort_characters();for(var e=0;e<EVEthing.home.GroupDisplay.GROUP_ORDER.length;e++){EVEthing.home.GroupDisplay.GROUPS[EVEthing.home.GroupDisplay.GROUP_ORDER[e]].draw();EVEthing.home.GroupDisplay.GROUPS[EVEthing.home.GroupDisplay.GROUP_ORDER[e]].html.insertAfter(".summary-row")}};EVEthing.home.character_ordering={};EVEthing.home.character_ordering.skill_queue=function(e,t){return EVEthing.home.CHARACTERS[t].character.skill_queue_duration-EVEthing.home.CHARACTERS[e].character.skill_queue_duration};EVEthing.home.character_ordering.skill_queue.NAME="Skill Queue Duration";EVEthing.home.character_ordering.api_name=function(e,t){return EVEthing.home.CHARACTERS[e].character.apikey.name.localeCompare(EVEthing.home.CHARACTERS[t].character.apikey.name)};EVEthing.home.character_ordering.api_name.NAME="API Name";EVEthing.home.character_ordering.char_name=function(e,t){return EVEthing.home.CHARACTERS[e].character.name.localeCompare(EVEthing.home.CHARACTERS[t].character.name)};EVEthing.home.character_ordering.char_name.NAME="Character Name";EVEthing.home.character_ordering.corp_name=function(e,t){var i=EVEthing.home.CHARACTERS[e].character.corporation;var a=EVEthing.home.CHARACTERS[t].character.corporation;return EVEthing.home.CORPORATIONS[i].name.localeCompare(EVEthing.home.CORPORATIONS[a].name)};EVEthing.home.character_ordering.corp_name.NAME="Corporation Name";EVEthing.home.character_ordering.total_sp=function(e,t){return EVEthing.home.CHARACTERS[e].character.details.total_sp-EVEthing.home.CHARACTERS[t].character.details.total_sp};EVEthing.home.character_ordering.total_sp.NAME="Total Skill Points";EVEthing.home.character_ordering.wallet_balance=function(e,t){return EVEthing.home.CHARACTERS[e].character.details.wallet_balance-EVEthing.home.CHARACTERS[t].character.details.wallet_balance};EVEthing.home.character_ordering.wallet_balance.NAME="Wallet Ballance";EVEthing.home.sort_characters=function(){if(EVEthing.home.CHARACTER_ORDER.length!=EVEthing.home.CHARACTERS.length){EVEthing.home.CHARACTER_ORDER=Object.keys(EVEthing.home.CHARACTERS)}var e=[];for(var t in arguments){if(!arguments.hasOwnProperty(t))continue;e[e.length]=arguments[t]}if(e.length==0&&EVEthing.home.SORT_PROFILE_TO_FUNC_MAP.hasOwnProperty(EVEthing.home.PROFILE.HOME_SORT_ORDER)){var i=EVEthing.home.SORT_PROFILE_TO_FUNC_MAP[EVEthing.home.PROFILE.HOME_SORT_ORDER];if(EVEthing.home.character_ordering.hasOwnProperty(i)){e[0]=EVEthing.home.character_ordering[i]}}if(e.length==0){for(var t in EVEthing.home.character_ordering){if(!EVEthing.home.character_ordering.hasOwnProperty(t))continue;e[e.length]=EVEthing.home.character_ordering[t]}}for(var t=0;t<e.length;t++){EVEthing.home.CHARACTER_ORDER.sort(e[t])}};EVEthing.home.initialLoad=function(){$.get("home/api",{options:["characters","details","corporations","alliances","skill_queues","event_log","summary","systems"]},EVEthing.home.handleResponse)};EVEthing.home.handleResponse=function(e,t,i){if(e.hasOwnProperty("ships")){EVEthing.home.parseShips(e);delete e["ships"]}if(e.hasOwnProperty("alliances")){EVEthing.home.parseAlliances(e);delete e["alliances"]}if(e.hasOwnProperty("corporations")){EVEthing.home.parseCorporations(e);delete e["corporations"]}if(e.hasOwnProperty("systems")){EVEthing.home.parseSystems(e);delete e["systems"]}if(e.hasOwnProperty("characters")){var a=0;for(var s in e.characters){if(!e.characters.hasOwnProperty(s))continue;if(EVEthing.home.CHARACTERS.hasOwnProperty(s))EVEthing.home.CHARACTERS[s].update(e);EVEthing.home.CHARACTERS[s]=new EVEthing.home.CharacterDisplay(s,e);EVEthing.home.GroupDisplay.addCharacter(EVEthing.home.CHARACTERS[s]);a=a+parseFloat(EVEthing.home.CHARACTERS[s].character.details.wallet_balance)}$('output[name="total_wallet"]').val(Handlebars.helpers.comma(a.toFixed(2))+" ISK")}if(e.hasOwnProperty("events")){for(var s in e.events){if(!e.events.hasOwnProperty(s))continue;EVEthing.home.EVENTS[s]=new EVEthing.home.EventDisplay(e.events[s]["text"],e.events[s]["issued"]);$(".events").append(EVEthing.home.EVENTS[s].html)}}if(e.hasOwnProperty("summary")){if(e.summary.hasOwnProperty("total_assets")){$('output[name="personal_assets"]').val(Handlebars.helpers.comma(e.summary.total_assets)+" ISK")}}EVEthing.home.draw_characters()};EVEthing.home.parseShips=function(e){for(var t in e.ships){if(!e.ships.hasOwnProperty(t))continue;EVEthing.home.SHIPS[t]=e.ships[t]}};EVEthing.home.parseAlliances=function(e){for(var t in e.alliances){if(!e.alliances.hasOwnProperty(t))continue;EVEthing.home.ALLIANCES[t]=e.alliances[t]}};EVEthing.home.parseCorporations=function(e){for(var t in e.corporations){if(!e.corporations.hasOwnProperty(t))continue;EVEthing.home.CORPORATIONS[t]=e.corporations[t]}};EVEthing.home.parseSystems=function(e){for(var t in e.systems){if(!e.systems.hasOwnProperty(t))continue;EVEthing.home.SYSTEMS[t]=e.systems[t]}};EVEthing.home.screenshot_mode=function(){$(".sensitive").each(function(){var e=$(this);var t=e.attr("oldname");if(t===undefined){e.attr("oldname",e.text());var i=e.attr("class").split(/\s+/);for(var a=0;a<i.length;a++){var s=EVEthing.home.REPLACEMENTS[i[a]];if(s!==undefined){e.text(s);break}}}else{e.text(t);e.removeAttr("oldname")}});var e=Array();$(".row-fluid").each(function(){var t=$(this);$(".well",t).each(function(){var t=$(this);var i=false;$("[rel=tooltip]",t).each(function(){var t=$(this);if(i==false&&e[t.attr("class")]===undefined){i=true;e[t.attr("class")]=true;if(t.attr("shown")===undefined){t.tooltip("show");t.attr("shown","yup")}else{t.tooltip("hide");t.removeAttr("shown")}}})})})};EVEthing.home.GroupDisplay=function(e){this.name=e;this.characters=[];this.html=null};EVEthing.home.GroupDisplay.GROUP_ORDER=[];EVEthing.home.GroupDisplay.GROUPS={};EVEthing.home.GroupDisplay.addCharacter=function(e){if(!EVEthing.home.GroupDisplay.GROUPS.hasOwnProperty(e.character.config.home_group)){EVEthing.home.GroupDisplay.GROUPS[e.character.config.home_group]=new EVEthing.home.GroupDisplay(e.character.config.home_group);EVEthing.home.GroupDisplay.GROUP_ORDER[EVEthing.home.GroupDisplay.GROUP_ORDER.length]=e.character.config.home_group;EVEthing.home.GroupDisplay.GROUP_ORDER.sort().reverse()}EVEthing.home.GroupDisplay.GROUPS[e.character.config.home_group].add(e)};EVEthing.home.GroupDisplay.prototype.add=function(e){this.characters[this.characters.length]=e.character_id};EVEthing.home.GroupDisplay.prototype.draw=function(){if(this.html!==null)this.html.remove();this.html=$('<div class="margin-half-top"></div>');this.html.append($("<p>"+this.name+"</p>"));var e=$('<div class="row-fluid"></div>');var t=[];for(var i=0;i<EVEthing.home.CHARACTER_ORDER.length;i++){if(e.children().length>=4){this.html.append(e);e=$('<div class="row-fluid"></div>')}if(this.characters.indexOf(EVEthing.home.CHARACTER_ORDER[i])>=0){var a=true;if(EVEthing.home.CHARACTERS[EVEthing.home.CHARACTER_ORDER[i]].character.hasOwnProperty("skill_queue")){if(EVEthing.home.CHARACTERS[EVEthing.home.CHARACTER_ORDER[i]].character.skill_queue.length>0){a=false;e.append(EVEthing.home.CHARACTERS[EVEthing.home.CHARACTER_ORDER[i]].well)}}if(a){t[t.length]=EVEthing.home.CHARACTER_ORDER[i]}}}for(var i=0;i<t.length;i++){if(e.children().length>=4){this.html.append(e);e=$('<div class="row-fluid"></div>')}e.append(EVEthing.home.CHARACTERS[t[i]].well)}this.html.append(e)};EVEthing.home.EventDisplay=function(e,t){this.issued=Math.round(new Date(t+"+00:00").getTime()/1e3);this.html=$("<li></li>");this.age=$("<span></span>");this.text=$("<span></span>");this.text.html(e);this.html.append(this.age);this.html.append($("<strong> / </strong>"));this.html.append(this.text)};EVEthing.home.EventDisplay.prototype.animate=function(e){this.age.text(Handlebars.helpers.shortduration(e-this.issued)+" ago")};EVEthing.home.CharacterDisplay=function(e,t){this.character_id=e;this.well=$("<div></div>");this.well.addClass("span"+EVEthing.home.PROFILE.CHAR_COL_SPAN);this.html=null;if(typeof t!="undefined"){this.parseResponse(t)}else{this.load()}};EVEthing.home.CharacterDisplay.prototype.load=function(){};EVEthing.home.CharacterDisplay.prototype.update=function(){};EVEthing.home.CharacterDisplay.prototype.animate=function(e){var t=false;var i=false;var a=this.character.details.total_sp;var s=true;if(this.character.hasOwnProperty("skill_queue")){if(this.character.skill_queue.length>0){s=false;while(this.character.skill_queue[0].end_time<e){this.character.details.total_sp=this.character.details.total_sp+this.character.skill_queue[0].end_sp-this.character.skill_queue[0].start_sp;this.character.skill_queue.shift();a=this.character.details.total_sp;this.render()}var r=this.character.skill_queue[0].end_time-Math.round((new Date).getTime()/1e3);var n=r*(this.character.skill_queue[0].sp_per_minute/60);var o=EVEthing.home.SP_PER_LEVEL[this.character.skill_queue[0].to_level-1]*this.character.skill_queue[0].skill.rank;var l=EVEthing.home.SP_PER_LEVEL[this.character.skill_queue[0].to_level]*this.character.skill_queue[0].skill.rank;var c=l-o;a=Math.round(a+(c-n));this.well.find(".total-sp").text(Handlebars.helpers.comma(a)+" SP");var h=(c-n)/c*100;this.well.find(".progress .bar").text(h.toFixed(1)+"%").css("width",h+"%");this.well.find(".skillduration").text(Handlebars.helpers.duration(r)+" @ "+Handlebars.helpers.comma(this.character.skill_queue[0].sp_per_hour)+" SP/h");var f=r;for(var d=1;d<this.character.skill_queue.length;d++){f+=this.character.skill_queue[d].end_time-this.character.skill_queue[d].start_time}this.well.find(".queueduration").text(Handlebars.helpers.shortduration(f));if(!this.character.config.home_suppress_low_skill_queue){if(f<EVEthing.home.ONE_DAY){this.well.find(".progress").addClass("progress-danger");this.well.find(".home-notifications .low-skill-queue").show();this.well.find(".home-notifications .low-skill-queue span").text(Handlebars.helpers.shortduration(r));i=true}else{this.well.find(".progress").removeClass("progress-danger");this.well.find(".home-notifications .low-skill-queue").hide()}}if(!this.character.config.home_suppress_implants){if(this.character.details[this.character.skill_queue[0].skill.primary_attribute[1]]==0||this.character.details[this.character.skill_queue[0].skill.secondary_attribute[1]]==0){var u="";if(this.character.details[this.character.skill_queue[0].skill.primary_attribute[1]]==0){var p=this.character.skill_queue[0].skill.primary_attribute[1].split("_")[0];u=p.charAt(0).toUpperCase()+p.slice(1)}if(this.character.details[this.character.skill_queue[0].skill.secondary_attribute[1]]==0){var p=this.character.skill_queue[0].skill.secondary_attribute[1].split("_")[0];if(u!="")u=u+", ";u=u+p.charAt(0).toUpperCase()+p.slice(1)}this.well.find(".home-notifications .implants span").text(u);this.well.find(".home-notifications .implants").show();t=true}else{this.well.find(".home-notifications .implants").hide()}}}}if(!this.character.config.home_suppress_empty_skill_queue){if(s){this.well.find(".home-notifications .empty-skill-queue").show();i=true}else{this.well.find(".home-notifications .empty-skill-queue").hide()}}if(this.character.details.clone_skill_points<a){t=true;this.well.find(".home-notifications .clone").show();this.well.find(".home-notifications .clone span").text(Handlebars.helpers.comma(this.character.details.clone_skill_points))}else{this.well.find(".home-notifications .clone").hide()}if(this.character.apikey.expires){if(this.character.apikey.expires-e<EVEthing.home.EXPIRE_WARNING){this.well.find(".home-notifications .key-expiring").show()}else{this.well.find(".home-notifications .key-expiring").hide()}}var m=this.character.apikey.paid_until-e;if(m<0){if(!this.character.config.home_suppress_no_game_time){i=true;this.well.find(".home-notifications .no-game-time").show()}}else{this.well.find(".home-notifications .no-game-time").hide();if(m<EVEthing.home.EXPIRE_WARNING){if(!this.character.config.home_suppress_low_game_time){t=true;this.well.find(".home-notifications .low-game-time").show();this.well.find(".home-notifications .low-game-time").text(Handlebars.helpers.shortduration(m))}}else{this.well.find(".home-notifications .low-game-time").hide()}}if(t||i){this.well.find(".home-notifications").show()}else{this.well.find(".home-notifications").hide()}this.well.find(".well").removeClass("background-error border-error");this.well.find(".well").removeClass("background-warn border-warn");this.well.find(".well").removeClass("background-success border-success");if(i){this.well.find(".well").addClass("background-error border-error")}else{if(t){this.well.find(".well").addClass("background-warn border-warn")}else{this.well.find(".well").removeClass("background-warn border-warn")}}return{total_sp:a}};EVEthing.home.CharacterDisplay.prototype.parseResponse=function(e){this.character=e.characters[this.character_id];if(this.character.hasOwnProperty("skill_queue")){for(var t=0;t<this.character.skill_queue.length;t++){var i=0;i+=this.character.details[this.character.skill_queue[t].skill.primary_attribute[0]];i+=this.character.details[this.character.skill_queue[t].skill.primary_attribute[1]];var a=0;a+=this.character.details[this.character.skill_queue[t].skill.secondary_attribute[0]];a+=this.character.details[this.character.skill_queue[t].skill.secondary_attribute[1]];this.character.skill_queue[t].sp_per_minute=i+a/2;this.character.skill_queue[t].sp_per_hour=this.character.skill_queue[t].sp_per_minute*60;this.character.skill_queue[t].end_time=Math.round(new Date(this.character.skill_queue[t].end_time+"+00:00").getTime()/1e3);this.character.skill_queue[t].start_time=Math.round(new Date(this.character.skill_queue[t].start_time+"+00:00").getTime()/1e3)}}if(!this.character.hasOwnProperty("skill_queue_duration"))this.character.skill_queue_duration=0;if(this.character.apikey.expires)this.character.apikey.expires=Math.round(new Date(this.character.apikey.expires+"+00:00").getTime()/1e3);if(this.character.apikey.paid_until)this.character.apikey.paid_until=Math.round(new Date(this.character.apikey.paid_until+"+00:00").getTime()/1e3);if(e.hasOwnProperty("ships"))EVEthing.home.parseShips(e);if(e.hasOwnProperty("alliances"))EVEthing.home.parseAlliances(e);if(e.hasOwnProperty("corporations"))EVEthing.home.parseCorporations(e);if(e.hasOwnProperty("systems"))EVEthing.home.parseSystems(e);this.html=this.render()};EVEthing.home.CharacterDisplay.prototype.render=function(){this.html=$(EVEthing.home.CHARACTER_TEMPLATE({character:this.character,profile:EVEthing.home.PROFILE,ships:EVEthing.home.SHIPS,corporations:EVEthing.home.CORPORATIONS,alliances:EVEthing.home.ALLIANCES}));this.html.find('[rel="popover"]').popover({animation:false,trigger:"hover",html:true});this.html.find('[rel="tooltip"]').tooltip({animation:false,trigger:"hover",html:true});this.well.empty();this.well.append(this.html)};EVEthing.industry={onload:function(){EVEthing.misc.setup_tab_hash()}};EVEthing.mail={onload:function(){$("#mail-side").on("click",".js-filter",function(){setTimeout(EVEthing.mail.build_table,1)});$("#mail-side").on("change","select",EVEthing.mail.build_table);$("#mail-mark-read-button").on("click",EVEthing.mail.mark_read_click);$("#mail-list-check-all").on("click",EVEthing.mail.mail_check_all_click);$("#mail-list-table").on("click",".mail-link",EVEthing.mail.mail_link_click);$(window).on("resize",EVEthing.mail.resize);EVEthing.mail.resize();var e='<option value="0" selected>-ALL-</option><option value="-" disabled>——————————</option>';$.each(EVEthing.util.sorted_keys_by_value(EVEthing.mail.characters),function(t,i){e+='<option value="'+i+'">'+EVEthing.mail.characters[i]+"</option>"});$("#filter-character").html(e);$("#mail-list-table").tablesorter({theme:"bootstrap",headerTemplate:"{content} {icon}",widgets:["uitheme"],headers:{0:{sorter:false}},sortList:[[4,1]]});EVEthing.mail.onload_hash();$.get(EVEthing.mail.headers_url,function(e){EVEthing.mail.data=e;EVEthing.mail.data.message_map={};for(var t=0;t<e.messages.length;t++){message=e.messages[t];EVEthing.mail.data.message_map[message.message_id]=message;if(message.to_list_id>0){var i=EVEthing.mail.data.mailing_lists[message.to_list_id]||"Unknown list";message.to_list='<i class="icon-list"></i> '+i}else if(message.to_corp_or_alliance_id>0){var a=EVEthing.mail.data.corporations[message.to_corp_or_alliance_id];if(a!==undefined){message.to_corporation='<i class="icon-group"></i> '+a.name}else{var s=EVEthing.mail.data.alliances[message.to_corp_or_alliance_id];if(s!==undefined){message.to_alliance='<i class="icon-hospital"></i> '+s.name}else{message.to_alliance='<i class="icon-hospital"></i> Unknown alliance'}}}else{if(message.to_characters.length>0){if(message.to_characters.length>1){message.to_character='<i class="icon-asterisk"></i> Multiple characters'}else{message.to_character=EVEthing.mail.data.characters[message.to_characters[0]]||"*UNKNOWN*"}}else{message.to_character=EVEthing.mail.data.characters[message.character_id]||"*UNKNOWN*"}}}$("#mail-list-loading").remove();EVEthing.mail.build_table()});Handlebars.registerHelper("rowClass",function(){if(this.read){return new Handlebars.SafeString(' class="success"')}else{return new Handlebars.SafeString(' class="error"')}});Handlebars.registerHelper("toText",function(){return new Handlebars.SafeString(this.to_list||this.to_alliance||this.to_corporation||this.to_character)
});Handlebars.registerHelper("senderText",function(){return EVEthing.mail.data.characters[this.sender_id]||"*UNKNOWN*"});Handlebars.registerHelper("subjectText",function(){return this.title||"*BLANK SUBJECT*"})},onload_hash:function(){var e=document.location.hash.replace("#","").split(";");if(e.length===2){var t=e[0].split("");if(t.length===6){if(t[0]==="f"){$("#filter-unread").removeClass("active")}else{$("#filter-unread").addClass("active")}if(t[1]==="f"){$("#filter-read").removeClass("active")}else{$("#filter-read").addClass("active")}$("#filter-to-character").prop("checked",t[2]==="f"?false:"checked");$("#filter-to-corporation").prop("checked",t[3]==="f"?false:"checked");$("#filter-to-alliance").prop("checked",t[4]==="f"?false:"checked");$("#filter-to-mailing-list").prop("checked",t[5]==="f"?false:"checked");$("#filter-character").val(e[1])}}},resize:function(e){var t=($("#wrap").height()-$("#wrap .navbar").height()-$("#footer").height()-40)/2;var i={"min-height":t+"px","max-height":t+"px"};$(".mail-list").css(i);$(".mail-message").css(i)},build_table:function(){var e=Handlebars.getTemplate("mail_list");var t=$("#filter-unread").hasClass("active");var i=$("#filter-read").hasClass("active");var a=$("#filter-to-character").is(":checked");var s=$("#filter-to-corporation").is(":checked");var r=$("#filter-to-alliance").is(":checked");var n=$("#filter-to-mailing-list").is(":checked");var o=parseInt($("#filter-character").val());var l=0;var c="";for(var h=0;h<EVEthing.mail.data.messages.length;h++){var f=EVEthing.mail.data.messages[h];var d=true;var u=false;if(t&&!f.read){u=true}if(i&&f.read){u=true}d=u;if(d===false){continue}if(o>0&&f.character_id!==o&&f.to_characters.indexOf(o)<0){d=false}if(d===false){continue}keep_to=false;if(a&&f.to_character||s&&f.to_corporation||r&&f.to_alliance||n&&f.to_list){keep_to=true}if(d===true){d=keep_to}if(d===true){l++;c+=e(f)}}$("#mail-list-table tbody").html(c);if(l===0){$("#mail-list-filtered").show()}else{$("#mail-list-filtered").hide()}$("#mail-list-check-all").prop("checked",false);$("#mail-list-table").trigger("update");document.location.hash=[t?"t":"f",i?"t":"f",a?"t":"f",s?"t":"f",r?"t":"f",n?"t":"f",";",o].join("")},mark_read_click:function(){var e=$("#mail-mark-read-form");$.post(e.attr("action"),e.serialize(),function(e){$.each($("#mail-list-table tbody input:checked"),function(e,t){var i=$(t).closest("tr").attr("data-message-id");EVEthing.mail.data.message_map[i].read=true});EVEthing.mail.build_table()})},mail_check_all_click:function(){if($("#mail-list-check-all").is(":checked")){$("#mail-list-table tbody input").prop("checked","checked")}else{$("#mail-list-table tbody input").prop("checked",false)}},mail_link_click:function(e){if(e.preventDefault){e.preventDefault()}var t=$(this).closest("tr");var i=parseInt($(this).attr("href").replace("#",""));for(var a=0;a<EVEthing.mail.data.messages.length;a++){message=EVEthing.mail.data.messages[a];if(message.message_id===i){$("#mail-message-from").html(EVEthing.mail.data.characters[message.sender_id]||"*UNKNOWN*");$("#mail-message-subject").html(message.title);$("#mail-message-date").html(message.sent_date);var s=message.to_list||message.to_alliance||message.to_corporation;if(s===undefined){var r=[];for(var a=0;a<message.to_characters.length;a++){var n=message.to_characters[a];if(EVEthing.mail.characters[n]!==undefined){r.push("<strong>"+EVEthing.mail.characters[n]+"</strong>")}else{r.push(EVEthing.mail.data.characters[n]||"*UNKNOWN*")}}s=r.join(", ")}$("#mail-message-to").html(s);if(message.body!==undefined){$("#mail-message-body").html(message.body)}else{$("#mail-message-body").html('<i class="icon-spinner icon-spin icon-4x"></i>');var o=EVEthing.mail.body_url.replace("0000",i);$.get(o,function(e){if(e.body){t.removeClass("warning");message.body=e.body.replace(/\n/g,"<br>\n");message.read=true;$("#mail-message-body").html(message.body);EVEthing.mail.build_table()}else{$("#mail-message.body").html("<strong>ERROR:</strong> "+e.error)}})}break}}return false}};EVEthing.orders={onload:function(){$("[rel=tooltip]").each(function(){$(this).data("tooltip").options.placement="right"})}};EVEthing.transactions={onload:function(){var e=document.location.search;$("a").each(function(){var e=$(this).attr("href");if(e!==undefined&&e.substr(0,5)==="?page"){var t=parseQueryString();t.page=e.split(/=/)[1];$(this).attr("href","?"+$.param(t))}});EVEthing.filters.bind_events();EVEthing.filters.load_filters(EVEthing.transactions.filters)}};EVEthing.wallet_journal={onload:function(){var e=document.location.search;$("a").each(function(){var e=$(this).attr("href");if(e!==undefined&&e.substr(0,5)==="?page"){var t=parseQueryString();t.page=e.split(/=/)[1];$(this).attr("href","?"+$.param(t))}});EVEthing.filters.bind_events();EVEthing.filters.load_filters(EVEthing.wallet_journal.filters);$("#aggregate-form").submit(function(){var e=$(this).attr("action");var t=$("#filter-form, #aggregate-form").serialize();window.location.href=e+"?"+t;return false})}};
//# sourceMappingURL=/static/js/evething-combined.min.js.map